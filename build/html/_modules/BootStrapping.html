

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>BootStrapping &mdash; LQCD Analysis Codebase TF Fits documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/my_theme.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> LQCD Analysis Codebase
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">Python_Analysis</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">LQCD Analysis Codebase</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Module code</a> &raquo;</li>
        
      <li>BootStrapping</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for BootStrapping</h1><div class="highlight"><pre>
<span></span><span class="ch">#!/usr/bin/env python</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pa</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="kn">from</span> <span class="nn">XmlFormatting</span> <span class="k">import</span> <span class="n">MakeValAndErr</span>
<span class="kn">from</span> <span class="nn">MiscFuns</span> <span class="k">import</span> <span class="n">human_format</span><span class="p">,</span><span class="n">logNA</span>
<span class="kn">from</span> <span class="nn">Params</span> <span class="k">import</span> <span class="n">nboot</span><span class="p">,</span><span class="n">normed_histograms</span><span class="p">,</span><span class="n">percentile</span>
<span class="kn">from</span> <span class="nn">Params</span> <span class="k">import</span> <span class="n">Debug_Mode</span>


<div class="viewcode-block" id="BlockCfgs"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BlockCfgs">[docs]</a><span class="k">def</span> <span class="nf">BlockCfgs</span><span class="p">(</span><span class="n">cfg_list</span><span class="p">,</span><span class="n">n_block</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cfg_list</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
        <span class="n">cfg_list</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">cfg_list</span><span class="p">)</span>
    <span class="n">extra_len</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cfg_list</span><span class="p">)</span><span class="o">//</span><span class="n">n_block</span><span class="p">)</span><span class="o">*</span><span class="n">n_block</span>
    <span class="k">if</span> <span class="n">extra_len</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">b_vals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">([</span><span class="n">cfg_list</span><span class="p">[</span><span class="n">iblock</span><span class="p">::</span><span class="n">n_block</span><span class="p">]</span> <span class="k">for</span> <span class="n">iblock</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_block</span><span class="p">)],</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">bc_vals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="n">cfg_list</span><span class="o">.</span><span class="n">size</span><span class="p">,),</span><span class="n">dtype</span><span class="o">=</span><span class="n">b_vals</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_block</span><span class="p">):</span>
            <span class="n">bc_vals</span><span class="p">[</span><span class="n">i</span><span class="p">::</span><span class="n">n_block</span><span class="p">]</span> <span class="o">=</span> <span class="n">b_vals</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">b_vals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">([</span><span class="n">cfg_list</span><span class="p">[</span><span class="n">iblock</span><span class="p">:</span><span class="n">extra_len</span><span class="p">:</span><span class="n">n_block</span><span class="p">]</span> <span class="k">for</span> <span class="n">iblock</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_block</span><span class="p">)],</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">bc_vals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="n">cfg_list</span><span class="o">.</span><span class="n">size</span><span class="p">,),</span><span class="n">dtype</span><span class="o">=</span><span class="n">b_vals</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_block</span><span class="p">):</span>
            <span class="n">bc_vals</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">extra_len</span><span class="p">:</span><span class="n">n_block</span><span class="p">]</span> <span class="o">=</span> <span class="n">b_vals</span>
        <span class="n">bc_vals</span><span class="p">[</span><span class="n">extra_len</span><span class="p">:]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">cfg_list</span><span class="p">[</span><span class="n">extra_len</span><span class="p">:])</span>
    <span class="k">return</span> <span class="n">bc_vals</span></div>

<div class="viewcode-block" id="CombineBS"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.CombineBS">[docs]</a><span class="k">def</span> <span class="nf">CombineBS</span><span class="p">(</span><span class="n">this_series</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">resample</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">this_series</span><span class="p">,</span><span class="n">pa</span><span class="o">.</span><span class="n">Series</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="s1">&#39;please pass in Series to be combined</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span><span class="nb">type</span><span class="p">(</span><span class="n">this_series</span><span class="p">))</span>
    <span class="n">out_bs_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">ival</span> <span class="ow">in</span> <span class="n">this_series</span><span class="o">.</span><span class="n">values</span><span class="p">:</span>
        <span class="n">out_bs_list</span> <span class="o">+=</span> <span class="nb">list</span><span class="p">(</span><span class="n">ival</span><span class="o">.</span><span class="n">GetBootVals</span><span class="p">())</span>
    <span class="n">out_boot</span> <span class="o">=</span> <span class="n">BootStrap</span><span class="p">(</span><span class="n">thisnboot</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">out_bs_list</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span><span class="n">bootvals</span><span class="o">=</span><span class="n">out_bs_list</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">resample</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">False</span><span class="p">:</span>
        <span class="n">out_boot</span><span class="p">,</span><span class="n">dump</span> <span class="o">=</span> <span class="n">out_boot</span><span class="o">.</span><span class="n">ResampleBS</span><span class="p">(</span><span class="n">new_nboot</span><span class="o">=</span><span class="n">resample</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">out_boot</span></div>

<div class="viewcode-block" id="FlattenBootstrapDF"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.FlattenBootstrapDF">[docs]</a><span class="k">def</span> <span class="nf">FlattenBootstrapDF</span><span class="p">(</span><span class="n">this_df</span><span class="p">,</span><span class="n">this_nboot</span><span class="o">=</span><span class="n">nboot</span><span class="p">,</span><span class="n">reset_index</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">this_df</span><span class="p">,</span><span class="n">pa</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="s1">&#39;please pass in DataFrame to be flattened&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">reset_index</span><span class="p">:</span>
        <span class="n">this_df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">data_list</span><span class="p">,</span><span class="n">boot_index</span> <span class="o">=</span> <span class="p">[[]</span> <span class="k">for</span> <span class="n">ival</span> <span class="ow">in</span> <span class="n">this_df</span><span class="o">.</span><span class="n">columns</span><span class="p">],[]</span>
    <span class="n">boot_range</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">this_nboot</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">irow</span><span class="p">,</span><span class="n">row_data</span> <span class="ow">in</span> <span class="n">this_df</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
        <span class="k">if</span> <span class="nb">all</span><span class="p">([</span><span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">icol</span><span class="p">,</span><span class="n">BootStrap</span><span class="p">)</span> <span class="k">for</span> <span class="n">icol</span> <span class="ow">in</span> <span class="n">row_data</span><span class="o">.</span><span class="n">values</span><span class="p">]):</span>
            <span class="n">boot_index</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s1">&#39;NaN&#39;</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">icol</span><span class="p">,</span><span class="n">col_data</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">row_data</span><span class="o">.</span><span class="n">values</span><span class="p">):</span>
                <span class="n">data_list</span><span class="p">[</span><span class="n">icol</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">col_data</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">boot_index</span> <span class="o">+=</span> <span class="n">boot_range</span>
            <span class="k">for</span> <span class="n">icol</span><span class="p">,</span><span class="n">col_data</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">row_data</span><span class="o">.</span><span class="n">values</span><span class="p">):</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">col_data</span><span class="p">,</span><span class="n">BootStrap</span><span class="p">):</span>
                    <span class="n">data_list</span><span class="p">[</span><span class="n">icol</span><span class="p">]</span> <span class="o">=</span> <span class="n">data_list</span><span class="p">[</span><span class="n">icol</span><span class="p">]</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">col_data</span><span class="o">.</span><span class="n">GetBootVals</span><span class="p">())</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">data_list</span><span class="p">[</span><span class="n">icol</span><span class="p">]</span> <span class="o">=</span> <span class="n">data_list</span><span class="p">[</span><span class="n">icol</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">col_data</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">boot_range</span><span class="p">]</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">data_list</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">this_df</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">data_list</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;No Data Fround to flatten in FlattenBootstrapDF&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">this_df</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">out_df</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">this_df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
        <span class="n">out_df</span><span class="p">[</span><span class="s1">&#39;boot_index&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">boot_index</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">icol</span><span class="p">,</span><span class="n">col_data</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">this_df</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span><span class="n">data_list</span><span class="p">):</span>
            <span class="n">out_df</span><span class="p">[</span><span class="n">icol</span><span class="p">]</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">col_data</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">out_df</span></div>



<span class="n">startseed</span> <span class="o">=</span> <span class="mi">1234</span>


<span class="c1"># def MeanOfBoots(bootlist):</span>
<span class="c1">#     return np.mean(bootlist)</span>
<span class="c1">#     # return np.average(bootlist)</span>
<span class="c1">#     # return np.sum(np.array(bootlist)/float(len(bootlist)))</span>


<div class="viewcode-block" id="BootStrap"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap">[docs]</a><span class="k">class</span> <span class="nc">BootStrap</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Class that a single boostrapped quantity</span>
<span class="sd">        Xi for i cfgvals</span>
<span class="sd">    And Constructs boostrapped cfgvals</span>
<span class="sd">        Xb for b bootstraped values</span>

<span class="sd">    Most Arithmetic operations have been overloaded</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">parentlist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;SetOfCorrs.SetOfTwoPt&#39;</span><span class="p">,</span><span class="s1">&#39;TwoPtCorrelators.TwoPointCorr&#39;</span><span class="p">,</span><span class="s1">&#39;TwoPtCorrelators.TwoPointCorr&#39;</span><span class="p">,</span><span class="s1">&#39;TwoPtCorrelators.NNQCorr&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">thisnboot</span><span class="o">=</span><span class="n">nboot</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">cfgvals</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">,</span><span class="n">bootvals</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">,</span><span class="n">thisDelVal</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">rand_list</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">n_block</span> <span class="o">=</span> <span class="mi">1</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nboot</span> <span class="o">=</span> <span class="n">thisnboot</span>  <span class="c1"># number of bootstrap samples</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">nval</span> <span class="o">=</span> <span class="mf">0.0</span>  <span class="c1"># contains length of cfgvalsn</span>
        <span class="c1"># These are for legasy versions, that did not use pandas.</span>
        <span class="c1"># will eventually depreciate</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;bootvals&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;cfgvals&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blocked_bootvals</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blocked_cfgvals</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">=</span> <span class="n">n_block</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">block_sel</span> <span class="o">=</span> <span class="s1">&#39;block1&#39;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>  <span class="c1"># Give it a label if you want, might help with plotting?</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Avg</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Std</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Median</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">MedStd</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">MedStd_Low</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">MedStd_High</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rand_list</span> <span class="o">=</span> <span class="n">rand_list</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">bootvals</span><span class="p">,(</span><span class="nb">list</span><span class="p">,</span><span class="nb">tuple</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span><span class="n">pa</span><span class="o">.</span><span class="n">Series</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ImportBS</span><span class="p">(</span><span class="n">bootvals</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cfgvals</span><span class="p">,</span><span class="n">pa</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
                <span class="n">cfgvals</span> <span class="o">=</span> <span class="n">cfgvals</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cfgvals</span><span class="p">,(</span><span class="nb">list</span><span class="p">,</span><span class="nb">tuple</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span><span class="n">pa</span><span class="o">.</span><span class="n">Series</span><span class="p">)):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ImportData</span><span class="p">(</span><span class="n">cfgvals</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">MakeBS</span><span class="p">(</span><span class="n">DelVal</span><span class="o">=</span><span class="n">thisDelVal</span><span class="p">)</span>

<div class="viewcode-block" id="BootStrap.DivByLast"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.DivByLast">[docs]</a>    <span class="k">def</span> <span class="nf">DivByLast</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        hack function for if you append the bootstrap samples with</span>
<span class="sd">        the tree level result</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">this_bootvals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">BootStrap</span><span class="p">(</span><span class="n">thisnboot</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nboot</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span>
                         <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_div_tree&#39;</span><span class="p">,</span>
                         <span class="n">bootvals</span><span class="o">=</span><span class="n">this_bootvals</span><span class="p">,</span><span class="n">rand_list</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rand_list</span><span class="p">,</span>
                         <span class="n">n_block</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">n_block</span><span class="p">)</span></div>


<div class="viewcode-block" id="BootStrap.GetBootVals"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.GetBootVals">[docs]</a>    <span class="k">def</span> <span class="nf">GetBootVals</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="o">.</span><span class="n">values</span></div>

<div class="viewcode-block" id="BootStrap.GetCfgVals"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.GetCfgVals">[docs]</a>    <span class="k">def</span> <span class="nf">GetCfgVals</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span><span class="o">.</span><span class="n">values</span></div>

<div class="viewcode-block" id="BootStrap.GetAvg"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.GetAvg">[docs]</a>    <span class="k">def</span> <span class="nf">GetAvg</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Avg</span></div>

<div class="viewcode-block" id="BootStrap.GetStd"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.GetStd">[docs]</a>    <span class="k">def</span> <span class="nf">GetStd</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Std</span></div>

<div class="viewcode-block" id="BootStrap.GetAvgStd"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.GetAvgStd">[docs]</a>    <span class="k">def</span> <span class="nf">GetAvgStd</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Avg</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">Std</span></div>

<div class="viewcode-block" id="BootStrap.CheckBoot"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.CheckBoot">[docs]</a>    <span class="k">def</span> <span class="nf">CheckBoot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        check function to see if the class has performed the bootstrapping</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s1">&#39; has does not contain boostrapped values&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;NaN&#39;</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Bootstrap has NaN present, ignorning NaNs&#39;</span><span class="p">)</span></div>


<div class="viewcode-block" id="BootStrap.CheckBoot_Blocked"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.CheckBoot_Blocked">[docs]</a>    <span class="k">def</span> <span class="nf">CheckBoot_Blocked</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        check function to see if the class has performed the bootstrapping. Blocked version</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s1">&#39; has does not contain blocked boostrapped values&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">iblock</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="k">if</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;NaN&#39;</span><span class="p">)</span> <span class="ow">in</span> <span class="n">iblock</span><span class="p">:</span>
                    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Bootstrap has NaN present, ignorning NaNs&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="BootStrap.CheckCfgVals"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.CheckCfgVals">[docs]</a>    <span class="k">def</span> <span class="nf">CheckCfgVals</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        check function to see if the class still contains the configuration values for bootstrapping.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s1">&#39; has does not contain configuration values&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="BootStrap.CheckCfgVals_Blocked"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.CheckCfgVals_Blocked">[docs]</a>    <span class="k">def</span> <span class="nf">CheckCfgVals_Blocked</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        check function to see if the class still contains the configuration values for bootstrapping. Blocked version</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s1">&#39; has does not contain blocked configuration values&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="BootStrap.GetNaNIndex"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.GetNaNIndex">[docs]</a>    <span class="k">def</span> <span class="nf">GetNaNIndex</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">pa</span><span class="o">.</span><span class="n">isnull</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="p">)</span><span class="o">.</span><span class="n">nonzero</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span></div>

<div class="viewcode-block" id="BootStrap.GetNanIndex_cfgs"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.GetNanIndex_cfgs">[docs]</a>    <span class="k">def</span> <span class="nf">GetNanIndex_cfgs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">pa</span><span class="o">.</span><span class="n">isnull</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span><span class="p">)</span><span class="o">.</span><span class="n">nonzero</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="BootStrap.Stats"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.Stats">[docs]</a>    <span class="k">def</span> <span class="nf">Stats</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        computes all the important statistical quantities</span>
<span class="sd">        of the bootstrap samples.</span>

<span class="sd">        You usually call this at the end of your arithmetic</span>
<span class="sd">        manipulation.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">CheckBoot</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Avg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Std</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Median</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="o">.</span><span class="n">median</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">MedStd_Low</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">percentile</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">MedStd_High</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">percentile</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">MedStd</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">MedStd_High</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">MedStd_Low</span> <span class="p">)</span><span class="o">/</span><span class="mi">2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">MedStd_Up</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">MedStd_High</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">Median</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">MedStd_Down</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Median</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">MedStd_Low</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Min</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Max</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span></div>

<div class="viewcode-block" id="BootStrap.RemoveVals"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.RemoveVals">[docs]</a>    <span class="k">def</span> <span class="nf">RemoveVals</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        removes the configuration values from memory to free space</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;cfgvals&#39;</span><span class="p">)</span>
        <span class="c1"># self.cfgvals = None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nval</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blocked_cfgvals</span> <span class="o">=</span> <span class="p">{}</span></div>

<div class="viewcode-block" id="BootStrap.RemoveBoots"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.RemoveBoots">[docs]</a>    <span class="k">def</span> <span class="nf">RemoveBoots</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        removes the bootstrapped values from memory to free space</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;bootvals&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blocked_bootvals</span> <span class="o">=</span> <span class="p">{}</span></div>
        <span class="c1"># self.bootvals = None</span>

<div class="viewcode-block" id="BootStrap.BlockCfgs"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.BlockCfgs">[docs]</a>    <span class="k">def</span> <span class="nf">BlockCfgs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        performs a blocking on the configurations</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="p">[</span><span class="s1">&#39;block1&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span>
            <span class="k">for</span> <span class="n">iblock</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">n_block</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="p">[</span><span class="s1">&#39;block&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">iblock</span><span class="p">)]</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span><span class="o">.</span><span class="n">values</span><span class="p">[::</span><span class="n">iblock</span><span class="p">])</span>
                <span class="k">for</span> <span class="n">iib</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">iblock</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="p">[</span><span class="s1">&#39;block&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">iblock</span><span class="p">)]</span> <span class="o">+=</span> <span class="n">pa</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="n">iib</span><span class="p">::</span><span class="n">iblock</span><span class="p">])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="p">[</span><span class="s1">&#39;block&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">iblock</span><span class="p">)]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="p">[</span><span class="s1">&#39;block&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">iblock</span><span class="p">)]</span><span class="o">/</span><span class="n">iblock</span></div>

<div class="viewcode-block" id="BootStrap.ImportData"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.ImportData">[docs]</a>    <span class="k">def</span> <span class="nf">ImportData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">cfgvals</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; imports the configuration values &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cfgvals</span><span class="p">,</span><span class="n">pa</span><span class="o">.</span><span class="n">Series</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">=</span> <span class="n">cfgvals</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">cfgvals</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;cfgvals&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nval</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span><span class="o">.</span><span class="n">size</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">BlockCfgs</span><span class="p">()</span></div>


<div class="viewcode-block" id="BootStrap.ImportBS_Blocked"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.ImportBS_Blocked">[docs]</a>    <span class="k">def</span> <span class="nf">ImportBS_Blocked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">inputboot</span><span class="p">,</span><span class="n">this_block</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;This function does something.</span>

<span class="sd">        :param name: The name to use.</span>
<span class="sd">        :type name: str.</span>
<span class="sd">        :param state: Current state to be in.</span>
<span class="sd">        :type state: bool.</span>
<span class="sd">        :returns:  int -- the return code.</span>
<span class="sd">        :raises: AttributeError, KeyError</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">this_block</span><span class="p">,(</span><span class="nb">int</span><span class="p">,</span><span class="nb">float</span><span class="p">)):</span>
            <span class="n">this_block</span> <span class="o">=</span> <span class="s1">&#39;block&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">this_block</span><span class="p">))</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">inputboot</span><span class="p">,</span><span class="n">pa</span><span class="o">.</span><span class="n">Series</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">inputboot</span><span class="o">.</span><span class="n">dtype</span><span class="p">,(</span><span class="nb">int</span><span class="p">,</span><span class="nb">float</span><span class="p">,</span><span class="nb">complex</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">dtype</span><span class="p">))</span> <span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">inputboot</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Class got passed to bootvals, or multiple keys exist&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">inputboot</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">nboot</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="p">[</span><span class="n">this_block</span><span class="p">]</span> <span class="o">=</span> <span class="n">inputboot</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="s1">&#39;nboots dont match up&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">inputboot</span><span class="p">[</span><span class="mi">0</span><span class="p">],(</span><span class="nb">int</span><span class="p">,</span><span class="nb">float</span><span class="p">,</span><span class="nb">complex</span><span class="p">))</span> <span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">inputboot</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Class got passed to bootvals&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">inputboot</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">inputboot</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">nboot</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="p">[</span><span class="n">this_block</span><span class="p">]</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">inputboot</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;bootvals&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="s1">&#39;nboots dont match up&#39;</span><span class="p">)</span></div>


<div class="viewcode-block" id="BootStrap.ImportBS"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.ImportBS">[docs]</a>    <span class="k">def</span> <span class="nf">ImportBS</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">inputboot</span><span class="p">,</span><span class="n">DelVal</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">DelVal</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">RemoveVals</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">inputboot</span><span class="p">,</span><span class="n">pa</span><span class="o">.</span><span class="n">Series</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">inputboot</span><span class="o">.</span><span class="n">dtype</span><span class="p">,(</span><span class="nb">int</span><span class="p">,</span><span class="nb">float</span><span class="p">,</span><span class="nb">complex</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">dtype</span><span class="p">))</span> <span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">inputboot</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Class got passed to bootvals, or multiple keys exist&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">inputboot</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">nboot</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">=</span> <span class="n">inputboot</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;bootvals&#39;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="s1">&#39;nboots dont match up&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">inputboot</span><span class="p">[</span><span class="mi">0</span><span class="p">],(</span><span class="nb">int</span><span class="p">,</span><span class="nb">float</span><span class="p">,</span><span class="nb">complex</span><span class="p">))</span> <span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">inputboot</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Class got passed to bootvals&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">inputboot</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">inputboot</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">nboot</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">inputboot</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;bootvals&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="s1">&#39;nboots dont match up&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span></div>


<div class="viewcode-block" id="BootStrap.Get_Rand_List"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.Get_Rand_List">[docs]</a>    <span class="k">def</span> <span class="nf">Get_Rand_List</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">wipe_rlist</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="n">this_rlist</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rand_list</span>
        <span class="k">if</span> <span class="n">wipe_rlist</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rand_list</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">this_rlist</span></div>

<div class="viewcode-block" id="BootStrap.MakeBS_Blocked"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.MakeBS_Blocked">[docs]</a>    <span class="k">def</span> <span class="nf">MakeBS_Blocked</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">CheckCfgVals_Blocked</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">iblock</span><span class="p">,</span><span class="n">block_cfgs</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">this_nval</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">block_cfgs</span><span class="p">)</span>
            <span class="n">myseed</span><span class="o">=</span><span class="n">startseed</span><span class="o">*</span><span class="n">this_nval</span><span class="o">//</span><span class="bp">self</span><span class="o">.</span><span class="n">nboot</span>
            <span class="c1"># self.Avg = np.average(self.values)</span>
            <span class="c1"># if not isinstance(self.rand_list,np.ndarray):</span>
            <span class="c1">### TODO pass random list to blocked</span>
            <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="n">myseed</span><span class="p">)</span>
            <span class="n">this_rand_list</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">high</span><span class="o">=</span><span class="n">this_nval</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nboot</span><span class="p">,</span><span class="n">this_nval</span><span class="p">))</span>
            <span class="n">tempbootvals</span> <span class="o">=</span> <span class="p">[</span><span class="n">block_cfgs</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="n">iboot</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="k">for</span> <span class="n">iboot</span> <span class="ow">in</span> <span class="n">this_rand_list</span><span class="p">]</span>
            <span class="c1">## above is faster than below</span>
            <span class="c1"># tempbootvals = []</span>
            <span class="c1"># for iboot in xrange(self.nboot):</span>
            <span class="c1">#     # print &#39;DEBUG&#39;,iboot</span>
            <span class="c1">#     # print self.data.cfgvals.sample(self.nval, random_state=myseed+iboot).head()</span>
            <span class="c1">#     # print self.data.cfgvals.sample(self.nval, random_state=myseed+iboot).mean()</span>
            <span class="c1">#     # print</span>
            <span class="c1">#     ## TODO, check if differnet streams need to be separated out.</span>
            <span class="c1">#     tempbootvals.append(self.cfgvals.sample(self.nval, replace=True,random_state=myseed+iboot).mean())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ImportBS_Blocked</span><span class="p">(</span><span class="n">tempbootvals</span><span class="p">,</span><span class="n">iblock</span><span class="p">)</span></div>
        <span class="c1"># self.Stats()</span>

<div class="viewcode-block" id="BootStrap.Select_Block"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.Select_Block">[docs]</a>    <span class="k">def</span> <span class="nf">Select_Block</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">this_block</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">this_block</span><span class="p">,(</span><span class="nb">int</span><span class="p">,</span><span class="nb">float</span><span class="p">)):</span>
                <span class="n">this_block</span> <span class="o">=</span> <span class="s1">&#39;block&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">this_block</span><span class="p">))</span>
            <span class="n">cfg_changed</span><span class="p">,</span><span class="n">boot_changed</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span><span class="kc">False</span>
            <span class="k">if</span> <span class="n">this_block</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="p">[</span><span class="n">this_block</span><span class="p">]</span>
                <span class="n">cfg_changed</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">if</span> <span class="n">this_block</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="p">[</span><span class="n">this_block</span><span class="p">]</span>
                <span class="n">boot_changed</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">if</span> <span class="n">boot_changed</span> <span class="ow">or</span> <span class="n">cfg_changed</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">block_sel</span> <span class="o">=</span> <span class="n">this_block</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;select block failed for &#39;</span><span class="o">+</span><span class="n">this_block</span><span class="p">)</span></div>

<div class="viewcode-block" id="BootStrap.GetSingleBlock"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.GetSingleBlock">[docs]</a>    <span class="k">def</span> <span class="nf">GetSingleBlock</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">this_block</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Select_Block</span><span class="p">(</span><span class="n">this_block</span><span class="p">)</span>
        <span class="c1">##default n_block = 1</span>
        <span class="k">return</span> <span class="n">BootStrap</span><span class="p">(</span><span class="n">thisnboot</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nboot</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">bootvals</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="p">)</span></div>

<div class="viewcode-block" id="BootStrap.MakeBS"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.MakeBS">[docs]</a>    <span class="k">def</span> <span class="nf">MakeBS</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">DelVal</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">CheckCfgVals</span><span class="p">()</span>
        <span class="n">myseed</span><span class="o">=</span><span class="n">startseed</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">nval</span><span class="o">//</span><span class="bp">self</span><span class="o">.</span><span class="n">nboot</span>
        <span class="c1"># self.Avg = np.average(self.values)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rand_list</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
            <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="n">myseed</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rand_list</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">high</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nval</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nboot</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">nval</span><span class="p">))</span>
        <span class="n">tempbootvals</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="n">iboot</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="k">for</span> <span class="n">iboot</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rand_list</span><span class="p">]</span>
        <span class="c1">## above is faster than below</span>
        <span class="c1"># tempbootvals = []</span>
        <span class="c1"># for iboot in xrange(self.nboot):</span>
        <span class="c1">#     # print &#39;DEBUG&#39;,iboot</span>
        <span class="c1">#     # print self.data.cfgvals.sample(self.nval, random_state=myseed+iboot).head()</span>
        <span class="c1">#     # print self.data.cfgvals.sample(self.nval, random_state=myseed+iboot).mean()</span>
        <span class="c1">#     # print</span>
        <span class="c1">#     ## TODO, check if differnet streams need to be separated out.</span>
        <span class="c1">#     tempbootvals.append(self.cfgvals.sample(self.nval, replace=True,random_state=myseed+iboot).mean())</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">MakeBS_Blocked</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ImportBS</span><span class="p">(</span><span class="n">tempbootvals</span><span class="p">,</span><span class="n">DelVal</span><span class="o">=</span><span class="n">DelVal</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span></div>




    <span class="c1"># Operator overloading</span>

    <span class="c1"># Comparisons</span>
<div class="viewcode-block" id="BootStrap.MakeValAndErr"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.MakeValAndErr">[docs]</a>    <span class="k">def</span> <span class="nf">MakeValAndErr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">Dec</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">MagThresh</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">latex</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">MakeValAndErr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Avg</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">Std</span><span class="p">,</span><span class="n">Dec</span><span class="o">=</span><span class="n">Dec</span><span class="p">,</span><span class="n">MagThresh</span><span class="o">=</span><span class="n">MagThresh</span><span class="p">,</span><span class="n">latex</span><span class="o">=</span><span class="n">latex</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;BS_&#39;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;: &#39;</span><span class="o">+</span><span class="n">MakeValAndErr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Avg</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">Std</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;&lt;BS_&#39;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_&#39;</span><span class="o">+</span><span class="n">MakeValAndErr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Avg</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">Std</span><span class="p">,</span><span class="n">Dec</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;&gt;&#39;</span>

    <span class="k">def</span> <span class="nf">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">bs2</span><span class="p">):</span>
        <span class="c1"># self.Stats()</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">bs2</span><span class="p">,</span><span class="n">BootStrap</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Avg</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">Std</span> <span class="o">&lt;</span> <span class="n">bs2</span><span class="o">.</span><span class="n">Avg</span><span class="o">-</span><span class="n">bs2</span><span class="o">.</span><span class="n">Std</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Avg</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">Std</span> <span class="o">&lt;</span> <span class="n">bs2</span>

    <span class="k">def</span> <span class="nf">__le__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">bs2</span><span class="p">):</span>
        <span class="c1"># self.Stats()</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">bs2</span><span class="p">,</span><span class="n">BootStrap</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Avg</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">Std</span> <span class="o">&lt;=</span> <span class="n">bs2</span><span class="o">.</span><span class="n">Avg</span><span class="o">+</span><span class="n">bs2</span><span class="o">.</span><span class="n">Std</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Avg</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">Std</span> <span class="o">&lt;=</span> <span class="n">bs2</span>


    <span class="k">def</span> <span class="nf">__gt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">bs2</span><span class="p">):</span>
        <span class="c1"># self.Stats()</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">bs2</span><span class="p">,</span><span class="n">BootStrap</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Avg</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">Std</span> <span class="o">&gt;</span> <span class="n">bs2</span><span class="o">.</span><span class="n">Avg</span><span class="o">+</span><span class="n">bs2</span><span class="o">.</span><span class="n">Std</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Avg</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">Std</span> <span class="o">&gt;</span> <span class="n">bs2</span>

    <span class="k">def</span> <span class="nf">__ge__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">bs2</span><span class="p">):</span>
        <span class="c1"># self.Stats()</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">bs2</span><span class="p">,</span><span class="n">BootStrap</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Avg</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">Std</span> <span class="o">&gt;=</span> <span class="n">bs2</span><span class="o">.</span><span class="n">Avg</span><span class="o">-</span><span class="n">bs2</span><span class="o">.</span><span class="n">Std</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Avg</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">Std</span> <span class="o">&gt;=</span> <span class="n">bs2</span>


    <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">bs2</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span> <span class="o">&lt;=</span> <span class="n">bs2</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span> <span class="o">&gt;=</span> <span class="n">bs2</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">bs2</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span> <span class="o">&lt;</span> <span class="n">bs2</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="bp">self</span> <span class="o">&gt;</span> <span class="n">bs2</span><span class="p">)</span>

    <span class="c1">## If you uncomment this, it breaks the program,</span>
    <span class="c1">## interestingly, it lets you cast a bootstrap class to a numpy array.</span>
    <span class="c1"># def __len__(self):</span>
    <span class="c1">#     return self.nboot</span>
    <span class="c1"># Numerical operatoions</span>

<div class="viewcode-block" id="BootStrap.Log"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.Log">[docs]</a>    <span class="k">def</span> <span class="nf">Log</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">BootStrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nboot</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;log(&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;)&#39;</span><span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">=</span> <span class="n">logNA</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span><span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">=</span> <span class="n">logNA</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">block_cfgvals</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">result</span><span class="o">.</span><span class="n">block_bootvals</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">idata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">block_cfgvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">result</span><span class="o">.</span><span class="n">block_cfgvals</span> <span class="o">=</span> <span class="n">logNA</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">idata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">block_cfgvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">result</span><span class="o">.</span><span class="n">block_bootvals</span> <span class="o">=</span> <span class="n">logNA</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">result</span></div>

<div class="viewcode-block" id="BootStrap.Exp"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.Exp">[docs]</a>    <span class="k">def</span> <span class="nf">Exp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">BootStrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nboot</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;e^(&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;)&#39;</span><span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span><span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">block_cfgvals</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">result</span><span class="o">.</span><span class="n">block_bootvals</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">idata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">block_cfgvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">result</span><span class="o">.</span><span class="n">block_cfgvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">idata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">block_cfgvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">result</span><span class="o">.</span><span class="n">block_bootvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span></div>

<div class="viewcode-block" id="BootStrap.sin"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.sin">[docs]</a>    <span class="k">def</span> <span class="nf">sin</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">BootStrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nboot</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;sin(&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;)&#39;</span><span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span><span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">block_cfgvals</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">result</span><span class="o">.</span><span class="n">block_bootvals</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">idata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">block_cfgvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">result</span><span class="o">.</span><span class="n">block_cfgvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">idata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">block_cfgvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">result</span><span class="o">.</span><span class="n">block_bootvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span></div>

<div class="viewcode-block" id="BootStrap.sinh"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.sinh">[docs]</a>    <span class="k">def</span> <span class="nf">sinh</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">BootStrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nboot</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;sinh(&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;)&#39;</span><span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sinh</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span><span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sinh</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">block_cfgvals</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">result</span><span class="o">.</span><span class="n">block_bootvals</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">idata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">block_cfgvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">result</span><span class="o">.</span><span class="n">block_cfgvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sinh</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">idata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">block_cfgvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">result</span><span class="o">.</span><span class="n">block_bootvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sinh</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="BootStrap.arcsinh"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.arcsinh">[docs]</a>    <span class="k">def</span> <span class="nf">arcsinh</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">BootStrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nboot</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;arcsinh(&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;)&#39;</span><span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arcsinh</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span><span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arcsinh</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">block_cfgvals</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">result</span><span class="o">.</span><span class="n">block_bootvals</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">idata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">block_cfgvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">result</span><span class="o">.</span><span class="n">block_cfgvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arcsinh</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">idata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">block_cfgvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">result</span><span class="o">.</span><span class="n">block_bootvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arcsinh</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span></div>

<div class="viewcode-block" id="BootStrap.cos"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.cos">[docs]</a>    <span class="k">def</span> <span class="nf">cos</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">BootStrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nboot</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;cos(&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;)&#39;</span><span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span><span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">block_cfgvals</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">result</span><span class="o">.</span><span class="n">block_bootvals</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">idata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">block_cfgvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">result</span><span class="o">.</span><span class="n">block_cfgvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">idata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">block_cfgvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">result</span><span class="o">.</span><span class="n">block_bootvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span></div>

<div class="viewcode-block" id="BootStrap.Sqrt"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.Sqrt">[docs]</a>    <span class="k">def</span> <span class="nf">Sqrt</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">BootStrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nboot</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;sqrt(&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;)&#39;</span><span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span><span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">block_cfgvals</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">result</span><span class="o">.</span><span class="n">block_bootvals</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">idata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">block_cfgvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">result</span><span class="o">.</span><span class="n">block_cfgvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">idata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">block_cfgvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">result</span><span class="o">.</span><span class="n">block_bootvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="BootStrap.ResampleBS"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.ResampleBS">[docs]</a>    <span class="k">def</span> <span class="nf">ResampleBS</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">new_nboot</span><span class="o">=</span><span class="n">nboot</span><span class="p">,</span><span class="n">rand_list</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">new_nboot</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">nboot</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span>
        <span class="k">if</span> <span class="n">rand_list</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">rand_list</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nboot</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="n">new_nboot</span><span class="p">,</span><span class="n">replace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">new_bootvals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">rand_list</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()[</span><span class="s1">&#39;bootvals&#39;</span><span class="p">]</span>
        <span class="c1"># new_bootvals = self.bootvals.iloc[rand_list].reset_index()[&#39;bootvals&#39;].values</span>
        <span class="n">new_bs</span> <span class="o">=</span> <span class="n">BootStrap</span><span class="p">(</span><span class="n">new_nboot</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_RS&#39;</span><span class="o">+</span><span class="n">human_format</span><span class="p">(</span><span class="n">new_nboot</span><span class="p">),</span><span class="n">bootvals</span><span class="o">=</span><span class="n">new_bootvals</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">new_bs</span><span class="o">.</span><span class="n">block_bootvals</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">idata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">block_bootvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">new_bs</span><span class="o">.</span><span class="n">block_bootvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">idata</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">rand_list</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">new_bs</span><span class="p">,</span><span class="n">rand_list</span></div>


<div class="viewcode-block" id="BootStrap.corr"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.corr">[docs]</a>    <span class="k">def</span> <span class="nf">corr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">bs2</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">bs2</span><span class="p">,</span><span class="n">BootStrap</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="s1">&#39;pass bootstrap variable into correlation&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">bs2</span><span class="o">.</span><span class="n">bootvals</span><span class="p">)</span></div>

<div class="viewcode-block" id="BootStrap.cfg_corr"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.cfg_corr">[docs]</a>    <span class="k">def</span> <span class="nf">cfg_corr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">bs2</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">bs2</span><span class="p">,</span><span class="n">BootStrap</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="s1">&#39;pass bootstrap variable into correlation&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">bs2</span><span class="o">.</span><span class="n">cfgvals</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="nf">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">bs2</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">bs2</span><span class="p">)</span> <span class="ow">in</span> <span class="n">BootStrap</span><span class="o">.</span><span class="n">parentlist</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">bs2</span><span class="o">.</span><span class="fm">__radd__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">BootStrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nboot</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;+&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;BS_&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">),</span><span class="nb">str</span><span class="p">(</span><span class="n">bs2</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;BS_&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)]))</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">bs2</span><span class="p">,</span><span class="n">BootStrap</span><span class="p">):</span>
                <span class="n">result</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">+</span> <span class="n">bs2</span><span class="o">.</span><span class="n">cfgvals</span>
                <span class="n">result</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">+</span> <span class="n">bs2</span><span class="o">.</span><span class="n">bootvals</span>
                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">blocked_cfgvals</span> <span class="o">=</span> <span class="p">{}</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">blocked_bootvals</span> <span class="o">=</span> <span class="p">{}</span>
                    <span class="k">for</span> <span class="p">(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iself</span><span class="p">),</span><span class="n">ibs2</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span><span class="n">bs2</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">iself</span> <span class="o">+</span> <span class="n">ibs2</span>
                    <span class="k">for</span> <span class="p">(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iself</span><span class="p">),</span><span class="n">ibs2</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span><span class="n">bs2</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">iself</span> <span class="o">+</span> <span class="n">ibs2</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">+</span> <span class="n">bs2</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">+</span> <span class="n">bs2</span>
                    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">blocked_cfgvals</span> <span class="o">=</span> <span class="p">{}</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">blocked_bootvals</span> <span class="o">=</span> <span class="p">{}</span>
                        <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iself</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                            <span class="n">result</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">iself</span> <span class="o">+</span> <span class="n">bs2</span>
                        <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iself</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                            <span class="n">result</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">iself</span> <span class="o">+</span> <span class="n">bs2</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">bs2</span><span class="p">))</span>
                    <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>


    <span class="k">def</span> <span class="nf">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">bs2</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">bs2</span><span class="p">)</span> <span class="ow">in</span> <span class="n">BootStrap</span><span class="o">.</span><span class="n">parentlist</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">bs2</span><span class="o">.</span><span class="fm">__rsub__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">BootStrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nboot</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;BS_&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">),</span><span class="nb">str</span><span class="p">(</span><span class="n">bs2</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;BS_&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)]))</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">bs2</span><span class="p">,</span><span class="n">BootStrap</span><span class="p">):</span>
                <span class="n">result</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">-</span> <span class="n">bs2</span><span class="o">.</span><span class="n">cfgvals</span>
                <span class="n">result</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">-</span> <span class="n">bs2</span><span class="o">.</span><span class="n">bootvals</span>
                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">blocked_cfgvals</span> <span class="o">=</span> <span class="p">{}</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">blocked_bootvals</span> <span class="o">=</span> <span class="p">{}</span>
                    <span class="k">for</span> <span class="p">(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iself</span><span class="p">),</span><span class="n">ibs2</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span><span class="n">bs2</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">iself</span> <span class="o">-</span> <span class="n">ibs2</span>
                    <span class="k">for</span> <span class="p">(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iself</span><span class="p">),</span><span class="n">ibs2</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span><span class="n">bs2</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">iself</span> <span class="o">-</span> <span class="n">ibs2</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">-</span> <span class="n">bs2</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">-</span> <span class="n">bs2</span>
                    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">blocked_cfgvals</span> <span class="o">=</span> <span class="p">{}</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">blocked_bootvals</span> <span class="o">=</span> <span class="p">{}</span>
                        <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iself</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                            <span class="n">result</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">iself</span> <span class="o">-</span> <span class="n">bs2</span>
                        <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iself</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                            <span class="n">result</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">iself</span> <span class="o">-</span> <span class="n">bs2</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">bs2</span><span class="p">))</span>
                    <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>


    <span class="k">def</span> <span class="nf">__mul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">bs2</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">bs2</span><span class="p">)</span> <span class="ow">in</span> <span class="n">BootStrap</span><span class="o">.</span><span class="n">parentlist</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">bs2</span><span class="o">.</span><span class="fm">__rmul__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">BootStrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nboot</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;*&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;BS_&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">),</span><span class="nb">str</span><span class="p">(</span><span class="n">bs2</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;BS_&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)]))</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">bs2</span><span class="p">,</span><span class="n">BootStrap</span><span class="p">):</span>
                <span class="n">result</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">*</span> <span class="n">bs2</span><span class="o">.</span><span class="n">cfgvals</span>
                <span class="n">result</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">*</span> <span class="n">bs2</span><span class="o">.</span><span class="n">bootvals</span>
                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">blocked_cfgvals</span> <span class="o">=</span> <span class="p">{}</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">blocked_bootvals</span> <span class="o">=</span> <span class="p">{}</span>
                    <span class="k">for</span> <span class="p">(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iself</span><span class="p">),</span><span class="n">ibs2</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span><span class="n">bs2</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">iself</span> <span class="o">*</span> <span class="n">ibs2</span>
                    <span class="k">for</span> <span class="p">(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iself</span><span class="p">),</span><span class="n">ibs2</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span><span class="n">bs2</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">iself</span> <span class="o">*</span> <span class="n">ibs2</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">*</span> <span class="n">bs2</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">*</span> <span class="n">bs2</span>
                    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">blocked_cfgvals</span> <span class="o">=</span> <span class="p">{}</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">blocked_bootvals</span> <span class="o">=</span> <span class="p">{}</span>
                        <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iself</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                            <span class="n">result</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">iself</span> <span class="o">*</span> <span class="n">bs2</span>
                        <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iself</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                            <span class="n">result</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">iself</span> <span class="o">*</span> <span class="n">bs2</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">bs2</span><span class="p">))</span>
                    <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">__truediv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">bs2</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__div__</span><span class="p">(</span><span class="n">bs2</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__floordiv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">bs2</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__div__</span><span class="p">(</span><span class="n">bs2</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__div__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">bs2</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">bs2</span><span class="p">)</span> <span class="ow">in</span> <span class="n">BootStrap</span><span class="o">.</span><span class="n">parentlist</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">bs2</span><span class="o">.</span><span class="n">__rdiv__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">BootStrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nboot</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;/&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;BS_&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">),</span><span class="nb">str</span><span class="p">(</span><span class="n">bs2</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;BS_&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)]))</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">bs2</span><span class="p">,</span><span class="n">BootStrap</span><span class="p">):</span>
                <span class="n">result</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">/</span> <span class="n">bs2</span><span class="o">.</span><span class="n">cfgvals</span>
                <span class="n">result</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">/</span> <span class="n">bs2</span><span class="o">.</span><span class="n">bootvals</span>
                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">blocked_cfgvals</span> <span class="o">=</span> <span class="p">{}</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">blocked_bootvals</span> <span class="o">=</span> <span class="p">{}</span>
                    <span class="k">for</span> <span class="p">(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iself</span><span class="p">),</span><span class="n">ibs2</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span><span class="n">bs2</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">iself</span> <span class="o">/</span> <span class="n">ibs2</span>
                    <span class="k">for</span> <span class="p">(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iself</span><span class="p">),</span><span class="n">ibs2</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span><span class="n">bs2</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">iself</span> <span class="o">/</span> <span class="n">ibs2</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">/</span> <span class="n">bs2</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">/</span> <span class="n">bs2</span>
                    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">blocked_cfgvals</span> <span class="o">=</span> <span class="p">{}</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">blocked_bootvals</span> <span class="o">=</span> <span class="p">{}</span>
                        <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iself</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                            <span class="n">result</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">iself</span> <span class="o">/</span> <span class="n">bs2</span>
                        <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iself</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                            <span class="n">result</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">iself</span> <span class="o">/</span> <span class="n">bs2</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="p">))</span>
                    <span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span><span class="p">))</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;in bootstrap &#39;</span><span class="p">,</span><span class="nb">type</span><span class="p">(</span><span class="n">bs2</span><span class="p">))</span>
                    <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">)</span> <span class="o">+</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">__pow__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">bs2</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">bs2</span><span class="p">)</span> <span class="ow">in</span> <span class="n">BootStrap</span><span class="o">.</span><span class="n">parentlist</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">bs2</span><span class="o">.</span><span class="fm">__rpow__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">BootStrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nboot</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;^&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;BS_&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">),</span><span class="nb">str</span><span class="p">(</span><span class="n">bs2</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;BS_&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)]))</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">bs2</span><span class="p">,</span><span class="n">BootStrap</span><span class="p">):</span>
                <span class="n">result</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">**</span> <span class="n">bs2</span><span class="o">.</span><span class="n">cfgvals</span>
                <span class="n">result</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">**</span> <span class="n">bs2</span><span class="o">.</span><span class="n">bootvals</span>
                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">blocked_cfgvals</span> <span class="o">=</span> <span class="p">{}</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">blocked_bootvals</span> <span class="o">=</span> <span class="p">{}</span>
                    <span class="k">for</span> <span class="p">(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iself</span><span class="p">),</span><span class="n">ibs2</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span><span class="n">bs2</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">iself</span> <span class="o">**</span> <span class="n">ibs2</span>
                    <span class="k">for</span> <span class="p">(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iself</span><span class="p">),</span><span class="n">ibs2</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span><span class="n">bs2</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">iself</span> <span class="o">**</span> <span class="n">ibs2</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">**</span> <span class="n">bs2</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">**</span> <span class="n">bs2</span>
                    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">blocked_cfgvals</span> <span class="o">=</span> <span class="p">{}</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">blocked_bootvals</span> <span class="o">=</span> <span class="p">{}</span>
                        <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iself</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                            <span class="n">result</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">iself</span> <span class="o">**</span> <span class="n">bs2</span>
                        <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iself</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                            <span class="n">result</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">iself</span> <span class="o">**</span> <span class="n">bs2</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">bs2</span><span class="p">))</span>
                    <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>


    <span class="c1"># Right multiplication functions</span>

    <span class="k">def</span> <span class="nf">__radd__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">bs2</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">bs2</span><span class="p">,</span><span class="n">BootStrap</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">bs2</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">BootStrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nboot</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;+&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">bs2</span><span class="p">),</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)]))</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">result</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">=</span> <span class="n">bs2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span>
                <span class="n">result</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">=</span> <span class="n">bs2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span>
                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">blocked_cfgvals</span> <span class="o">=</span> <span class="p">{}</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">blocked_bootvals</span> <span class="o">=</span> <span class="p">{}</span>
                    <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iself</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">bs2</span> <span class="o">+</span> <span class="n">iself</span>
                    <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iself</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">bs2</span> <span class="o">+</span> <span class="n">iself</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">bs2</span><span class="p">))</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>


    <span class="k">def</span> <span class="nf">__rsub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">bs2</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">bs2</span><span class="p">,</span><span class="n">BootStrap</span><span class="p">):</span>
            <span class="n">bs2</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">BootStrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nboot</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">bs2</span><span class="p">),</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)]))</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">result</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">=</span> <span class="n">bs2</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span>
                <span class="n">result</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">=</span> <span class="n">bs2</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span>
                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">blocked_cfgvals</span> <span class="o">=</span> <span class="p">{}</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">blocked_bootvals</span> <span class="o">=</span> <span class="p">{}</span>
                    <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iself</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">bs2</span> <span class="o">-</span> <span class="n">iself</span>
                    <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iself</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">bs2</span> <span class="o">-</span> <span class="n">iself</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">bs2</span><span class="p">))</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>


    <span class="k">def</span> <span class="nf">__rmul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">bs2</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">bs2</span><span class="p">,</span><span class="n">BootStrap</span><span class="p">):</span>
            <span class="n">bs2</span><span class="o">.</span><span class="n">mult</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">BootStrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nboot</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;*&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">bs2</span><span class="p">),</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)]))</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">result</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">=</span> <span class="n">bs2</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span>
                <span class="n">result</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">=</span> <span class="n">bs2</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span>
                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">blocked_cfgvals</span> <span class="o">=</span> <span class="p">{}</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">blocked_bootvals</span> <span class="o">=</span> <span class="p">{}</span>
                    <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iself</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">bs2</span> <span class="o">*</span> <span class="n">iself</span>
                    <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iself</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">bs2</span> <span class="o">*</span> <span class="n">iself</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">bs2</span><span class="p">))</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>


    <span class="k">def</span> <span class="nf">__rdiv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">bs2</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">bs2</span><span class="p">,</span><span class="n">BootStrap</span><span class="p">):</span>
            <span class="n">bs2</span><span class="o">.</span><span class="n">div</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">BootStrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nboot</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;/&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">bs2</span><span class="p">),</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)]))</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">result</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">=</span> <span class="n">bs2</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span>
                <span class="n">result</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">=</span> <span class="n">bs2</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span>
                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">blocked_cfgvals</span> <span class="o">=</span> <span class="p">{}</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">blocked_bootvals</span> <span class="o">=</span> <span class="p">{}</span>
                    <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iself</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">bs2</span> <span class="o">/</span> <span class="n">iself</span>
                    <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iself</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">bs2</span> <span class="o">/</span> <span class="n">iself</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">bs2</span><span class="p">))</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">)</span> <span class="o">+</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">__rtruediv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">bs2</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__rdiv__</span><span class="p">(</span><span class="n">bs2</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__rfloordiv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">bs2</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__rdiv__</span><span class="p">(</span><span class="n">bs2</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">__rpow__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">bs2</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">bs2</span><span class="p">,</span><span class="n">BootStrap</span><span class="p">):</span>
            <span class="n">bs2</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">BootStrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nboot</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;^&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;BS_&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">),</span><span class="nb">str</span><span class="p">(</span><span class="n">bs2</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;BS_&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)]))</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">result</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">=</span> <span class="n">bs2</span> <span class="o">**</span> <span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span>
                <span class="n">result</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">=</span> <span class="n">bs2</span> <span class="o">**</span> <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span>
                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">blocked_cfgvals</span> <span class="o">=</span> <span class="p">{}</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">blocked_bootvals</span> <span class="o">=</span> <span class="p">{}</span>
                    <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iself</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">bs2</span> <span class="o">**</span> <span class="n">iself</span>
                    <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iself</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">bs2</span> <span class="o">**</span> <span class="n">iself</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">bs2</span><span class="p">))</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>



    <span class="c1"># unitary arithmetic operations</span>


    <span class="k">def</span> <span class="nf">__neg__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">BootStrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nboot</span><span class="p">,</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">cfgvals</span> <span class="o">=</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span><span class="p">,</span><span class="n">bootvals</span><span class="o">=-</span><span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">blocked_cfgvals</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">result</span><span class="o">.</span><span class="n">blocked_bootvals</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iself</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">result</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">iself</span>
            <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iself</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">result</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">iself</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">__pos__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">__abs__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">BootStrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nboot</span><span class="p">,</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;|&#39;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;|&#39;</span><span class="p">,</span><span class="n">cfgvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span><span class="p">),</span><span class="n">bootvals</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="p">))</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">blocked_cfgvals</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">result</span><span class="o">.</span><span class="n">blocked_bootvals</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iself</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">result</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">iself</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iself</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">result</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">iself</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="c1"># Casting, just casts the bootstrap values</span>

    <span class="k">def</span> <span class="nf">__complex__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">complex</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">complex</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iself</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">iself</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">complex</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iself</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">iself</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">complex</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Avg</span>

    <span class="k">def</span> <span class="nf">__int__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iself</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">iself</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iself</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">iself</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Avg</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">__float__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iself</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">iself</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iself</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">iself</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Avg</span>

    <span class="k">def</span> <span class="nf">__round__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span><span class="o">.</span><span class="n">round</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="o">.</span><span class="n">round</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;n_block&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_block</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iself</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">blocked_cfgvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">iself</span><span class="o">.</span><span class="n">round</span>
            <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iself</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">iself</span><span class="o">.</span><span class="n">round</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Avg</span>

    <span class="k">def</span> <span class="nf">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nboot</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">raise</span> <span class="ne">StopIteration</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nboot</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="mf">0.0</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__reversed__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

    <span class="c1">#This would stuff up your statistics</span>

    <span class="c1"># def __delitem__(self,key):</span>
    <span class="c1">#     self.bootvals = np.delete(self.bootvals,key)</span>
    <span class="c1">#     self.nboot -= 1</span>


<div class="viewcode-block" id="BootStrap.BootHistogram"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.BootHistogram">[docs]</a>    <span class="k">def</span> <span class="nf">BootHistogram</span><span class="p">(</span>  <span class="bp">self</span><span class="p">,</span><span class="n">plot_plane</span><span class="p">,</span><span class="n">histtype</span><span class="o">=</span><span class="s1">&#39;stepfilled&#39;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                        <span class="n">key_val</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">norm</span><span class="o">=</span><span class="n">normed_histograms</span><span class="p">,</span><span class="n">Median</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">CheckBoot</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">label</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">label</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
        <span class="k">if</span> <span class="n">Median</span><span class="p">:</span>
            <span class="n">plot_plane</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Median</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">)</span>
            <span class="n">plot_plane</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">MedStd_Low</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="o">/</span><span class="mf">2.</span><span class="p">)</span>
            <span class="n">plot_plane</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">MedStd_High</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="o">/</span><span class="mf">2.</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">key_val</span> <span class="ow">and</span> <span class="n">label</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">label</span> <span class="o">=</span> <span class="n">label</span><span class="o">+</span><span class="s1">&#39; $Res_Median=&#39;</span><span class="o">+</span><span class="n">MakeValAndErr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Avg</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">Std</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;$&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">plot_plane</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Avg</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">)</span>
            <span class="n">plot_plane</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Avg</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">Std</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="o">/</span><span class="mf">2.</span><span class="p">)</span>
            <span class="n">plot_plane</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Avg</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">Std</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="o">/</span><span class="mf">2.</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">key_val</span> <span class="ow">and</span> <span class="n">label</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">label</span> <span class="o">=</span> <span class="n">label</span><span class="o">+</span><span class="s1">&#39; $Res=&#39;</span><span class="o">+</span><span class="n">MakeValAndErr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Median</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">MedStd</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;$&#39;</span>
        <span class="n">plot_plane</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bootvals</span><span class="o">.</span><span class="n">values</span><span class="p">,</span><span class="n">histtype</span><span class="o">=</span><span class="n">histtype</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span><span class="n">density</span><span class="o">=</span><span class="n">norm</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">plot_plane</span></div>

<div class="viewcode-block" id="BootStrap.Histogram"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.Histogram">[docs]</a>    <span class="k">def</span> <span class="nf">Histogram</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">plot_plane</span><span class="p">,</span><span class="n">histtype</span><span class="o">=</span><span class="s1">&#39;stepfilled&#39;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">CheckCfgVals</span><span class="p">()</span>
        <span class="n">plot_plane</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cfgvals</span><span class="o">.</span><span class="n">values</span><span class="p">,</span><span class="n">histtype</span><span class="o">=</span><span class="n">histtype</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span> <span class="s1">&#39; Cfgs &#39;</span><span class="o">+</span><span class="n">label</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">)</span></div>

<div class="viewcode-block" id="BootStrap.PlotBlockedError"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.BootStrap.PlotBlockedError">[docs]</a>    <span class="k">def</span> <span class="nf">PlotBlockedError</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">plot_plane</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">rel_err</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">CheckBoot_Blocked</span><span class="p">()</span>
        <span class="n">y_data</span><span class="p">,</span><span class="n">x_data</span> <span class="o">=</span> <span class="p">[],[]</span>
        <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iblock</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocked_bootvals</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">x_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">ikey</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;block&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)))</span>
            <span class="k">if</span> <span class="n">rel_err</span><span class="p">:</span>
                <span class="n">y_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">iblock</span><span class="o">.</span><span class="n">std</span><span class="p">()</span><span class="o">/</span><span class="n">iblock</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">y_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">iblock</span><span class="o">.</span><span class="n">std</span><span class="p">())</span>
        <span class="n">plot_plane</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x_data</span><span class="p">,</span><span class="n">y_data</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39; Berrs &#39;</span><span class="o">+</span><span class="n">label</span><span class="p">)</span></div></div>

<div class="viewcode-block" id="TestBoot"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.TestBoot">[docs]</a><span class="k">def</span> <span class="nf">TestBoot</span><span class="p">(</span><span class="n">n_block</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="n">size</span> <span class="o">=</span> <span class="mi">20000</span>
    <span class="n">this_nboot</span> <span class="o">=</span> <span class="mi">2000</span>
    <span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="n">size</span><span class="p">)</span>
    <span class="n">testdata</span> <span class="o">=</span> <span class="n">BootStrap</span><span class="p">(</span><span class="n">this_nboot</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;test_bootstrap_uniform&#39;</span><span class="p">,</span><span class="n">cfgvals</span><span class="o">=</span><span class="n">values</span><span class="p">,</span><span class="n">thisDelVal</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">n_block</span><span class="o">=</span><span class="n">n_block</span><span class="p">)</span>

    <span class="n">values2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">size</span><span class="p">)</span><span class="o">/</span><span class="n">size</span>
    <span class="n">testdata2</span> <span class="o">=</span> <span class="n">BootStrap</span><span class="p">(</span><span class="n">this_nboot</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;test_bootstrap_arange&#39;</span><span class="p">,</span><span class="n">cfgvals</span><span class="o">=</span><span class="n">values2</span><span class="p">,</span><span class="n">thisDelVal</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">n_block</span><span class="o">=</span><span class="n">n_block</span><span class="p">)</span>

    <span class="n">values3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span><span class="n">scale</span><span class="o">=</span><span class="mf">0.25</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="n">size</span><span class="p">)</span>
    <span class="n">testdata3</span> <span class="o">=</span> <span class="n">BootStrap</span><span class="p">(</span><span class="n">this_nboot</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;test_bootstrap_normal&#39;</span><span class="p">,</span><span class="n">cfgvals</span><span class="o">=</span><span class="n">values3</span><span class="p">,</span><span class="n">thisDelVal</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">n_block</span><span class="o">=</span><span class="n">n_block</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">testdata</span><span class="p">,</span><span class="n">testdata2</span><span class="p">,</span><span class="n">testdata3</span></div>

<div class="viewcode-block" id="TestBlock"><a class="viewcode-back" href="../BootStrapping.html#BootStrapping.TestBlock">[docs]</a><span class="k">def</span> <span class="nf">TestBlock</span><span class="p">(</span><span class="n">n_block</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="n">size</span> <span class="o">=</span> <span class="mi">200</span>
    <span class="n">this_nboot</span> <span class="o">=</span> <span class="mi">200</span>
    <span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="n">size</span><span class="p">)</span>

    <span class="n">testdata</span> <span class="o">=</span> <span class="n">BootStrap</span><span class="p">(</span><span class="n">this_nboot</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;test_bootstrap_uniform&#39;</span><span class="p">,</span><span class="n">cfgvals</span><span class="o">=</span><span class="n">values</span><span class="p">,</span><span class="n">thisDelVal</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">n_block</span><span class="o">=</span><span class="n">n_block</span><span class="p">)</span>

    <span class="n">values2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">size</span><span class="p">)</span><span class="o">/</span><span class="n">size</span>
    <span class="n">testdata2</span> <span class="o">=</span> <span class="n">BootStrap</span><span class="p">(</span><span class="n">this_nboot</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;test_bootstrap_arange&#39;</span><span class="p">,</span><span class="n">cfgvals</span><span class="o">=</span><span class="n">values2</span><span class="p">,</span><span class="n">thisDelVal</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">n_block</span><span class="o">=</span><span class="n">n_block</span><span class="p">)</span>

    <span class="n">values3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span><span class="n">scale</span><span class="o">=</span><span class="mf">0.25</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="n">size</span><span class="p">)</span>
    <span class="n">testdata3</span> <span class="o">=</span> <span class="n">BootStrap</span><span class="p">(</span><span class="n">this_nboot</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;test_bootstrap_normal&#39;</span><span class="p">,</span><span class="n">cfgvals</span><span class="o">=</span><span class="n">values3</span><span class="p">,</span><span class="n">thisDelVal</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">n_block</span><span class="o">=</span><span class="n">n_block</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">testdata</span><span class="p">,</span><span class="n">testdata2</span><span class="p">,</span><span class="n">testdata3</span></div>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">data</span><span class="p">,</span><span class="n">data2</span><span class="p">,</span><span class="n">data3</span> <span class="o">=</span> <span class="n">TestBoot</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;testing data is in data, data2 and data3&#39;</span><span class="p">)</span>
</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Jack Dragos

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>