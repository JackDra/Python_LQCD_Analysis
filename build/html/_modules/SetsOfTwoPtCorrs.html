

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>SetsOfTwoPtCorrs &mdash; LQCD Analysis Codebase TF Fits documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/my_theme.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> LQCD Analysis Codebase
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">Python_Analysis</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">LQCD Analysis Codebase</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Module code</a> &raquo;</li>
        
      <li>SetsOfTwoPtCorrs</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for SetsOfTwoPtCorrs</h1><div class="highlight"><pre>
<span></span><span class="ch">#!/usr/bin/env python</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">from</span> <span class="nn">collections</span> <span class="k">import</span> <span class="n">OrderedDict</span>
<span class="c1"># from MiscFuns import NumbToFileName,CreateNameAndLL,GetInfoList,GenSinkFun</span>
<span class="kn">from</span> <span class="nn">MiscFuns</span> <span class="k">import</span> <span class="n">NumbToFileName</span>
<span class="kn">from</span> <span class="nn">Params</span> <span class="k">import</span> <span class="n">graphdir</span><span class="p">,</span><span class="n">defFitDict</span><span class="p">,</span><span class="n">Debug_Mode</span>
<span class="kn">from</span> <span class="nn">Params</span> <span class="k">import</span> <span class="n">defxlimAlphaTflow</span>
<span class="kn">from</span> <span class="nn">MomParams</span> <span class="k">import</span> <span class="n">physcial_pion_mass</span>
<span class="kn">from</span> <span class="nn">MiscFuns</span> <span class="k">import</span> <span class="n">mkdir_p</span><span class="p">,</span><span class="n">CombineListCfgs</span>
<span class="kn">from</span> <span class="nn">PredefFitFuns</span> <span class="k">import</span> <span class="n">SquaredFitFun</span><span class="p">,</span><span class="n">LinearFitFun</span>
<span class="kn">import</span> <span class="nn">FitFunctions</span> <span class="k">as</span> <span class="nn">ff</span>
<span class="kn">from</span> <span class="nn">SetsOfFits</span> <span class="k">import</span> <span class="n">PullSOFSeries_Wpar</span>
<span class="kn">from</span> <span class="nn">XmlFormatting</span> <span class="k">import</span> <span class="n">MakeValAndErr</span>
<span class="c1"># import AhmedRes as ara</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pa</span>
<span class="kn">from</span> <span class="nn">TimeStuff</span> <span class="k">import</span> <span class="n">Timer</span>
<span class="kn">from</span> <span class="nn">copy</span> <span class="k">import</span> <span class="n">copy</span>
<span class="kn">import</span> <span class="nn">PlotData</span> <span class="k">as</span> <span class="nn">jpl</span>
<span class="kn">from</span> <span class="nn">NullPlotData</span> <span class="k">import</span> <span class="n">null_series</span>
<span class="kn">from</span> <span class="nn">FileIO</span> <span class="k">import</span> <span class="n">Construct_Empty</span>
<span class="kn">from</span> <span class="nn">VarMethod</span> <span class="k">import</span> <span class="n">VariationalMethod</span>


<span class="c1"># import matplotlib</span>
<span class="c1"># matplotlib.use(&#39;Agg&#39;) # Must be before importing matplotlib.pyplot or pylab!</span>
<span class="c1"># import matplotlib.pyplot as pl</span>


<span class="c1">## Move Somewhere?</span>
<span class="c1"># params = {&#39;legend.fontsize&#39;: 7,</span>
<span class="c1">#           &#39;legend.numpoints&#39;: 1,</span>
<span class="c1">#           &#39;axes.labelsize&#39; : 20,</span>
<span class="c1">#           &#39;figure.autolayout&#39;: True,</span>
<span class="c1">#           &#39;axes.grid&#39;: True,</span>
<span class="c1">#           &#39;errorbar.capsize&#39;: 5,</span>
<span class="c1">#           &#39;axes.xmargin&#39;:0.01,</span>
<span class="c1">#           &#39;axes.titlesize&#39; : 20,</span>
<span class="c1">#           &#39;axes.ymargin&#39;:0.01}</span>
<span class="c1"># pl.style.use(plot_style)</span>
<span class="c1"># pl.rcParams.update(params)</span>


<span class="n">colourset8</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">&#39;#000080&#39;</span><span class="p">,</span><span class="s1">&#39;#B22222&#39;</span><span class="p">,</span><span class="s1">&#39;#00B800&#39;</span><span class="p">,</span><span class="s1">&#39;#8B008B&#39;</span><span class="p">,</span> <span class="s1">&#39;#0000FF&#39;</span><span class="p">,</span><span class="s1">&#39;#FF0000&#39;</span><span class="p">,</span><span class="s1">&#39;#000000&#39;</span><span class="p">,</span><span class="s1">&#39;#32CD32&#39;</span><span class="p">,</span><span class="s1">&#39;#FF0066&#39;</span><span class="p">]</span>
<span class="n">markerset</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;o&#39;</span><span class="p">,</span><span class="s1">&#39;s&#39;</span><span class="p">,</span><span class="s1">&#39;^&#39;</span><span class="p">,</span><span class="s1">&#39;v&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">]</span>
<span class="n">shiftmax</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">shiftper</span> <span class="o">=</span> <span class="mf">0.005</span> <span class="c1">##R function shift</span>
<span class="n">shiftset</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="k">for</span> <span class="n">ish</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">shiftmax</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span> <span class="n">shiftset</span> <span class="o">+=</span> <span class="p">[</span><span class="o">-</span><span class="n">ish</span><span class="o">*</span><span class="n">shiftper</span><span class="p">,</span><span class="n">ish</span><span class="o">*</span><span class="n">shiftper</span><span class="p">]</span>
<span class="k">del</span> <span class="n">ish</span><span class="p">,</span> <span class="n">shiftmax</span><span class="p">,</span><span class="n">shiftper</span>




<div class="viewcode-block" id="SetOfTwoPt"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfTwoPt">[docs]</a><span class="k">class</span> <span class="nc">SetOfTwoPt</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    C2(set) Inherits from TwoPtCorrelators Class</span>

<span class="sd">    THIS IS WHERE THE VARIATIONAL METHOD AND SINK/SOURCE SMEARING COMBINATIONS SHOULD GO!!!!</span>

<span class="sd">    plotting parameters (Move to different file?) ####</span>


<span class="sd">    InfoDict is a list of Info dictionaries to be bassed to TwoPtCorr:</span>
<span class="sd">    Setup to do fits taken from dictionaries within InfoDict (see TwoPtCorrelators.py)</span>


<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="SetOfTwoPt.Construct_2pt_Set"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfTwoPt.Construct_2pt_Set">[docs]</a>    <span class="k">def</span> <span class="nf">Construct_2pt_Set</span><span class="p">(</span><span class="n">this_file_list</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">TwoPtCorrelators</span> <span class="k">import</span> <span class="n">TwoPointCorr</span>
        <span class="n">set_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">TwoPointCorr</span><span class="o">.</span><span class="n">Construct_2pt_File</span><span class="p">(</span><span class="n">ifile</span><span class="p">)</span> <span class="k">for</span> <span class="n">ifile</span> <span class="ow">in</span> <span class="n">this_file_list</span><span class="p">]</span>
        <span class="n">out_class</span> <span class="o">=</span> <span class="n">Construct_Empty</span><span class="p">(</span><span class="n">SetOfTwoPt</span><span class="p">)</span>
        <span class="n">out_class</span><span class="o">.</span><span class="n">cfglist</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">out_class</span><span class="o">.</span><span class="n">InfoDict</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">out_class</span><span class="o">.</span><span class="n">Plotdir</span> <span class="o">=</span> <span class="n">graphdir</span><span class="o">+</span><span class="s1">&#39;/G2/&#39;</span>
        <span class="n">out_class</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Set1&#39;</span>
        <span class="n">out_class</span><span class="o">.</span><span class="n">SetC2</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">iset</span> <span class="ow">in</span> <span class="n">set_list</span><span class="p">:</span>
            <span class="n">out_class</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="n">iset</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">iset</span>
        <span class="k">return</span> <span class="n">out_class</span></div>

    <span class="n">instances</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">parentlist</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cfglist</span><span class="o">=</span><span class="p">{},</span> <span class="n">InfoDict</span><span class="o">=</span><span class="p">[],</span><span class="n">corr_cfglists</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">TwoPtCorrelators</span> <span class="k">import</span> <span class="n">TwoPointCorr</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span> <span class="o">=</span> <span class="n">cfglist</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span> <span class="o">=</span> <span class="n">InfoDict</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span> <span class="o">=</span> <span class="n">graphdir</span><span class="o">+</span><span class="s1">&#39;/G2/&#39;</span>
        <span class="n">mkdir_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="p">)</span>


        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Set&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">SetOfTwoPt</span><span class="o">.</span><span class="n">instances</span><span class="p">))</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">SetOfTwoPt</span><span class="o">.</span><span class="n">instances</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
            <span class="c1"># SetOfTwoPt.instances.append(self.name)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">powlist</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">coefflist</span> <span class="o">=</span> <span class="p">[],[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">ic</span><span class="p">,</span><span class="n">idict</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span><span class="p">):</span>
            <span class="n">thiscol</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
            <span class="n">thissym</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
            <span class="n">thisshift</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
            <span class="k">if</span> <span class="s1">&#39;Popp&#39;</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">idict</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                <span class="k">if</span> <span class="n">idict</span><span class="p">[</span><span class="s1">&#39;Popp&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;None&#39;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">powlist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">powlist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">(</span><span class="n">idict</span><span class="p">[</span><span class="s1">&#39;Popp&#39;</span><span class="p">]))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">powlist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;coeffopp&#39;</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">idict</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">coefflist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">(</span><span class="n">idict</span><span class="p">[</span><span class="s1">&#39;coeffopp&#39;</span><span class="p">]))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">powlist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
            <span class="n">thisC2</span> <span class="o">=</span> <span class="n">TwoPointCorr</span><span class="p">(</span><span class="n">cfglist</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span> <span class="n">Info</span><span class="o">=</span><span class="n">idict</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span><span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">thisC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                <span class="n">C2next</span> <span class="o">=</span> <span class="mi">2</span>
                <span class="k">while</span> <span class="nb">str</span><span class="p">(</span><span class="n">thisC2</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;_&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">C2next</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                    <span class="n">C2next</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">thisC2</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;_&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">C2next</span><span class="p">)]</span> <span class="o">=</span> <span class="n">thisC2</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">thisC2</span><span class="p">)]</span> <span class="o">=</span> <span class="n">thisC2</span>
            <span class="c1"># print &#39;Setting up classes for &#39; , thisC2 , &#39; complete&#39;</span>
            <span class="c1"># print &#39;has color&#39;,thiscol , &#39;symbol &#39; , thissym , &#39;thisshift&#39;,thisshift</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">SetC2len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span><span class="n">pa</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">corr_cfglists</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">GetCfgList</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">GetUnCorrCfgList</span><span class="p">()</span>
            <span class="c1">##Implement Reading cfglist if len(cfglist) == 0</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="mi">0</span>


    <span class="c1">## thisfun(corr1,corr2,corr3,...)</span>
    <span class="c1">## Strongly encoraged to manually set the filename somewhere</span>
    <span class="c1">## e.g. sink smear combine we should get the first name and replace the sink smear with the sink smear label</span>
    <span class="c1">## indicies specifies which sets are used in the combination</span>
<div class="viewcode-block" id="SetOfTwoPt.CombineCorrs"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfTwoPt.CombineCorrs">[docs]</a>    <span class="k">def</span> <span class="nf">CombineCorrs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">thisfun</span><span class="p">,</span><span class="n">filename</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">LegLab</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">jsmlab</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">indicies</span><span class="o">=</span><span class="s1">&#39;All&#39;</span><span class="p">):</span>
        <span class="c1"># for items in self.SetC2.values():</span>
        <span class="c1">#     print &#39;&#39;</span>
        <span class="c1">#     print items</span>
        <span class="c1">#     for iitems in items.itemsAvgStd():</span>
        <span class="c1">#         print iitems</span>
        <span class="k">if</span> <span class="n">indicies</span> <span class="o">==</span> <span class="s1">&#39;All&#39;</span><span class="p">:</span>
            <span class="n">indicies</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()))))</span>
        <span class="n">output2pt</span> <span class="o">=</span> <span class="n">thisfun</span><span class="p">(</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">()))[</span><span class="n">indicies</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">jsmlab</span> <span class="o">!=</span> <span class="s1">&#39;Previous&#39;</span><span class="p">:</span> <span class="n">output2pt</span><span class="o">.</span><span class="n">jsm</span> <span class="o">=</span> <span class="n">jsmlab</span>
        <span class="n">output2pt</span><span class="o">.</span><span class="n">IsComb</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">output2pt</span><span class="o">.</span><span class="n">SetCustomName</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="n">filename</span><span class="p">,</span><span class="n">stringLL</span><span class="o">=</span><span class="n">LegLab</span><span class="p">)</span>
        <span class="c1"># output2pt.Bootstrap()</span>
        <span class="c1"># print &#39;DEBUG 2pt&#39;</span>
        <span class="c1"># for ival in np.array(self.SetC2.values())[indicies]:</span>
        <span class="c1">#     print ival</span>
        <span class="c1">#     print ival.C2_Stats[&#39;boot&#39;][&#39;p000&#39;,&#39;t13&#39;].Avg,ival.C2_Stats[&#39;boot&#39;][&#39;p000&#39;,&#39;t13&#39;].Std</span>
        <span class="c1"># print output2pt</span>
        <span class="c1"># output2pt.C2_Stats[&#39;boot&#39;][&#39;p000&#39;,&#39;t13&#39;].Stats()</span>
        <span class="c1"># print &#39;output&#39;,output2pt.C2_Stats[&#39;boot&#39;][&#39;p000&#39;,&#39;t13&#39;].Avg,output2pt.C2_Stats[&#39;boot&#39;][&#39;p000&#39;,&#39;t13&#39;].Std</span>
        <span class="n">output2pt</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span>
        <span class="n">output2pt</span><span class="o">.</span><span class="n">Write</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">output2pt</span></div>

<div class="viewcode-block" id="SetOfTwoPt.AppendSomething"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfTwoPt.AppendSomething">[docs]</a>    <span class="k">def</span> <span class="nf">AppendSomething</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">newcorr</span><span class="p">):</span>
        <span class="n">thiscol</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2len</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
        <span class="n">thissym</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2len</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
        <span class="n">thisshift</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2len</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
        <span class="n">newcorr</span><span class="o">.</span><span class="n">ImportPlotParams</span><span class="p">(</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="p">,</span><span class="n">thisshift</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">newcorr</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="n">C2next</span> <span class="o">=</span> <span class="mi">2</span>
            <span class="k">while</span> <span class="nb">str</span><span class="p">(</span><span class="n">newcorr</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;_&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">C2next</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                <span class="n">C2next</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">newcorr</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;_&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">C2next</span><span class="p">)]</span> <span class="o">=</span> <span class="n">newcorr</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">newcorr</span><span class="p">)]</span> <span class="o">=</span> <span class="n">newcorr</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetC2len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">)</span></div>


<div class="viewcode-block" id="SetOfTwoPt.AppendCCorrs"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfTwoPt.AppendCCorrs">[docs]</a>    <span class="k">def</span> <span class="nf">AppendCCorrs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">thisfun</span><span class="p">,</span><span class="n">filename</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">LegLab</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">jsm</span> <span class="o">=</span> <span class="s1">&#39;Previous&#39;</span><span class="p">,</span><span class="n">indicies</span><span class="o">=</span><span class="s1">&#39;All&#39;</span><span class="p">):</span>
        <span class="n">thisC2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CombineCorrs</span><span class="p">(</span><span class="n">thisfun</span><span class="p">,</span><span class="n">filename</span><span class="o">=</span><span class="n">filename</span><span class="p">,</span><span class="n">LegLab</span><span class="o">=</span><span class="n">LegLab</span><span class="p">,</span><span class="n">jsmlab</span> <span class="o">=</span> <span class="n">jsm</span><span class="p">,</span><span class="n">indicies</span><span class="o">=</span><span class="n">indicies</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AppendSomething</span><span class="p">(</span><span class="n">thisC2</span><span class="p">)</span></div>
        <span class="c1"># if str(thisC2) in self.SetC2.keys():</span>
        <span class="c1">#     C2next = 2</span>
        <span class="c1">#     while str(thisC2)+&#39;_&#39;+str(C2next) in self.SetC2.keys():</span>
        <span class="c1">#         C2next += 1</span>
        <span class="c1">#     self.SetC2[str(thisC2)+&#39;_&#39;+str(C2next)] = thisC2</span>
        <span class="c1"># else:</span>
        <span class="c1">#     self.SetC2[str(thisC2)] = thisC2</span>
        <span class="c1"># self.VarKeys.append(self.SetC2.keys()[-1])</span>
        <span class="c1"># self.SetC2len = len(self.SetC2)</span>

<div class="viewcode-block" id="SetOfTwoPt.GetUnCorrCfgList"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfTwoPt.GetUnCorrCfgList">[docs]</a>    <span class="k">def</span> <span class="nf">GetUnCorrCfgList</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">iC2</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">iC2</span><span class="o">.</span><span class="n">GetCfgList</span><span class="p">()</span></div>


<div class="viewcode-block" id="SetOfTwoPt.RemoveFuns"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfTwoPt.RemoveFuns">[docs]</a>    <span class="k">def</span> <span class="nf">RemoveFuns</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">iC2</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">iC2</span><span class="o">.</span><span class="n">RemoveFuns</span><span class="p">()</span></div>
<div class="viewcode-block" id="SetOfTwoPt.GetFuns"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfTwoPt.GetFuns">[docs]</a>    <span class="k">def</span> <span class="nf">GetFuns</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">iC2</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">iC2</span><span class="o">.</span><span class="n">GetFuns</span><span class="p">()</span></div>

<div class="viewcode-block" id="SetOfTwoPt.GetCfgList"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfTwoPt.GetCfgList">[docs]</a>    <span class="k">def</span> <span class="nf">GetCfgList</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">GetUnCorrCfgList</span><span class="p">()</span>
        <span class="n">cfglist</span> <span class="o">=</span> <span class="n">CombineListCfgs</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span><span class="s1">&#39;C2_cfgs&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ImportCfgList</span><span class="p">(</span><span class="n">cfglist</span><span class="p">)</span></div>


<div class="viewcode-block" id="SetOfTwoPt.ImportCfgList"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfTwoPt.ImportCfgList">[docs]</a>    <span class="k">def</span> <span class="nf">ImportCfgList</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">cfglist</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span> <span class="o">=</span> <span class="n">cfglist</span>
        <span class="k">for</span> <span class="n">iC2</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">iC2</span><span class="o">.</span><span class="n">ImportCfgList</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">)</span></div>

<div class="viewcode-block" id="SetOfTwoPt.Read"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfTwoPt.Read">[docs]</a>    <span class="k">def</span> <span class="nf">Read</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">setdata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Importing 2pt corr: &#39;</span> <span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">setdata</span><span class="p">))</span>
            <span class="n">setdata</span><span class="o">.</span><span class="n">Read</span><span class="p">()</span></div>


<div class="viewcode-block" id="SetOfTwoPt.Write"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfTwoPt.Write">[docs]</a>    <span class="k">def</span> <span class="nf">Write</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">iC2</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Writing 2pt corr: &#39;</span> <span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">iC2</span><span class="p">))</span>
            <span class="n">iC2</span><span class="o">.</span><span class="n">Write</span><span class="p">()</span></div>

<div class="viewcode-block" id="SetOfTwoPt.LoadPickle"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfTwoPt.LoadPickle">[docs]</a>    <span class="k">def</span> <span class="nf">LoadPickle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">DefWipe</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">CheckCfgs</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">CheckMom</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">WipeData</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">NoFit</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ic</span><span class="p">,</span><span class="n">setdata</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;LoadPickle 2pt corr: &#39;</span> <span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">setdata</span><span class="p">))</span>
            <span class="n">setdata</span><span class="o">.</span><span class="n">LoadPickle</span><span class="p">(</span><span class="n">DefWipe</span><span class="o">=</span><span class="n">DefWipe</span><span class="p">,</span><span class="n">CheckCfgs</span><span class="o">=</span><span class="n">CheckCfgs</span><span class="p">,</span><span class="n">CheckMom</span><span class="o">=</span><span class="n">CheckMom</span><span class="p">,</span><span class="n">WipeData</span><span class="o">=</span><span class="n">WipeData</span><span class="p">,</span><span class="n">NoFit</span><span class="o">=</span><span class="n">NoFit</span><span class="p">)</span>
            <span class="n">setdata</span><span class="o">.</span><span class="n">ImportPlotParams</span><span class="p">(</span><span class="n">colourset8</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)],</span><span class="n">markerset</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
                                     <span class="p">,</span><span class="n">shiftset</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)])</span></div>
        <span class="c1"># print</span>

<div class="viewcode-block" id="SetOfTwoPt.ReadAndWrite"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfTwoPt.ReadAndWrite">[docs]</a>    <span class="k">def</span> <span class="nf">ReadAndWrite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">DefWipe</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">setdata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Importing and Writing 2pt corr: &#39;</span> <span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">setdata</span><span class="p">))</span>
            <span class="n">setdata</span><span class="o">.</span><span class="n">ReadAndWrite</span><span class="p">(</span><span class="n">DefWipe</span><span class="o">=</span><span class="n">DefWipe</span><span class="p">)</span></div>

    <span class="c1">## returns a TwoPtCorr class object (see TwoPtCorrelators.py)</span>
<div class="viewcode-block" id="SetOfTwoPt.GetSet"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfTwoPt.GetSet">[docs]</a>    <span class="k">def</span> <span class="nf">GetSet</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">thisset</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="n">thisset</span><span class="p">]</span></div>



    <span class="c1">## fitlist is list of touples { set : (&#39;state#&#39;,&#39;fitr#-#&#39;)}</span>
    <span class="c1">## momlist is list of list, first dimension is for the set, second is for the different momentum (usually plotted at 1 momentum)</span>
<div class="viewcode-block" id="SetOfTwoPt.EffMassPlot"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfTwoPt.EffMassPlot">[docs]</a>    <span class="k">def</span> <span class="nf">EffMassPlot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">plot_info</span><span class="p">,</span><span class="n">fitDict</span><span class="o">=</span><span class="n">defFitDict</span><span class="p">,</span><span class="n">momlist</span><span class="o">=</span><span class="p">[],</span><span class="n">OnlyVar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">Phys</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Effective Mass&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$t$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">Phys</span><span class="p">:</span>
                    <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$E_</span><span class="si">{p}</span><span class="s1"> [GeV]$&#39;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$aE_</span><span class="si">{p}</span><span class="s1">$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_EffMass.pdf&#39;</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>
        <span class="n">fit_is_dict</span> <span class="o">=</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fitDict</span><span class="p">,(</span><span class="n">OrderedDict</span><span class="p">,</span><span class="nb">dict</span><span class="p">))</span>
        <span class="n">varcount</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">icount</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">OnlyVar</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ikey</span> <span class="ow">in</span>  <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Effective mass plotting &#39;</span><span class="p">,</span> <span class="n">iC2</span><span class="p">)</span>
                <span class="n">thiscol</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
                <span class="n">thissym</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
                <span class="n">thisshift</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
                <span class="n">varcount</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="n">fit_is_dict</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">ikey</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">fitDict</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                        <span class="n">thisxlim</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="nb">int</span><span class="p">(</span><span class="n">fitDict</span><span class="p">[</span><span class="n">icount</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">])]</span>
                        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">EffMassPlot</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">xlims</span><span class="o">=</span><span class="n">thisxlim</span><span class="p">,</span><span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="nb">min</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">momlist</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">icount</span><span class="p">)],</span>
                                                <span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span>
                                                <span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">,</span><span class="n">Phys</span><span class="o">=</span><span class="n">Phys</span><span class="p">)</span>
                        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">EffMassFitPlot</span><span class="p">(</span> <span class="n">data_plot</span><span class="p">,</span><span class="o">*</span><span class="n">fitDict</span><span class="p">[</span><span class="n">ikey</span><span class="p">][:</span><span class="mi">2</span><span class="p">],</span><span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span>
                                            <span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thisshift</span> <span class="o">=</span> <span class="n">thisshift</span><span class="p">,</span><span class="n">Phys</span><span class="o">=</span><span class="n">Phys</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">EffMassPlot</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="nb">min</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">momlist</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">icount</span><span class="p">)],</span>
                                                <span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span>
                                                <span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">,</span><span class="n">Phys</span><span class="o">=</span><span class="n">Phys</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">icount</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">fitDict</span><span class="p">):</span>
                        <span class="n">thisxlim</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="nb">int</span><span class="p">(</span><span class="n">fitDict</span><span class="p">[</span><span class="n">icount</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">])]</span>
                        <span class="n">data_plot</span> <span class="o">=</span>  <span class="n">iC2</span><span class="o">.</span><span class="n">EffMassPlot</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">xlims</span><span class="o">=</span><span class="n">thisxlim</span><span class="p">,</span><span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="nb">min</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">momlist</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">icount</span><span class="p">)],</span>
                                                <span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span>
                                                <span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">,</span><span class="n">Phys</span><span class="o">=</span><span class="n">Phys</span><span class="p">)</span>
                        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">EffMassFitPlot</span><span class="p">(</span> <span class="n">data_plot</span><span class="p">,</span><span class="o">*</span><span class="n">fitDict</span><span class="p">[</span><span class="n">icount</span><span class="p">][:</span><span class="mi">2</span><span class="p">],</span>
                                                        <span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span><span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span>
                                                        <span class="n">thisshift</span> <span class="o">=</span> <span class="n">thisshift</span><span class="p">,</span><span class="n">Phys</span><span class="o">=</span><span class="n">Phys</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">data_plot</span> <span class="o">=</span>  <span class="n">iC2</span><span class="o">.</span><span class="n">EffMassPlot</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="nb">min</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">momlist</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">icount</span><span class="p">)],</span>
                                                <span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span>
                                                <span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">,</span><span class="n">Phys</span><span class="o">=</span><span class="n">Phys</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">iC2</span><span class="o">.</span><span class="n">MesOrBar</span> <span class="o">==</span> <span class="s1">&#39;Baryon&#39;</span><span class="p">:</span>
                    <span class="n">hold_series</span> <span class="o">=</span> <span class="n">null_series</span>
                    <span class="c1"># hold_series[&#39;x_data&#39;] = iC2.latparams.GetPionMass(MeV=True)</span>
                    <span class="c1"># hold_series[&#39;xerr_data&#39;] = iC2.latparams.GetPionMassErr(MeV=True)</span>
                    <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;y_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">GetNucleonMass</span><span class="p">()</span>
                    <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;yerr_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">GetNucleonMassErr</span><span class="p">()</span>
                    <span class="c1"># hold_series[&#39;shift&#39;] = shiftset[(icount+1)%len(shiftset)]</span>
                    <span class="c1"># hold_series[&#39;symbol&#39;] = &#39;o&#39;</span>
                    <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;hline&#39;</span>
                    <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[(</span><span class="n">icount</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
                    <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Paper m_{\pi}=&#39;</span><span class="o">+</span><span class="n">MakeValAndErr</span><span class="p">(</span><span class="n">iC2</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">GetPionMass</span><span class="p">(</span><span class="n">MeV</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
                                                                          <span class="n">iC2</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">GetPionMassErr</span><span class="p">(</span><span class="n">MeV</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span><span class="o">+</span><span class="s1">&#39;MeV&#39;</span>
                    <span class="n">data_plot</span><span class="o">.</span><span class="n">AppendData</span><span class="p">(</span><span class="n">hold_series</span><span class="p">)</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>

    <span class="c1">## assumes first correlator is the master correlator</span>
    <span class="c1">## and second correlator is the excited state subtractor</span>
<div class="viewcode-block" id="SetOfTwoPt.ExcitedSubtraction"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfTwoPt.ExcitedSubtraction">[docs]</a>    <span class="k">def</span> <span class="nf">ExcitedSubtraction</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">mass_ratio_guess</span><span class="p">,</span><span class="n">fit_params</span><span class="p">):</span>
        <span class="n">key1</span><span class="p">,</span><span class="n">key2</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="mi">0</span><span class="p">],</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="mi">1</span><span class="p">]</span>
        <span class="c1"># self.SetC2[key1].Fit()</span>
        <span class="c1"># self.SetC2[key2].Fit()</span>

        <span class="c1">## TODO, pull norms out from fit within self.SetC2[key].FitDict.Params[0] or something...</span>
        <span class="c1"># print &#39;debug&#39;</span>
        <span class="c1"># print self.SetC2[key1].FitDict.keys()</span>
        <span class="c1"># print self.SetC2[key1].FitDict[&#39;state2&#39;][&#39;p000&#39;].keys()</span>
        <span class="c1"># massfitr1 =  self.SetC2[key1].FitDict[&#39;state2&#39;][&#39;p000&#39;].keys()[0]</span>
        <span class="n">massfitr2</span> <span class="o">=</span>  <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="n">key2</span><span class="p">]</span><span class="o">.</span><span class="n">FitDict</span><span class="p">[</span><span class="s1">&#39;state2&#39;</span><span class="p">][</span><span class="s1">&#39;p000&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
        <span class="c1">#bootstrapped?</span>
        <span class="c1"># massfit2 = self.SetC2[key2].FitDict[&#39;state2&#39;][&#39;p000&#39;][massfitr2].Params[&#39;Energy&#39;]</span>
        <span class="c1"># Zp = self.SetC2[key1].FitDict[&#39;state2&#39;][&#39;p000&#39;][massfitr2].Params[&#39;A_Ep&#39;]</span>
        <span class="c1"># Zpi = self.SetC2[key2].FitDict[&#39;state2&#39;][&#39;p000&#39;][massfitr1].Params[&#39;A_Ep&#39;]</span>
        <span class="n">massfit2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="n">key2</span><span class="p">]</span><span class="o">.</span><span class="n">FitDict</span><span class="p">[</span><span class="s1">&#39;state2&#39;</span><span class="p">][</span><span class="s1">&#39;p000&#39;</span><span class="p">][</span><span class="n">massfitr2</span><span class="p">]</span><span class="o">.</span><span class="n">fit_data</span><span class="p">[</span><span class="s1">&#39;Params&#39;</span><span class="p">][</span><span class="s1">&#39;Energy&#39;</span><span class="p">]</span>
        <span class="c1"># Zp = self.SetC2[key1].FitDict[&#39;state2&#39;][&#39;p000&#39;][massfitr2].Params[&#39;A_Ep&#39;]</span>
        <span class="c1"># Zpi = self.SetC2[key2].FitDict[&#39;state2&#39;][&#39;p000&#39;][massfitr1].Params[&#39;A_Ep&#39;]</span>
        <span class="c1"># print &#39;debug&#39;</span>
        <span class="c1"># print massfit2.Avg</span>
        <span class="c1"># print Zp.Avg</span>
        <span class="c1"># print Zpi.Avg</span>
        <span class="c1"># Gpnorm = self.SetC2[key1]/Zp</span>
        <span class="c1"># Gpinorm = self.SetC2[key2]/Zpi</span>
        <span class="n">Gpnorm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="n">key1</span><span class="p">]</span>
        <span class="n">Gpinorm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="n">key2</span><span class="p">]</span>
        <span class="c1"># SubCorr = Gpnorm - (Gpnorm*(Gpinorm**(-1))) + 1</span>
        <span class="c1"># coefflist = np.array([np.exp(-massfit2*it) for it in range(len(self.SetC2[key1].keys()))])</span>
        <span class="n">coefflist</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([(</span><span class="o">-</span><span class="n">massfit2</span><span class="o">*</span><span class="n">it</span><span class="o">*</span><span class="n">mass_ratio_guess</span><span class="p">)</span><span class="o">.</span><span class="n">Exp</span><span class="p">()</span> <span class="k">for</span> <span class="n">it</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="n">key1</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">())))])</span>
        <span class="c1"># SubCorr = Gpnorm/2. - Gpinorm/2. + np.array(coefflist)</span>
        <span class="n">SubCorr</span> <span class="o">=</span> <span class="p">(</span><span class="n">Gpnorm</span><span class="o">*</span><span class="n">coefflist</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">Gpinorm</span><span class="o">**</span><span class="n">mass_ratio_guess</span><span class="p">)</span>
        <span class="n">thisfilename</span> <span class="o">=</span> <span class="s1">&#39;_&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="n">key1</span><span class="p">]</span><span class="o">.</span><span class="n">filename</span><span class="p">,</span><span class="s1">&#39;div&#39;</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="n">key2</span><span class="p">]</span><span class="o">.</span><span class="n">filename</span><span class="p">])</span>
        <span class="n">thisLL</span> <span class="o">=</span> <span class="s1">&#39;_&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="n">key1</span><span class="p">]</span><span class="o">.</span><span class="n">LegLab</span><span class="p">,</span><span class="s1">&#39;div&#39;</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="n">key2</span><span class="p">]</span><span class="o">.</span><span class="n">LegLab</span><span class="p">])</span>
        <span class="c1"># thisLL = &#39;Ratio&#39;</span>
        <span class="n">SubCorr</span><span class="o">.</span><span class="n">SetCustomName</span><span class="p">(</span><span class="n">thisfilename</span><span class="p">,</span><span class="n">thisLL</span><span class="p">)</span>
        <span class="n">SubCorr</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">fit_params</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="n">fit_params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;state1&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">fit_params</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span> <span class="n">fit_params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;fitr4-20&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">fit_params</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span> <span class="n">fit_params</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="mi">1</span><span class="o">/</span><span class="mf">77000.</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.03</span><span class="p">])</span>
        <span class="n">SubCorr</span><span class="o">.</span><span class="n">Fit</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="n">fit_params</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">fit_range</span><span class="o">=</span><span class="n">fit_params</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">iGuess</span><span class="o">=</span><span class="n">fit_params</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
        <span class="c1"># print SubCorr.FitDict.keys(),&#39;state2&#39;</span>
        <span class="c1"># print SubCorr.FitDict[&#39;state2&#39;].keys(),&#39;p000&#39;</span>
        <span class="c1"># print SubCorr.FitDict[&#39;state2&#39;][&#39;p000&#39;].keys(), &#39;fitr5-20&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AppendSomething</span><span class="p">(</span><span class="n">SubCorr</span><span class="p">)</span></div>

<div class="viewcode-block" id="SetOfTwoPt.Reformat2pt"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfTwoPt.Reformat2pt">[docs]</a>    <span class="k">def</span> <span class="nf">Reformat2pt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">thisdir</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;reformatting 2 point correlation functions into &#39;</span> <span class="p">,</span> <span class="n">thisdir</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">iC2</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;reformatting &#39;</span><span class="p">,</span><span class="nb">str</span><span class="p">(</span><span class="n">iC2</span><span class="p">))</span>
            <span class="n">iC2</span><span class="o">.</span><span class="n">Read</span><span class="p">()</span>
            <span class="n">iC2</span><span class="o">.</span><span class="n">SetCustomName</span><span class="p">()</span>
            <span class="n">iC2</span><span class="o">.</span><span class="n">WriteCfgsToFile</span><span class="p">(</span><span class="n">thisdir</span><span class="p">)</span></div>


<div class="viewcode-block" id="SetOfTwoPt.WriteBoot2pt"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfTwoPt.WriteBoot2pt">[docs]</a>    <span class="k">def</span> <span class="nf">WriteBoot2pt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">thisdir</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;writing boot of 2 point correlation functions into &#39;</span> <span class="p">,</span> <span class="n">thisdir</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">iC2</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;writing boot &#39;</span><span class="p">,</span><span class="nb">str</span><span class="p">(</span><span class="n">iC2</span><span class="p">))</span>
            <span class="n">iC2</span><span class="o">.</span><span class="n">Read</span><span class="p">()</span>
            <span class="n">iC2</span><span class="o">.</span><span class="n">Bootstrap</span><span class="p">()</span>
            <span class="n">iC2</span><span class="o">.</span><span class="n">SetCustomName</span><span class="p">()</span>
            <span class="n">iC2</span><span class="o">.</span><span class="n">WriteBootToFile</span><span class="p">(</span><span class="n">thisdir</span><span class="p">)</span></div>

<div class="viewcode-block" id="SetOfTwoPt.DoPowers"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfTwoPt.DoPowers">[docs]</a>    <span class="k">def</span> <span class="nf">DoPowers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ipow</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">powlist</span><span class="p">,</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">())):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">**</span><span class="n">ipow</span>
            <span class="k">if</span> <span class="nb">float</span><span class="p">(</span><span class="n">ipow</span><span class="p">)</span> <span class="o">!=</span> <span class="mf">1.0</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Doing power of&#39;</span><span class="p">,</span><span class="n">ipow</span><span class="p">)</span>
                <span class="n">thisfilename</span> <span class="o">=</span>  <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span><span class="o">.</span><span class="n">filename</span> <span class="o">+</span><span class="s1">&#39;_pow&#39;</span><span class="o">+</span><span class="s1">&#39;</span><span class="si">{:.1f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ipow</span><span class="p">)</span>
                <span class="n">thisLegLab</span> <span class="o">=</span>  <span class="s1">&#39;$(&#39;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span><span class="o">.</span><span class="n">LegLab</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;$&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">+</span><span class="s1">&#39;)^{&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">ipow</span><span class="p">))</span><span class="o">+</span><span class="s1">&#39;}$&#39;</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span><span class="o">.</span><span class="n">SetCustomName</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="n">thisfilename</span><span class="p">,</span><span class="n">stringLL</span><span class="o">=</span><span class="n">thisLegLab</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span></div>

<div class="viewcode-block" id="SetOfTwoPt.DoCoeff"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfTwoPt.DoCoeff">[docs]</a>    <span class="k">def</span> <span class="nf">DoCoeff</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">icoeff</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">coefflist</span><span class="p">,</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">())):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">*</span><span class="n">icoeff</span>
            <span class="k">if</span> <span class="nb">float</span><span class="p">(</span><span class="n">icoeff</span><span class="p">)</span> <span class="o">!=</span> <span class="mf">1.0</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Doing coefficient of&#39;</span><span class="p">,</span><span class="n">icoeff</span><span class="p">)</span>
                <span class="c1"># ## REMOVE THIS, TODO, DEBUG !!</span>
                <span class="c1"># if &#39;32&#39; in self.SetC2[ikey].filename:</span>
                <span class="c1">#     print &#39;debug test&#39;</span>
                <span class="c1">#     print self.SetC2[ikey].filename</span>
                <span class="c1">#     self.SetC2[ikey] = self.SetC2[ikey] + 1</span>
                <span class="n">thisfilename</span> <span class="o">=</span>  <span class="s1">&#39;_</span><span class="si">{:.1f}</span><span class="s1">x&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">icoeff</span><span class="p">)</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span><span class="o">.</span><span class="n">filename</span>
                <span class="n">thisLegLab</span> <span class="o">=</span>  <span class="s1">&#39;$&#39;</span><span class="o">+</span><span class="s1">&#39;</span><span class="si">{:.2f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">icoeff</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;(&#39;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span><span class="o">.</span><span class="n">LegLab</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;$&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">+</span><span class="s1">&#39;)$&#39;</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span><span class="o">.</span><span class="n">SetCustomName</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="n">thisfilename</span><span class="p">,</span><span class="n">stringLL</span><span class="o">=</span><span class="n">thisLegLab</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span></div>


<div class="viewcode-block" id="SetOfTwoPt.LogPlot"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfTwoPt.LogPlot">[docs]</a>    <span class="k">def</span> <span class="nf">LogPlot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">plot_info</span><span class="p">,</span><span class="n">momlist</span><span class="o">=</span><span class="p">[],</span><span class="n">norm</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">OnlyVar</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;Log of $G_</span><span class="si">{2}</span><span class="s1">$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$t$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$log(G_</span><span class="si">{2}</span><span class="s1">)$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_Log.pdf&#39;</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>
        <span class="n">varcount</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">icount</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">OnlyVar</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ikey</span> <span class="ow">in</span>  <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Log plotting &#39;</span><span class="p">,</span> <span class="n">iC2</span><span class="p">)</span>
                <span class="n">thiscol</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
                <span class="n">thissym</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
                <span class="n">thisshift</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
                <span class="n">varcount</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">LogPlot</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span><span class="n">norm</span><span class="o">=</span><span class="n">norm</span><span class="p">,</span>
                                        <span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span>
                                        <span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">)</span>
            <span class="c1">## TODO, implement fit plots, just do not have time for it now</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>


<div class="viewcode-block" id="SetOfTwoPt.Plot"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfTwoPt.Plot">[docs]</a>    <span class="k">def</span> <span class="nf">Plot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">plot_info</span><span class="p">,</span><span class="n">momlist</span><span class="o">=</span><span class="p">[],</span><span class="n">norm</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">OnlyVar</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$G_</span><span class="si">{2}</span><span class="s1">$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$t$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$G_</span><span class="si">{2}</span><span class="s1">$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_Corr.pdf&#39;</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>
        <span class="n">varcount</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">icount</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">OnlyVar</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ikey</span> <span class="ow">in</span>  <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Correlator plotting &#39;</span><span class="p">,</span> <span class="n">iC2</span><span class="p">)</span>
                <span class="n">thiscol</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
                <span class="n">thissym</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
                <span class="n">thisshift</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
                <span class="n">varcount</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span>   <span class="n">data_plot</span><span class="p">,</span><span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="nb">min</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">momlist</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">icount</span><span class="p">)],</span><span class="n">norm</span><span class="o">=</span><span class="n">norm</span><span class="p">,</span>
                                        <span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span>
                                        <span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">)</span>
            <span class="c1">## TODO, implement fit plots, just do not have time for it now</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>



    <span class="c1">## fitparams = [ (statefit1,imom1,fitr1) , ....]</span>
<div class="viewcode-block" id="SetOfTwoPt.PlotMassVsPionMass"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfTwoPt.PlotMassVsPionMass">[docs]</a>    <span class="k">def</span> <span class="nf">PlotMassVsPionMass</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">fitparams</span><span class="p">,</span><span class="n">plot_info</span><span class="p">,</span><span class="n">OnlyVar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">Phys</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">par_type</span><span class="o">=</span><span class="s1">&#39;Energy&#39;</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Nucleon vs Pion Mass&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$m_{\pi} [MeV]$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">Phys</span><span class="p">:</span>
                    <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$E_</span><span class="si">{p}</span><span class="s1"> [GeV]$&#39;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$aE_</span><span class="si">{p}</span><span class="s1">$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_MpiDep.pdf&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlims&#39;</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlims&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlims&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlims&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="kc">None</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>
        <span class="n">varcount</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">par_type</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span>
            <span class="n">par_type</span> <span class="o">=</span> <span class="p">[</span><span class="n">par_type</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="n">vall</span><span class="p">,</span><span class="n">indexl</span> <span class="o">=</span> <span class="p">[],[]</span>
        <span class="n">xdataPap</span><span class="p">,</span><span class="n">ydataPap</span> <span class="o">=</span> <span class="p">[],[]</span>
        <span class="n">xdataPaperr</span><span class="p">,</span><span class="n">ydataPaperr</span> <span class="o">=</span> <span class="p">[],[]</span>
        <span class="n">shiftlist</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">icount</span><span class="p">,((</span><span class="n">ikey</span><span class="p">,</span><span class="n">iC2</span><span class="p">),(</span><span class="n">ifitstate</span><span class="p">,</span><span class="n">imom</span><span class="p">,</span><span class="n">ifitr</span><span class="p">))</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">()),</span><span class="n">fitparams</span><span class="p">)):</span>
            <span class="c1"># print &#39;DEBUG:&#39;, ikey, ifitstate, imom, ifitr</span>
            <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">OnlyVar</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ikey</span> <span class="ow">in</span>  <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;pion mass dependance plotting &#39;</span><span class="p">,</span> <span class="n">iC2</span><span class="p">)</span>
                <span class="n">shiftlist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">shiftset</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)])</span>
                <span class="n">varcount</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">this_pion_mass</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">GetPionMass</span><span class="p">(</span><span class="n">Phys</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">MeV</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="n">fit_data</span> <span class="o">=</span> <span class="n">PullSOFSeries_Wpar</span><span class="p">(</span><span class="n">iC2</span><span class="o">.</span><span class="n">C2_Fit_Stats</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;boot&#39;</span><span class="p">],</span><span class="n">fmted</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">fit_data</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="k">continue</span>
                <span class="n">ipar</span> <span class="o">=</span> <span class="n">par_type</span><span class="p">[</span><span class="n">icount</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">ipar</span> <span class="o">==</span> <span class="s1">&#39;First&#39;</span><span class="p">:</span>
                    <span class="n">ipar</span> <span class="o">=</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ipar</span><span class="p">,</span><span class="nb">int</span><span class="p">):</span>
                    <span class="n">ipar</span> <span class="o">=</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">levels</span><span class="p">[</span><span class="n">ipar</span><span class="p">]</span>
                <span class="n">fit_fun</span> <span class="o">=</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">icount</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">index_names</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;Pion Mass&#39;</span><span class="p">,)</span> <span class="o">+</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">names</span>
                <span class="n">imom</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">TOpform</span><span class="p">(</span><span class="n">imom</span><span class="p">,</span><span class="s1">&#39;p&#39;</span><span class="p">)</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">ifitstate</span><span class="p">,</span><span class="n">imom</span><span class="p">,</span><span class="n">fit_fun</span><span class="p">,</span><span class="n">ifitr</span><span class="p">,</span><span class="n">ipar</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">fit_data</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">ifitstate</span><span class="p">,</span><span class="n">imom</span><span class="p">,</span><span class="n">fit_fun</span><span class="p">,</span><span class="n">ifitr</span><span class="p">,</span><span class="n">ipar</span><span class="p">,</span> <span class="s1">&#39;Not found, attempting to fit&#39;</span><span class="p">)</span>
                    <span class="n">iC2</span><span class="o">.</span><span class="n">Fit</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="n">ifitstate</span><span class="p">,</span><span class="n">fit_range</span><span class="o">=</span><span class="n">ifitr</span><span class="p">)</span>
                    <span class="n">fit_data</span> <span class="o">=</span> <span class="n">PullSOFSeries_Wpar</span><span class="p">(</span><span class="n">iC2</span><span class="o">.</span><span class="n">C2_Fit_Stats</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;boot&#39;</span><span class="p">],</span><span class="n">fmted</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">fit_data</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="k">continue</span>
                <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">ival</span> <span class="ow">in</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="n">vall</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ival</span><span class="p">)</span>
                    <span class="n">indexl</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">this_pion_mass</span><span class="p">,)</span><span class="o">+</span><span class="n">ikey</span><span class="p">)</span>
                <span class="n">xdataPap</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">iC2</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">GetPionMass</span><span class="p">(</span><span class="n">MeV</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
                <span class="n">xdataPaperr</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">iC2</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">GetPionMassErr</span><span class="p">(</span><span class="n">MeV</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
                <span class="n">ydataPap</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">iC2</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">GetNucleonMass</span><span class="p">())</span>
                <span class="n">ydataPaperr</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">iC2</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">GetNucleonMassErr</span><span class="p">())</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">indexl</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">indicies</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_tuples</span><span class="p">(</span><span class="n">indexl</span><span class="p">,</span><span class="n">names</span><span class="o">=</span><span class="n">index_names</span><span class="p">)</span>
            <span class="n">plot_data</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">vall</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="n">indicies</span><span class="p">)</span>
            <span class="n">hold_series</span> <span class="o">=</span> <span class="n">null_series</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;x_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;from_keys&#39;</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="mi">0</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;y_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">plot_data</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">Avg</span><span class="p">)</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;yerr_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">plot_data</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">Std</span><span class="p">)</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;shift&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">shiftlist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;symbol&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;o&#39;</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;key_select&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="nb">slice</span><span class="p">(</span><span class="kc">None</span><span class="p">),)</span> <span class="o">+</span> <span class="n">plot_data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">:]</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;error_bar_vary&#39;</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;This Work&#39;</span>
            <span class="n">data_plot</span><span class="o">.</span><span class="n">AppendData</span><span class="p">(</span><span class="n">hold_series</span><span class="p">)</span>
            <span class="n">hold_series</span> <span class="o">=</span> <span class="n">null_series</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;x_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">xdataPap</span><span class="p">)</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;xerr_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">xdataPaperr</span><span class="p">)</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;y_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ydataPap</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;yerr_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ydataPaperr</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;shift&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">shiftlist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="mf">1.05</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;symbol&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;o&#39;</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;error_bar&#39;</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="mi">1</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Paper&#39;</span>
            <span class="n">data_plot</span><span class="o">.</span><span class="n">AppendData</span><span class="p">(</span><span class="n">hold_series</span><span class="p">)</span>
            <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>



    <span class="c1">## TODO make Nucleon Energy vs Recurrence relation energy along with fit.</span>
    <span class="c1">## fitparams = [ (statefit1,imom1,fitr1) , ....]</span>
<div class="viewcode-block" id="SetOfTwoPt.PlotEnergyVSRecRel"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfTwoPt.PlotEnergyVSRecRel">[docs]</a>    <span class="k">def</span> <span class="nf">PlotEnergyVSRecRel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">fitparams</span><span class="p">,</span><span class="n">plot_info</span><span class="p">,</span><span class="n">tsize</span><span class="o">=</span><span class="s1">&#39;Def&#39;</span><span class="p">,</span><span class="n">xsize</span><span class="o">=</span><span class="s1">&#39;Def&#39;</span><span class="p">,</span><span class="n">ysize</span><span class="o">=</span><span class="s1">&#39;Def&#39;</span><span class="p">,</span>
                           <span class="n">legloc</span><span class="o">=</span><span class="s1">&#39;upper right&#39;</span><span class="p">,</span><span class="n">ftitle</span><span class="o">=</span><span class="s1">&#39;Lattice Energy vs Recurrence Relation&#39;</span><span class="p">,</span><span class="n">fxlab</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;$E_{p,Rec} [GeV]$&#39;</span><span class="p">,</span>
                           <span class="n">fylab</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;$aM_</span><span class="si">{N}</span><span class="s1">$&#39;</span><span class="p">,</span><span class="n">OnlyVar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">Phys</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">xmore</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="n">ymore</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Lattice Energy vs Recurrence Relation&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$E_{p,Rec} [GeV]$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">Phys</span><span class="p">:</span>
                    <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$E_</span><span class="si">{p}</span><span class="s1"> [GeV]$&#39;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$aE_</span><span class="si">{p}</span><span class="s1">$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_RecRel.pdf&#39;</span>
            <span class="c1"># if &#39;xlims&#39; in this_pi:</span>
            <span class="c1">#     this_pi[&#39;xlims&#39;] = [0,this_pi[&#39;xlims&#39;][1]]</span>
            <span class="c1"># else:</span>
            <span class="c1">#     this_pi[&#39;xlims&#39;] = [0,None]</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>
        <span class="n">varcount</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">icount</span><span class="p">,((</span><span class="n">istate</span><span class="p">,</span><span class="n">imom</span><span class="p">,</span><span class="n">ifitr</span><span class="p">),(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iC2</span><span class="p">))</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">fitparams</span><span class="p">,</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">()))):</span>
            <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">OnlyVar</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ikey</span> <span class="ow">in</span>  <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Recurrence relation plotting &#39;</span><span class="p">,</span> <span class="n">iC2</span><span class="p">)</span>
                <span class="n">thiscol</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
                <span class="n">thissym</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
                <span class="n">thisshift</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
                <span class="n">varcount</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">RecRelPlot</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">istate</span><span class="p">,</span><span class="n">ifitr</span><span class="p">,</span>
                                                        <span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span>
                                                        <span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">,</span><span class="n">Phys</span><span class="o">=</span><span class="n">Phys</span><span class="p">)</span>
        <span class="n">hold_series</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">Series</span><span class="p">()</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;x_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;y_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;yerr_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;shift&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;symbol&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;plot&#39;</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Linear&#39;</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">AppendData</span><span class="p">(</span><span class="n">hold_series</span><span class="p">)</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>

    <span class="c1">## TODO, make results do list of t0 and dt</span>
<div class="viewcode-block" id="SetOfTwoPt.VariationalMethod"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfTwoPt.VariationalMethod">[docs]</a>    <span class="k">def</span> <span class="nf">VariationalMethod</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">t0</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">dt</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">symetrize</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">n_states</span><span class="o">=</span><span class="s1">&#39;All&#39;</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">n_states</span> <span class="o">==</span> <span class="s1">&#39;All&#39;</span><span class="p">:</span>
            <span class="n">mat_corrs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>
            <span class="n">n_states</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">mat_corrs</span><span class="p">)</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">n_states</span><span class="p">,</span><span class="nb">float</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">n_states</span><span class="o">.</span><span class="n">is_integer</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;n_states must be integer&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">mat_corrs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">mat_corrs</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">n_states</span><span class="o">**</span><span class="mi">2</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;number of states squared:&#39;</span><span class="p">,</span><span class="n">n_states</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;size of matrix:&#39;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">mat_corrs</span><span class="p">))</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;to many states picked for matrix in variational method&#39;</span><span class="p">)</span>
            <span class="n">mat_corrs</span> <span class="o">=</span> <span class="n">mat_corrs</span><span class="p">[:</span><span class="nb">int</span><span class="p">(</span><span class="n">n_states</span><span class="o">**</span><span class="mi">2</span><span class="p">)]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">n_states</span><span class="p">,</span><span class="nb">int</span><span class="p">)</span> <span class="ow">or</span> <span class="n">n_states</span><span class="o">.</span><span class="n">is_integer</span><span class="p">()):</span>
            <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Set of two-point correlators must be square&#39;</span><span class="p">)</span>
        <span class="n">n_states</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">n_states</span><span class="p">)</span>
        <span class="n">mat_corrs</span> <span class="o">=</span> <span class="n">mat_corrs</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">n_states</span><span class="p">,</span><span class="n">n_states</span><span class="p">)</span>
        <span class="n">var_data</span> <span class="o">=</span> <span class="n">VariationalMethod</span><span class="p">(</span><span class="n">matrix_corr</span><span class="o">=</span><span class="n">mat_corrs</span><span class="p">,</span><span class="n">t0</span><span class="o">=</span><span class="n">t0</span><span class="p">,</span><span class="n">dt</span><span class="o">=</span><span class="n">dt</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span><span class="n">symetrize</span><span class="o">=</span><span class="n">symetrize</span><span class="p">)</span>
        <span class="n">var_data</span><span class="o">.</span><span class="n">PerformVarMeth</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">istate</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_states</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="s1">&#39;var_state&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">istate</span><span class="p">)]</span> <span class="o">=</span> <span class="n">var_data</span><span class="o">.</span><span class="n">ExportVarMeth</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="n">istate</span><span class="p">)</span></div>
        <span class="c1"># print(&#39;DEBUG&#39;)</span>
        <span class="c1"># for ism in [0,1,2]:</span>
        <span class="c1">#     print(&#39;     ism and jsm&#39;,ism)</span>
        <span class="c1">#     print(var_data.matrix_corr.sel(ism=ism,jsm=ism,higher_dims=0))</span>
        <span class="c1"># for ism in [0,1,2]:</span>
        <span class="c1">#     print(&#39;     State&#39;,ism)</span>
        <span class="c1">#     print(var_data.left_evec.sel(state=ism,higher_dims=0))</span>
        <span class="c1">#     print(var_data.right_evec.sel(state=ism,higher_dims=0))</span>
        <span class="c1">#     print(var_data.proj_corr.sel(state=ism,higher_dims=0))</span>
        <span class="c1">#     print(self.SetC2[&#39;var_state&#39;+str(istate)].C2_Stats.loc[(&#39;p000&#39;,slice(None)),&#39;boot&#39;].apply(lambda x : x.MakeValAndErr()))</span>

    <span class="c1">## TODO, currently prony needs ism still.</span>
<div class="viewcode-block" id="SetOfTwoPt.PronyMethod"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfTwoPt.PronyMethod">[docs]</a>    <span class="k">def</span> <span class="nf">PronyMethod</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">t0</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">dt</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">symetrize</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">ism</span><span class="o">=</span><span class="s1">&#39;First&#39;</span><span class="p">,</span><span class="n">n_states</span><span class="o">=</span><span class="s1">&#39;All&#39;</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">n_states</span> <span class="o">==</span> <span class="s1">&#39;All&#39;</span><span class="p">:</span>
            <span class="n">mat_corrs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>
            <span class="n">n_states</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">mat_corrs</span><span class="p">)</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">n_states</span><span class="p">,</span><span class="nb">float</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">n_states</span><span class="o">.</span><span class="n">is_integer</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;n_states must be integer&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">n_states</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">n_states</span><span class="p">)</span>
            <span class="n">mat_corrs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">mat_corrs</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">n_states</span><span class="o">**</span><span class="mi">2</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;number of states squared:&#39;</span><span class="p">,</span><span class="n">n_states</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;size of matrix:&#39;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">mat_corrs</span><span class="p">))</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;to many states picked for matrix in variational method&#39;</span><span class="p">)</span>
            <span class="n">mat_corrs</span> <span class="o">=</span> <span class="n">mat_corrs</span><span class="p">[:</span><span class="nb">int</span><span class="p">(</span><span class="n">n_states</span><span class="o">**</span><span class="mi">2</span><span class="p">)]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">n_states</span><span class="p">,</span><span class="nb">int</span><span class="p">)</span> <span class="ow">or</span> <span class="n">n_states</span><span class="o">.</span><span class="n">is_integer</span><span class="p">()):</span>
            <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Set of two-point correlators must be square&#39;</span><span class="p">)</span>
        <span class="n">n_states</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">n_states</span><span class="p">)</span>
        <span class="n">mat_corrs</span> <span class="o">=</span> <span class="n">mat_corrs</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">n_states</span><span class="p">,</span><span class="n">n_states</span><span class="p">)</span>
        <span class="n">var_data</span> <span class="o">=</span> <span class="n">VariationalMethod</span><span class="p">(</span><span class="n">matrix_corr</span><span class="o">=</span><span class="n">mat_corrs</span><span class="p">,</span><span class="n">t0</span><span class="o">=</span><span class="n">t0</span><span class="p">,</span><span class="n">dt</span><span class="o">=</span><span class="n">dt</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span><span class="n">symetrize</span><span class="o">=</span><span class="n">symetrize</span><span class="p">)</span>
        <span class="n">var_data</span><span class="o">.</span><span class="n">PerformProny</span><span class="p">(</span><span class="n">ism</span><span class="o">=</span><span class="n">ism</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">istate</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_states</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="s1">&#39;var_state&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">istate</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;_ism&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">ism</span><span class="p">)]</span> <span class="o">=</span> <span class="n">var_data</span><span class="o">.</span><span class="n">ExportProny</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="n">istate</span><span class="p">)</span></div>



    <span class="k">def</span> <span class="nf">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="n">key</span><span class="p">[</span><span class="mi">0</span><span class="p">]][(</span><span class="n">key</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">key</span><span class="p">[</span><span class="mi">2</span><span class="p">])]</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="n">key</span><span class="p">[</span><span class="mi">0</span><span class="p">]][(</span><span class="n">key</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">key</span><span class="p">[</span><span class="mi">2</span><span class="p">])]</span>

<div class="viewcode-block" id="SetOfTwoPt.Stats"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfTwoPt.Stats">[docs]</a>    <span class="k">def</span> <span class="nf">Stats</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">iset</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">iset</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span></div>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>

    <span class="k">def</span> <span class="nf">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>

<div class="viewcode-block" id="SetOfTwoPt.items"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfTwoPt.items">[docs]</a>    <span class="k">def</span> <span class="nf">items</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">outdata</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">setdata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">tdata</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">setdata</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                <span class="n">outdata</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">tdata</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">outdata</span></div>

<div class="viewcode-block" id="SetOfTwoPt.itemsAvgStd"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfTwoPt.itemsAvgStd">[docs]</a>    <span class="k">def</span> <span class="nf">itemsAvgStd</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">outdata</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">setdata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">tdata</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">setdata</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                <span class="n">outdata</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">tdata</span><span class="o">.</span><span class="n">Avg</span><span class="p">,</span><span class="n">tdata</span><span class="o">.</span><span class="n">Std</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">outdata</span></div>

<div class="viewcode-block" id="SetOfTwoPt.values"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfTwoPt.values">[docs]</a>    <span class="k">def</span> <span class="nf">values</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">outdata</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">setdata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">tdata</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">setdata</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
                <span class="n">outdata</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tdata</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">outdata</span></div>



<div class="viewcode-block" id="SetOfTwoPt.valuesAvgStd"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfTwoPt.valuesAvgStd">[docs]</a>    <span class="k">def</span> <span class="nf">valuesAvgStd</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">outdata</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">setdata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">tdata</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">setdata</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
                <span class="n">outdata</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">tdata</span><span class="o">.</span><span class="n">Avg</span><span class="p">,</span><span class="n">tdata</span><span class="o">.</span><span class="n">Std</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">outdata</span></div>

<div class="viewcode-block" id="SetOfTwoPt.keys"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfTwoPt.keys">[docs]</a>    <span class="k">def</span> <span class="nf">keys</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">outdata</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">setdata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">ip</span><span class="p">,</span><span class="n">it</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">setdata</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                <span class="n">outdata</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">outdata</span></div>

    <span class="k">def</span> <span class="nf">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">())):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">raise</span> <span class="ne">StopIteration</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="mf">0.0</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">thiskey</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="bp">self</span><span class="o">.</span><span class="n">current</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">return</span> <span class="bp">self</span><span class="p">[</span><span class="n">thiskey</span><span class="p">]</span>

    <span class="c1">## unitary arithmetic operations</span>

    <span class="k">def</span> <span class="nf">__neg__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ikey</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span>


    <span class="k">def</span> <span class="nf">__pos__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">__abs__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ikey</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">])</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="c1">## Casting, just casts the bootstrap values, ignore return value (only needed since return has to be same type).</span>


    <span class="k">def</span> <span class="nf">__complex__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ikey</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="nb">complex</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">])</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span>
        <span class="k">return</span> <span class="mi">1</span><span class="o">+</span><span class="mi">0</span><span class="n">j</span>

    <span class="k">def</span> <span class="nf">__int__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ikey</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">])</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span>
        <span class="k">return</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">__float__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ikey</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">])</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span>
        <span class="k">return</span> <span class="mf">1.0</span>

    <span class="c1">## Numerical operatoions</span>

    <span class="k">def</span> <span class="nf">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">C22</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">C22</span><span class="p">)</span> <span class="ow">in</span> <span class="n">SetOfTwoPt</span><span class="o">.</span><span class="n">parentlist</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">C22</span><span class="o">.</span><span class="fm">__radd__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">SetOfTwoPt</span><span class="p">(</span><span class="n">cfglist</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span> <span class="n">InfoDict</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">C22</span><span class="p">,</span><span class="n">SetOfTwoPt</span><span class="p">):</span>
                <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;+&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">C22</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
                <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                    <span class="k">if</span> <span class="n">iset</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">C22</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                        <span class="k">if</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">C22</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                        <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iC2</span> <span class="o">+</span> <span class="n">C22</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span>
            <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">C22</span><span class="p">)</span> <span class="ow">in</span> <span class="s1">&#39;TwoPtCorrelators.TwoPointCorr&#39;</span><span class="p">:</span>
                <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;+&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">C22</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
                <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">C22</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                    <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iC2</span> <span class="o">+</span> <span class="n">C22</span><span class="p">[(</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;+&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">NumbToFileName</span><span class="p">(</span><span class="n">C22</span><span class="p">)])</span>
                    <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">iC2</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                        <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iC2</span> <span class="o">+</span> <span class="n">C22</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">C22</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">C22</span><span class="p">)</span> <span class="ow">in</span> <span class="n">SetOfTwoPt</span><span class="o">.</span><span class="n">parentlist</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">C22</span><span class="o">.</span><span class="fm">__rsub__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">SetOfTwoPt</span><span class="p">(</span> <span class="n">cfglist</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span> <span class="n">InfoDict</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">C22</span><span class="p">,</span><span class="n">SetOfTwoPt</span><span class="p">):</span>
                <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">C22</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
                <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                    <span class="k">if</span> <span class="n">iset</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">C22</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                        <span class="k">if</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">C22</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                        <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iC2</span> <span class="o">-</span> <span class="n">C22</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span>
            <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">C22</span><span class="p">)</span> <span class="ow">in</span> <span class="s1">&#39;TwoPtCorrelators.TwoPointCorr&#39;</span><span class="p">:</span>
                <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">C22</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">C22</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                    <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iC2</span> <span class="o">-</span> <span class="n">C22</span><span class="p">[(</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">iC2</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">NumbToFileName</span><span class="p">(</span><span class="n">C22</span><span class="p">)])</span>
                        <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iC2</span> <span class="o">-</span> <span class="n">C22</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>


    <span class="k">def</span> <span class="nf">__mul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">C22</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">C22</span><span class="p">)</span> <span class="ow">in</span> <span class="n">SetOfTwoPt</span><span class="o">.</span><span class="n">parentlist</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">C22</span><span class="o">.</span><span class="fm">__rmul__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">SetOfTwoPt</span><span class="p">(</span> <span class="n">cfglist</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span> <span class="n">InfoDict</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">C22</span><span class="p">,</span><span class="n">SetOfTwoPt</span><span class="p">):</span>
                <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;x&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">C22</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
                <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                    <span class="k">if</span> <span class="n">iset</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">C22</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                        <span class="k">if</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">C22</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                        <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iC2</span> <span class="o">*</span> <span class="n">C22</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span>
            <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">C22</span><span class="p">)</span> <span class="ow">in</span> <span class="s1">&#39;TwoPtCorrelators.TwoPointCorr&#39;</span><span class="p">:</span>
                <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;x&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">C22</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">C22</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                    <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iC2</span> <span class="o">*</span> <span class="n">C22</span><span class="p">[(</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">iC2</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;x&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">NumbToFileName</span><span class="p">(</span><span class="n">C22</span><span class="p">)])</span>
                        <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iC2</span> <span class="o">*</span> <span class="n">C22</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>


    <span class="k">def</span> <span class="nf">__div__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">C22</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">C22</span><span class="p">)</span> <span class="ow">in</span> <span class="n">SetOfTwoPt</span><span class="o">.</span><span class="n">parentlist</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">C22</span><span class="o">.</span><span class="n">__rdiv__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">SetOfTwoPt</span><span class="p">(</span> <span class="n">cfglist</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span> <span class="n">InfoDict</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">C22</span><span class="p">,</span><span class="n">SetOfTwoPt</span><span class="p">):</span>
                <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;div&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">C22</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
                <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                    <span class="k">if</span> <span class="n">iset</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">C22</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                        <span class="k">try</span><span class="p">:</span>
                            <span class="k">if</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">C22</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                            <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iC2</span> <span class="o">/</span> <span class="n">C22</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span>
                        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
                            <span class="k">if</span> <span class="nb">any</span><span class="p">([</span><span class="n">ibs</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">ibs</span> <span class="ow">in</span> <span class="n">C22</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span><span class="o">.</span><span class="n">bootvals</span><span class="p">]):</span>
                                <span class="k">raise</span> <span class="ne">ZeroDivisionError</span><span class="p">(</span><span class="s1">&#39;Dividing by zero found in bootstrap division for &#39;</span><span class="o">+</span><span class="n">C22</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span><span class="o">+</span><span class="n">C22</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">C22</span><span class="p">)</span> <span class="ow">in</span> <span class="s1">&#39;TwoPtCorrelators.TwoPointCorr&#39;</span><span class="p">:</span>
                <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;div&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">C22</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="k">if</span> <span class="p">(</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">C22</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                        <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iC2</span> <span class="o">/</span> <span class="n">C22</span><span class="p">[(</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span>
                    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
                        <span class="k">if</span> <span class="nb">any</span><span class="p">([</span><span class="n">ibs</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">ibs</span> <span class="ow">in</span> <span class="n">C22</span><span class="p">[(</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span><span class="o">.</span><span class="n">bootvals</span><span class="p">]):</span>
                            <span class="k">raise</span> <span class="ne">ZeroDivisionError</span><span class="p">(</span><span class="s1">&#39;Dividing by zero found in bootstrap division for &#39;</span><span class="o">+</span><span class="n">C22</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span><span class="o">+</span><span class="n">C22</span><span class="p">[(</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">C22</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ZeroDivisionError</span><span class="p">(</span><span class="s1">&#39;Dividing by zero found in bootstrap division&#39;</span><span class="p">)</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">iC2</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;div&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">NumbToFileName</span><span class="p">(</span><span class="n">C22</span><span class="p">)])</span>
                        <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iC2</span> <span class="o">/</span> <span class="n">C22</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>


    <span class="k">def</span> <span class="nf">__pow__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">C22</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">C22</span><span class="p">)</span> <span class="ow">in</span> <span class="n">SetOfTwoPt</span><span class="o">.</span><span class="n">parentlist</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">C22</span><span class="o">.</span><span class="fm">__rpow__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">SetOfTwoPt</span><span class="p">(</span> <span class="n">cfglist</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span> <span class="n">InfoDict</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">C22</span><span class="p">,</span><span class="n">SetOfTwoPt</span><span class="p">):</span>
                <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;pow&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">C22</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
                <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                    <span class="k">if</span> <span class="n">iset</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">C22</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                        <span class="k">if</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">C22</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                        <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iC2</span> <span class="o">**</span> <span class="n">C22</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span>
            <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">C22</span><span class="p">)</span> <span class="ow">in</span> <span class="s1">&#39;TwoPtCorrelators.TwoPointCorr&#39;</span><span class="p">:</span>
                <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;pow&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">C22</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">C22</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                    <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iC2</span> <span class="o">**</span> <span class="n">C22</span><span class="p">[(</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">iC2</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;pow&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">NumbToFileName</span><span class="p">(</span><span class="n">C22</span><span class="p">)])</span>
                        <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iC2</span> <span class="o">**</span> <span class="n">C22</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>


    <span class="c1">## Right multiplication functions</span>


    <span class="k">def</span> <span class="nf">__radd__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">C22</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">SetOfTwoPt</span><span class="p">(</span> <span class="n">cfglist</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span> <span class="n">InfoDict</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">C22</span><span class="p">,</span><span class="n">SetOfTwoPt</span><span class="p">):</span>
            <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;+&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">C22</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                <span class="k">if</span> <span class="n">iset</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">C22</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">C22</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                    <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">=</span> <span class="n">C22</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">+</span> <span class="n">iC2</span>
        <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">C22</span><span class="p">)</span> <span class="ow">in</span> <span class="s1">&#39;TwoPtCorrelators.TwoPointCorr&#39;</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;+&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">C22</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">C22</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">=</span> <span class="n">C22</span><span class="p">[(</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">+</span> <span class="n">iC2</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;+&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">NumbToFileName</span><span class="p">(</span><span class="n">C22</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
                <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">iC2</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                    <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">=</span> <span class="n">C22</span> <span class="o">+</span> <span class="n">iC2</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>


    <span class="k">def</span> <span class="nf">__rsub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">C22</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">SetOfTwoPt</span><span class="p">(</span> <span class="n">cfglist</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span> <span class="n">InfoDict</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">C22</span><span class="p">,</span><span class="n">SetOfTwoPt</span><span class="p">):</span>
            <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">C22</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                <span class="k">if</span> <span class="n">iset</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">C22</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">C22</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                    <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">=</span> <span class="n">C22</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">-</span> <span class="n">iC2</span>
        <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">C22</span><span class="p">)</span> <span class="ow">in</span> <span class="s1">&#39;TwoPtCorrelators.TwoPointCorr&#39;</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">C22</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">C22</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">=</span> <span class="n">C22</span><span class="p">[(</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">-</span> <span class="n">iC2</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">NumbToFileName</span><span class="p">(</span><span class="n">C22</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
                <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">iC2</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                    <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">=</span> <span class="n">C22</span> <span class="o">-</span> <span class="n">iC2</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">__rmul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">C22</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">SetOfTwoPt</span><span class="p">(</span> <span class="n">cfglist</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span> <span class="n">InfoDict</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">C22</span><span class="p">,</span><span class="n">SetOfTwoPt</span><span class="p">):</span>
            <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;x&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">C22</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                <span class="k">if</span> <span class="n">iset</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">C22</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">C22</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                    <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">=</span> <span class="n">C22</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">*</span> <span class="n">iC2</span>
        <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">C22</span><span class="p">)</span> <span class="ow">in</span> <span class="s1">&#39;TwoPtCorrelators.TwoPointCorr&#39;</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;x&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">C22</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">C22</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">=</span> <span class="n">C22</span><span class="p">[(</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">*</span> <span class="n">iC2</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;x&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">NumbToFileName</span><span class="p">(</span><span class="n">C22</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
                <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">iC2</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                    <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">=</span> <span class="n">C22</span> <span class="o">*</span> <span class="n">iC2</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>


    <span class="k">def</span> <span class="nf">__rdiv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">C22</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">SetOfTwoPt</span><span class="p">(</span> <span class="n">cfglist</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span> <span class="n">InfoDict</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">C22</span><span class="p">,</span><span class="n">SetOfTwoPt</span><span class="p">):</span>
            <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;div&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">C22</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                <span class="k">if</span> <span class="n">iset</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">C22</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="k">if</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">C22</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                        <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">=</span> <span class="n">C22</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">/</span> <span class="n">iC2</span>
                    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
                        <span class="k">if</span> <span class="nb">any</span><span class="p">([</span><span class="n">ibs</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">ibs</span> <span class="ow">in</span> <span class="n">iC2</span><span class="o">.</span><span class="n">bootvals</span><span class="p">]):</span>
                            <span class="k">raise</span> <span class="ne">ZeroDivisionError</span><span class="p">(</span><span class="s1">&#39;Dividing by zero found in bootstrap division for &#39;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span><span class="o">+</span><span class="n">iC2</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">C22</span><span class="p">)</span> <span class="ow">in</span> <span class="s1">&#39;TwoPtCorrelators.TwoPointCorr&#39;</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;div&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">C22</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">C22</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                    <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">=</span> <span class="n">C22</span><span class="p">[(</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">/</span> <span class="n">iC2</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">any</span><span class="p">([</span><span class="n">ibs</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">ibs</span> <span class="ow">in</span> <span class="n">iC2</span><span class="o">.</span><span class="n">bootvals</span><span class="p">]):</span>
                        <span class="k">raise</span> <span class="ne">ZeroDivisionError</span><span class="p">(</span><span class="s1">&#39;Dividing by zero found in bootstrap division for &#39;</span><span class="o">+</span><span class="n">C22</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span><span class="o">+</span><span class="n">C22</span><span class="p">[(</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;div&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">NumbToFileName</span><span class="p">(</span><span class="n">C22</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">iC2</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                    <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">=</span> <span class="n">C22</span> <span class="o">/</span> <span class="n">iC2</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>


    <span class="k">def</span> <span class="nf">__rpow__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">C22</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">SetOfTwoPt</span><span class="p">(</span> <span class="n">cfglist</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span> <span class="n">InfoDict</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">C22</span><span class="p">,</span><span class="n">SetOfTwoPt</span><span class="p">):</span>
            <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;pow&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">C22</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                <span class="k">if</span> <span class="n">iset</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">C22</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">C22</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                    <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">=</span> <span class="n">C22</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">**</span> <span class="n">iC2</span>
        <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">C22</span><span class="p">)</span> <span class="ow">in</span> <span class="s1">&#39;TwoPtCorrelators.TwoPointCorr&#39;</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;pow&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">C22</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">C22</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">=</span> <span class="n">C22</span><span class="p">[(</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">**</span> <span class="n">iC2</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;pow&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">NumbToFileName</span><span class="p">(</span><span class="n">C22</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
                <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">iC2</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                    <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">)]</span> <span class="o">=</span> <span class="n">C22</span> <span class="o">**</span> <span class="n">iC2</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span></div>







<span class="c1">##############################################################################################</span>
<span class="c1">##############################################################################################</span>
<span class="c1">##############################################################################################</span>
<span class="c1">##############################################################################################</span>



<div class="viewcode-block" id="SetOfNNQ"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQ">[docs]</a><span class="k">class</span> <span class="nc">SetOfNNQ</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    NNQ(set) Inherits from TwoPtCorrelators Class</span>

<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="SetOfNNQ.Construct_NNQ_Set"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQ.Construct_NNQ_Set">[docs]</a>    <span class="k">def</span> <span class="nf">Construct_NNQ_Set</span><span class="p">(</span><span class="n">this_file_list</span><span class="p">):</span>
        <span class="n">set_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">NNQCorr</span><span class="o">.</span><span class="n">Construct_NNQ_File</span><span class="p">(</span><span class="n">ifile</span><span class="p">)</span> <span class="k">for</span> <span class="n">ifile</span> <span class="ow">in</span> <span class="n">this_file_list</span><span class="p">]</span>
        <span class="n">out_class</span> <span class="o">=</span> <span class="n">Construct_Empty</span><span class="p">(</span><span class="n">SetOfNNQ</span><span class="p">)</span>
        <span class="n">out_class</span><span class="o">.</span><span class="n">cfglist</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">out_class</span><span class="o">.</span><span class="n">InfoDict</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">out_class</span><span class="o">.</span><span class="n">Plotdir</span> <span class="o">=</span> <span class="n">graphdir</span><span class="o">+</span><span class="s1">&#39;/Alpha/&#39;</span>
        <span class="n">out_class</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Set1&#39;</span>
        <span class="n">out_class</span><span class="o">.</span><span class="n">SetC2</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">iset</span> <span class="ow">in</span> <span class="n">set_list</span><span class="p">:</span>
            <span class="n">out_class</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="n">iset</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">iset</span>
        <span class="k">return</span> <span class="n">out_class</span></div>

    <span class="n">instances</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">parentlist</span> <span class="o">=</span> <span class="p">[]</span>


    <span class="c1">## InfoDict is a list of Info dictionaries to be bassed to TwoPtCorr:</span>
    <span class="c1">## Setup to do fits taken from dictionaries within InfoDict (see TwoPtCorrelators.py)</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cfglist</span><span class="o">=</span><span class="p">{},</span> <span class="n">InfoDict</span><span class="o">=</span><span class="p">[],</span><span class="n">corr_cfglists</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">CompAhmed</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">TwoPtCorrelators</span> <span class="k">import</span> <span class="n">NNQCorr</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span> <span class="o">=</span> <span class="n">cfglist</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span> <span class="o">=</span> <span class="n">InfoDict</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span> <span class="o">=</span> <span class="n">graphdir</span><span class="o">+</span><span class="s1">&#39;/Alpha/&#39;</span>
        <span class="n">mkdir_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">AComp</span> <span class="o">=</span> <span class="n">CompAhmed</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Set&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">SetOfTwoPt</span><span class="o">.</span><span class="n">instances</span><span class="p">))</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">SetOfTwoPt</span><span class="o">.</span><span class="n">instances</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
            <span class="c1"># SetOfTwoPt.instances.append(self.name)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">ic</span><span class="p">,</span><span class="n">idict</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span><span class="p">):</span>
            <span class="n">thiscol</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
            <span class="n">thissym</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
            <span class="n">thisshift</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
            <span class="k">if</span> <span class="s1">&#39;autocorr&#39;</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">idict</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">idict</span><span class="p">[</span><span class="s1">&#39;autocorr&#39;</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
            <span class="n">thisC2</span> <span class="o">=</span> <span class="n">NNQCorr</span><span class="p">(</span><span class="n">cfglist</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span> <span class="n">Info</span><span class="o">=</span><span class="n">idict</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span><span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">thisC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                <span class="n">C2next</span> <span class="o">=</span> <span class="mi">2</span>
                <span class="k">while</span> <span class="nb">str</span><span class="p">(</span><span class="n">thisC2</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;_&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">C2next</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                    <span class="n">C2next</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">thisC2</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;_&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">C2next</span><span class="p">)]</span> <span class="o">=</span> <span class="n">thisC2</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">thisC2</span><span class="p">)]</span> <span class="o">=</span> <span class="n">thisC2</span>
            <span class="c1"># print &#39;Setting up classes for &#39; , thisC2 , &#39; complete&#39;</span>
            <span class="c1"># print &#39;has color&#39;,thiscol , &#39;symbol &#39; , thissym , &#39;thisshift&#39;,thisshift</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">SetC2len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span><span class="n">pa</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">corr_cfglists</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">GetCfgList</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">GetUnCorrCfgList</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ImportCfgList</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">)</span>
            <span class="c1">##Implement Reading cfglist if len(cfglist) == 0</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="mi">0</span>

<div class="viewcode-block" id="SetOfNNQ.GetUnCorrCfgList"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQ.GetUnCorrCfgList">[docs]</a>    <span class="k">def</span> <span class="nf">GetUnCorrCfgList</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">iC2</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">iC2</span><span class="o">.</span><span class="n">GetCfgList</span><span class="p">()</span></div>

<div class="viewcode-block" id="SetOfNNQ.RemoveFuns"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQ.RemoveFuns">[docs]</a>    <span class="k">def</span> <span class="nf">RemoveFuns</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">iC2</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">iC2</span><span class="o">.</span><span class="n">RemoveFuns</span><span class="p">()</span></div>
<div class="viewcode-block" id="SetOfNNQ.GetFuns"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQ.GetFuns">[docs]</a>    <span class="k">def</span> <span class="nf">GetFuns</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">iC2</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">iC2</span><span class="o">.</span><span class="n">GetFuns</span><span class="p">()</span></div>


<div class="viewcode-block" id="SetOfNNQ.GetCfgList"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQ.GetCfgList">[docs]</a>    <span class="k">def</span> <span class="nf">GetCfgList</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">GetUnCorrCfgList</span><span class="p">()</span>
        <span class="n">cfglist</span> <span class="o">=</span> <span class="n">CombineListCfgs</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span><span class="s1">&#39;NNQ_cfgs&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ImportCfgList</span><span class="p">(</span><span class="n">cfglist</span><span class="p">)</span></div>


<div class="viewcode-block" id="SetOfNNQ.ImportCfgList"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQ.ImportCfgList">[docs]</a>    <span class="k">def</span> <span class="nf">ImportCfgList</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">cfglist</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span> <span class="o">=</span> <span class="n">cfglist</span>
        <span class="k">for</span> <span class="n">iC2</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">iC2</span><span class="o">.</span><span class="n">ImportCfgList</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">)</span></div>



    <span class="c1"># def Read(self):</span>
    <span class="c1">#     for setdata in self.SetC2.itervalues():</span>
    <span class="c1">#         print &#39;Importing 2pt corr: &#39; , str(setdata)</span>
    <span class="c1">#         setdata.()</span>


<div class="viewcode-block" id="SetOfNNQ.Write"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQ.Write">[docs]</a>    <span class="k">def</span> <span class="nf">Write</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">iC2</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Writing 2pt corr: &#39;</span> <span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">iC2</span><span class="p">))</span>
            <span class="n">iC2</span><span class="o">.</span><span class="n">Write</span><span class="p">()</span></div>

    <span class="c1">## I like LoadPickle the best</span>
<div class="viewcode-block" id="SetOfNNQ.LoadPickle"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQ.LoadPickle">[docs]</a>    <span class="k">def</span> <span class="nf">LoadPickle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">DefWipe</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">CheckCfgs</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">CheckMom</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">NoFit</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ic</span><span class="p">,</span><span class="n">setdata</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;LoadPickle NNQ corr: &#39;</span> <span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">setdata</span><span class="p">))</span>
            <span class="n">setdata</span><span class="o">.</span><span class="n">LoadPickle</span><span class="p">(</span><span class="n">DefWipe</span><span class="o">=</span><span class="n">DefWipe</span><span class="p">,</span><span class="n">CheckCfgs</span><span class="o">=</span><span class="n">CheckCfgs</span><span class="p">,</span><span class="n">CheckMom</span><span class="o">=</span><span class="n">CheckMom</span><span class="p">,</span><span class="n">NoFit</span><span class="o">=</span><span class="n">NoFit</span><span class="p">)</span>
            <span class="n">setdata</span><span class="o">.</span><span class="n">ImportPlotParams</span><span class="p">(</span><span class="n">colourset8</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)],</span><span class="n">markerset</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
                                     <span class="p">,</span><span class="n">shiftset</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)])</span></div>
    <span class="c1"># def ReadAndWrite(self,DefWipe=False):</span>
    <span class="c1">#     for setdata in self.SetC2.itervalues():</span>
    <span class="c1">#         print &#39;Importing and Writing 2pt corr: &#39; , str(setdata)</span>
    <span class="c1">#         setdata.ReadAndWrite(DefWipe=DefWipe)</span>

    <span class="c1">## returns a TwoPtCorr class object (see TwoPtCorrelators.py)</span>
<div class="viewcode-block" id="SetOfNNQ.GetSet"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQ.GetSet">[docs]</a>    <span class="k">def</span> <span class="nf">GetSet</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">thisset</span><span class="o">=</span><span class="s1">&#39;First&#39;</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">thisset</span> <span class="o">==</span> <span class="s1">&#39;First&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="mi">0</span><span class="p">]]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="n">thisset</span><span class="p">]</span></div>


<div class="viewcode-block" id="SetOfNNQ.AppendNoiseSub"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQ.AppendNoiseSub">[docs]</a>    <span class="k">def</span> <span class="nf">AppendNoiseSub</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">indicies</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="n">filename</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">LegLab</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">indicies</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;please pass in 2 indicies for noise subtraction&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iset</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="s1">&#39;boot&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">iset</span><span class="o">.</span><span class="n">NNQ_Stats</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;WARNING, &#39;</span><span class="p">,</span> <span class="n">iset</span> <span class="p">,</span> <span class="s1">&#39; was not read and boostrapped, attempting to initialize now&#39;</span><span class="p">)</span>
                <span class="n">iset</span><span class="o">.</span><span class="n">LoadPickle</span><span class="p">(</span><span class="n">CheckCfgs</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">lset</span><span class="p">,</span><span class="n">rset</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">()))[</span><span class="n">indicies</span><span class="p">]</span>
        <span class="k">if</span> <span class="s1">&#39;Alphaboot&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">lset</span><span class="o">.</span><span class="n">NNQ_Stats</span><span class="p">:</span>
            <span class="n">lset</span><span class="o">.</span><span class="n">AlphaRatio</span><span class="p">()</span>
        <span class="k">if</span> <span class="s1">&#39;Alphaboot&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">rset</span><span class="o">.</span><span class="n">NNQ_Stats</span><span class="p">:</span>
            <span class="n">rset</span><span class="o">.</span><span class="n">AlphaRatio</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">lset</span><span class="o">.</span><span class="n">ProjStr</span> <span class="o">==</span> <span class="s1">&#39;g5&#39;</span><span class="p">:</span>
            <span class="n">thisC2</span> <span class="o">=</span> <span class="n">lset</span><span class="o">/</span><span class="mf">2.</span><span class="o">-</span><span class="n">rset</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">thisC2</span> <span class="o">=</span> <span class="n">lset</span><span class="o">-</span><span class="n">rset</span>
        <span class="n">thisC2</span><span class="o">.</span><span class="n">ProjStr</span> <span class="o">=</span> <span class="n">lset</span><span class="o">.</span><span class="n">ProjStr</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span><span class="o">+</span><span class="n">rset</span><span class="o">.</span><span class="n">ProjStr</span>
        <span class="n">thisC2</span><span class="o">.</span><span class="n">SetCustomName</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="n">filename</span><span class="p">,</span><span class="n">stringLL</span><span class="o">=</span><span class="n">LegLab</span><span class="p">)</span>
        <span class="n">thisC2</span><span class="o">.</span><span class="n">IsSubComb</span> <span class="o">=</span> <span class="n">thisC2</span><span class="o">.</span><span class="n">IsComb</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">thisC2</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span>
        <span class="n">thisC2</span><span class="o">.</span><span class="n">Write</span><span class="p">()</span>
        <span class="n">thiscol</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2len</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
        <span class="n">thissym</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2len</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
        <span class="n">thisshift</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2len</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
        <span class="n">thisC2</span><span class="o">.</span><span class="n">ImportPlotParams</span><span class="p">(</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="p">,</span><span class="n">thisshift</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">thisC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="n">C2next</span> <span class="o">=</span> <span class="mi">2</span>
            <span class="k">while</span> <span class="nb">str</span><span class="p">(</span><span class="n">thisC2</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;_&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">C2next</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                <span class="n">C2next</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">thisC2</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;_&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">C2next</span><span class="p">)]</span> <span class="o">=</span> <span class="n">thisC2</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">thisC2</span><span class="p">)]</span> <span class="o">=</span> <span class="n">thisC2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetC2len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span></div>

    <span class="c1">## thisfun(corr1,corr2,corr3,...)</span>
    <span class="c1">## Strongly encoraged to manually set the filename somewhere</span>
    <span class="c1">## e.g. sink smear combine we should get the first name and replace the sink smear with the sink smear label</span>
<div class="viewcode-block" id="SetOfNNQ.CombineCorrs"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQ.CombineCorrs">[docs]</a>    <span class="k">def</span> <span class="nf">CombineCorrs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">thisfun</span><span class="p">,</span><span class="n">jsmcoeffs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">filename</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">LegLab</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">jsmlab</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">indicies</span><span class="o">=</span><span class="s1">&#39;All&#39;</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">indicies</span> <span class="o">==</span> <span class="s1">&#39;All&#39;</span><span class="p">:</span>
            <span class="n">indicies</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()))))</span>


        <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iset</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="s1">&#39;boot&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">iset</span><span class="o">.</span><span class="n">NNQ_Stats</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;WARNING, &#39;</span><span class="p">,</span> <span class="n">iset</span> <span class="p">,</span> <span class="s1">&#39; was not read and boostrapped, attempting to initialize now&#39;</span><span class="p">)</span>
                <span class="n">iset</span><span class="o">.</span><span class="n">LoadPickle</span><span class="p">(</span><span class="n">CheckCfgs</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">Debug_Mode</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;debugsetsoftwopt&#39;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">()</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">thisfun</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">ival</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">()))[</span><span class="n">indicies</span><span class="p">]:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">ival</span><span class="p">)</span>

        <span class="n">output2pt</span> <span class="o">=</span> <span class="n">thisfun</span><span class="p">(</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">()))[</span><span class="n">indicies</span><span class="p">])</span>

        <span class="c1"># output2pt = thisfun(*self.SetC2.values())</span>
        <span class="n">output2pt</span><span class="o">.</span><span class="n">SetCustomName</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="n">filename</span><span class="p">,</span><span class="n">stringLL</span><span class="o">=</span><span class="n">LegLab</span><span class="p">)</span>
        <span class="n">output2pt</span><span class="o">.</span><span class="n">IsComb</span> <span class="o">=</span> <span class="kc">True</span> <span class="c1">## this needs to be done for alpha (maybe TODO move it into __add__ etc..?)</span>
        <span class="n">output2pt</span><span class="o">.</span><span class="n">jsm</span> <span class="o">=</span> <span class="n">jsmlab</span>
        <span class="k">if</span> <span class="n">jsmcoeffs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span> <span class="n">output2pt</span><span class="o">.</span><span class="n">Info</span><span class="p">[</span><span class="s1">&#39;jsmCoeffs&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">jsmcoeffs</span>
        <span class="c1"># print &#39;DEBUG&#39;</span>
        <span class="c1"># for ijsm,ival in zip(jsmcoeffs,np.array(self.SetC2.values())[indicies]):</span>
        <span class="c1">#     print ival</span>
        <span class="c1">#     print ijsm , &#39;*&#39; , ival.NNQ_Stats[&#39;boot&#39;][&#39;p000&#39;,&#39;t13&#39;,&#39;t_f6.01&#39;].Avg,ival.NNQ_Stats[&#39;boot&#39;][&#39;p000&#39;,&#39;t13&#39;,&#39;t_f6.01&#39;].Std</span>
        <span class="c1"># print output2pt</span>
        <span class="c1"># output2pt.NNQ_Stats[&#39;boot&#39;][&#39;p000&#39;,&#39;t13&#39;,&#39;t_f6.01&#39;].Stats()</span>
        <span class="c1"># print &#39;output&#39;,output2pt.NNQ_Stats[&#39;boot&#39;][&#39;p000&#39;,&#39;t13&#39;,&#39;t_f6.01&#39;].Avg,output2pt.NNQ_Stats[&#39;boot&#39;][&#39;p000&#39;,&#39;t13&#39;,&#39;t_f6.01&#39;].Std</span>
        <span class="n">output2pt</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span>
        <span class="n">output2pt</span><span class="o">.</span><span class="n">Write</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">output2pt</span></div>

<div class="viewcode-block" id="SetOfNNQ.AppendCCorrs"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQ.AppendCCorrs">[docs]</a>    <span class="k">def</span> <span class="nf">AppendCCorrs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">thisfun</span><span class="p">,</span><span class="n">jsmcoeffs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">filename</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">LegLab</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">jsm</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">indicies</span><span class="o">=</span><span class="s1">&#39;All&#39;</span><span class="p">):</span>
        <span class="n">thiscol</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2len</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
        <span class="n">thissym</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2len</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
        <span class="n">thisshift</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2len</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
        <span class="n">thisC2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CombineCorrs</span><span class="p">(</span><span class="n">thisfun</span><span class="p">,</span><span class="n">filename</span><span class="o">=</span><span class="n">filename</span><span class="p">,</span><span class="n">jsmcoeffs</span><span class="o">=</span><span class="n">jsmcoeffs</span><span class="p">,</span><span class="n">LegLab</span><span class="o">=</span><span class="n">LegLab</span><span class="p">,</span><span class="n">jsmlab</span> <span class="o">=</span> <span class="n">jsm</span><span class="p">,</span><span class="n">indicies</span><span class="o">=</span><span class="n">indicies</span><span class="p">)</span>
        <span class="n">thisC2</span><span class="o">.</span><span class="n">ImportPlotParams</span><span class="p">(</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="p">,</span><span class="n">thisshift</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">thisC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="n">C2next</span> <span class="o">=</span> <span class="mi">2</span>
            <span class="k">while</span> <span class="nb">str</span><span class="p">(</span><span class="n">thisC2</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;_&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">C2next</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                <span class="n">C2next</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">thisC2</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;_&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">C2next</span><span class="p">)]</span> <span class="o">=</span> <span class="n">thisC2</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">thisC2</span><span class="p">)]</span> <span class="o">=</span> <span class="n">thisC2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetC2len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span></div>


    <span class="c1">## fitlist is list of touples { set : (&#39;state#&#39;,&#39;fitr#-#&#39;)}</span>
<div class="viewcode-block" id="SetOfNNQ.AlphaPlotTauIntWopt"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQ.AlphaPlotTauIntWopt">[docs]</a>    <span class="k">def</span> <span class="nf">AlphaPlotTauIntWopt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">plot_info</span><span class="p">,</span><span class="n">momlist</span><span class="o">=</span><span class="p">[],</span><span class="n">tflowlist</span><span class="o">=</span><span class="s1">&#39;PreDef&#39;</span><span class="p">,</span><span class="n">OnlyVar</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\tau_</span><span class="si">{int}</span><span class="s1">(W_</span><span class="si">{opt}</span><span class="s1">)$ for $\alpha$ over $t$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$t$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\tau_</span><span class="si">{int}</span><span class="s1">(W_</span><span class="si">{opt}</span><span class="s1">)$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_Alpha_t_tauintWopt.pdf&#39;</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>
        <span class="n">varcount</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">icount</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="k">if</span> <span class="p">((</span><span class="ow">not</span> <span class="n">OnlyVar</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ikey</span> <span class="ow">in</span>  <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">icount</span><span class="p">]:</span>
                <span class="n">thiscol</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
                <span class="n">thissym</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
                <span class="n">thisshift</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
                <span class="n">varcount</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Alpha tau int over time &#39;</span><span class="p">,</span> <span class="n">iC2</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">tflowlist</span> <span class="o">==</span> <span class="s1">&#39;PreDef&#39;</span><span class="p">:</span>
                    <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaPlotTauIntWopt</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span>
                                                        <span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">itflow</span> <span class="o">=</span> <span class="n">tflowlist</span><span class="p">[</span><span class="n">icount</span><span class="p">]</span>
                    <span class="c1"># thiscol,thisshift,thissym = self.GetColShiftSym(iC2,mult=ictflow)</span>
                    <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaPlotTauIntWopt</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">thistflowlist</span> <span class="o">=</span> <span class="p">[</span><span class="n">itflow</span><span class="p">],</span>
                                                        <span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span>
                                                        <span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span>
                                                        <span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">)</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>

    <span class="c1">## fitlist is list of touples { set : (&#39;state#&#39;,&#39;fitr#-#&#39;)}</span>
<div class="viewcode-block" id="SetOfNNQ.AlphaPlot"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQ.AlphaPlot">[docs]</a>    <span class="k">def</span> <span class="nf">AlphaPlot</span><span class="p">(</span>  <span class="bp">self</span><span class="p">,</span><span class="n">plot_info</span><span class="p">,</span><span class="n">fitDict</span><span class="o">=</span><span class="n">defFitDict</span><span class="p">,</span><span class="n">momlist</span><span class="o">=</span><span class="p">[],</span><span class="n">tflowlist</span><span class="o">=</span><span class="s1">&#39;PreDef&#39;</span><span class="p">,</span>
                    <span class="n">NNQfit</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">OnlyVar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">AComp</span><span class="o">=</span><span class="s1">&#39;PreDef&#39;</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;Nucleon Mixing Angle $\alpha$ over $t$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$t$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\alpha$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_Alpha_t.pdf&#39;</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">AComp</span> <span class="o">!=</span> <span class="s1">&#39;PreDef&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">AComp</span> <span class="o">=</span> <span class="n">AComp</span>
        <span class="n">fit_is_dict</span> <span class="o">=</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fitDict</span><span class="p">,(</span><span class="n">OrderedDict</span><span class="p">,</span><span class="nb">dict</span><span class="p">))</span>
        <span class="n">varcount</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">icount</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">OnlyVar</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ikey</span> <span class="ow">in</span>  <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="p">:</span>
                <span class="n">thiscol</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
                <span class="n">thissym</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
                <span class="n">thisshift</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
                <span class="n">varcount</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Alpha plotting over time &#39;</span><span class="p">,</span> <span class="n">iC2</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">tflowlist</span> <span class="o">==</span> <span class="s1">&#39;PreDef&#39;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">fit_is_dict</span><span class="p">:</span>
                        <span class="n">thisxlim</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="nb">int</span><span class="p">(</span><span class="n">fitDict</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">])]</span>
                        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaPlot</span><span class="p">(</span>  <span class="n">data_plot</span><span class="p">,</span><span class="n">xlims</span><span class="o">=</span><span class="n">thisxlim</span><span class="p">,</span><span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span>
                                                <span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">,</span>
                                                <span class="n">Auto</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">icount</span><span class="p">])</span>
                        <span class="k">if</span> <span class="n">ikey</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">fitDict</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                            <span class="k">if</span> <span class="n">NNQfit</span><span class="p">:</span>
                                <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaNNQFitPlot</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">fitDict</span><span class="p">[</span><span class="n">ikey</span><span class="p">],</span>
                                                <span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span><span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">,</span>
                                                <span class="n">Auto</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">icount</span><span class="p">])</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaFitPlot</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">fitDict</span><span class="p">[</span><span class="n">ikey</span><span class="p">],</span>
                                                <span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span><span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">,</span>
                                                <span class="n">Auto</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">icount</span><span class="p">])</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">thisxlim</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="nb">int</span><span class="p">(</span><span class="n">fitDict</span><span class="p">[</span><span class="n">icount</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">])]</span>
                        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaPlot</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">xlims</span><span class="o">=</span><span class="n">thisxlim</span><span class="p">,</span><span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span>
                                                <span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">,</span>
                                                <span class="n">Auto</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">icount</span><span class="p">])</span>
                        <span class="k">if</span> <span class="n">NNQfit</span><span class="p">:</span>
                            <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaNNQFitPlot</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">fitDict</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span>
                                                <span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span><span class="n">Auto</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">icount</span><span class="p">])</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaFitPlot</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">fitDict</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span>
                                                <span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span><span class="n">Auto</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">icount</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">itflow</span> <span class="o">=</span> <span class="n">tflowlist</span><span class="p">[</span><span class="n">icount</span><span class="p">]</span>
                    <span class="c1"># thiscol,thisshift,thissym = self.GetColShiftSym(iC2,mult=ictflow)</span>
                    <span class="k">if</span> <span class="n">fit_is_dict</span><span class="p">:</span>
                        <span class="n">thisxlim</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="nb">int</span><span class="p">(</span><span class="n">fitDict</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">])]</span>
                        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaPlot</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">xlims</span><span class="o">=</span><span class="n">thisxlim</span><span class="p">,</span><span class="n">thistflowlist</span><span class="o">=</span><span class="p">[</span><span class="n">itflow</span><span class="p">],</span>
                                                <span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span><span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span>
                                                <span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">,</span><span class="n">Auto</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">icount</span><span class="p">])</span>
                        <span class="k">if</span> <span class="n">ikey</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">fitDict</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                            <span class="k">if</span> <span class="n">NNQfit</span><span class="p">:</span>
                                <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaNNQFitPlot</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">fitDict</span><span class="p">[</span><span class="n">ikey</span><span class="p">],</span><span class="n">thistflowlist</span><span class="o">=</span><span class="p">[</span><span class="n">itflow</span><span class="p">],</span>
                                                <span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span><span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">,</span>
                                                <span class="n">Auto</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">icount</span><span class="p">])</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaFitPlot</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">fitDict</span><span class="p">[</span><span class="n">ikey</span><span class="p">],</span><span class="n">thistflowlist</span><span class="o">=</span><span class="p">[</span><span class="n">itflow</span><span class="p">],</span>
                                                <span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span><span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">,</span>
                                                <span class="n">Auto</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">icount</span><span class="p">])</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">thisxlim</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="nb">int</span><span class="p">(</span><span class="n">fitDict</span><span class="p">[</span><span class="n">icount</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">])]</span>
                        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaPlot</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">xlims</span><span class="o">=</span><span class="n">thisxlim</span><span class="p">,</span><span class="n">thistflowlist</span> <span class="o">=</span> <span class="p">[</span><span class="n">itflow</span><span class="p">],</span>
                                                <span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span><span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span>
                                                <span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">,</span><span class="n">Auto</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">icount</span><span class="p">])</span>
                        <span class="k">if</span> <span class="n">NNQfit</span><span class="p">:</span>
                            <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaNNQFitPlot</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">fitDict</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span><span class="n">thistflowlist</span><span class="o">=</span><span class="p">[</span><span class="n">itflow</span><span class="p">],</span>
                                                <span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span><span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">,</span>
                                                <span class="n">Auto</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">icount</span><span class="p">])</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaFitPlot</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">fitDict</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span><span class="n">thistflowlist</span><span class="o">=</span><span class="p">[</span><span class="n">itflow</span><span class="p">],</span>
                                                <span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span><span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">,</span>
                                                <span class="n">Auto</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">icount</span><span class="p">])</span>

        <span class="c1"># sinklab,jsmcoeffs,sm2ptList,InfoList = GetInfoList(self.InfoDict[0])</span>
        <span class="c1"># InfoList = self.InfoDict</span>
        <span class="c1"># thisname,thisleglab,jsmlab = CreateNameAndLL(self.SetC2,sinklab)</span>
        <span class="c1"># thisfun = GenSinkFun(jsmcoeffs)</span>
        <span class="c1"># # print thisname,thisleglab</span>
        <span class="c1"># # print jsmcoeffs</span>
        <span class="c1"># # print sinklab</span>
        <span class="c1"># # print thisfun.__name__</span>
        <span class="c1"># # print self.FOSet.SetC2.keys()</span>
        <span class="c1"># # print self.FOSet.SetC2[self.FOSet.SetC2.keys()[0]].NNQboot</span>
        <span class="c1"># combcorr = self.CombineCorrs(thisfun,thisname,thisleglab,jsmlab)</span>

        <span class="c1"># combcorr.AlphaPlot(momlist=momlist[icount])</span>

        <span class="c1">## compares it to what ever the information dictornarys first element parameters are</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">AComp</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Ahmed comparison not implemented for updated plotting version&#39;</span><span class="p">)</span>
            <span class="c1"># thiscol = colourset8[varcount+1%len(colourset8)]</span>
            <span class="c1"># thissym = markerset[varcount+1%len(markerset)]</span>
            <span class="c1"># thisshift = shiftset[varcount+1%len(shiftset)]</span>
            <span class="c1"># Adata = ara.AResAlpha(Info=self.InfoDict[0],thissym=thissym,thiscol=thiscol,thisshift=thisshift,Auto=self.AutoList[0])</span>
            <span class="c1"># Adata.ReadAlpha()</span>
            <span class="c1"># Adata.PlotAlpha(xlims=thisxlim)</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>




    <span class="c1">## this is used for plotting multiple versions of the same results (over tflow or tsink if you like)</span>
<div class="viewcode-block" id="SetOfNNQ.GetColShiftSym"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQ.GetColShiftSym">[docs]</a>    <span class="k">def</span> <span class="nf">GetColShiftSym</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">iC2</span><span class="p">,</span><span class="n">mult</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="n">thiscol</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[(</span><span class="n">colourset8</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">iC2</span><span class="o">.</span><span class="n">thiscol</span><span class="p">)</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2len</span><span class="o">*</span><span class="n">mult</span><span class="p">)</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
        <span class="n">thissym</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[(</span><span class="n">markerset</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">iC2</span><span class="o">.</span><span class="n">thissym</span><span class="p">)</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2len</span><span class="o">*</span><span class="n">mult</span><span class="p">)</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
        <span class="n">thisshift</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[(</span><span class="n">shiftset</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">iC2</span><span class="o">.</span><span class="n">thisshift</span><span class="p">)</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2len</span><span class="o">*</span><span class="n">mult</span><span class="p">)</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
        <span class="k">return</span> <span class="n">thiscol</span><span class="p">,</span><span class="n">thisshift</span><span class="p">,</span><span class="n">thissym</span></div>

<div class="viewcode-block" id="SetOfNNQ.AlphaPlotTflowTauIntWopt"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQ.AlphaPlotTflowTauIntWopt">[docs]</a>    <span class="k">def</span> <span class="nf">AlphaPlotTflowTauIntWopt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">plot_info</span><span class="p">,</span><span class="n">tflowlist</span><span class="o">=</span><span class="n">defxlimAlphaTflow</span><span class="p">,</span><span class="n">tlist</span><span class="o">=</span><span class="s1">&#39;PreDef&#39;</span><span class="p">,</span><span class="n">momlist</span><span class="o">=</span><span class="p">[],</span><span class="n">OnlyVar</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\tau_</span><span class="si">{int}</span><span class="s1">(W_</span><span class="si">{opt}</span><span class="s1">)$ for $\alpha$ over $t_</span><span class="si">{f}</span><span class="s1">$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\sqrt{8t_</span><span class="si">{f}</span><span class="s1">}[fm]$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\tau_</span><span class="si">{int}</span><span class="s1">(W_</span><span class="si">{opt}</span><span class="s1">)$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_Alpha_tflow_tauintWopt.pdf&#39;</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>
        <span class="n">tflow_is_list</span>  <span class="o">=</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">tflowlist</span><span class="p">[</span><span class="mi">0</span><span class="p">],(</span><span class="nb">list</span><span class="p">,</span><span class="nb">tuple</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">))</span>
        <span class="n">varcount</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">icount</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="k">if</span> <span class="p">((</span><span class="ow">not</span> <span class="n">OnlyVar</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ikey</span> <span class="ow">in</span>  <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">icount</span><span class="p">]:</span>
                <span class="n">thiscol</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
                <span class="n">thissym</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
                <span class="n">thisshift</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
                <span class="n">varcount</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Alpha tau int over flow time &#39;</span><span class="p">,</span> <span class="n">iC2</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">tlist</span> <span class="o">==</span> <span class="s1">&#39;PreDef&#39;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">tflow_is_list</span><span class="p">:</span>
                        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaPlotTflowTauIntWopt</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">tflowplot</span><span class="o">=</span><span class="n">tflowlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span>
                                            <span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span><span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span>
                                            <span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaPlotTflowTauIntWopt</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">tflowplot</span><span class="o">=</span><span class="n">tflowlist</span><span class="p">,</span>
                                            <span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span><span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span>
                                            <span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">thist</span> <span class="o">=</span> <span class="n">tlist</span><span class="p">[</span><span class="n">icount</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">tflow_is_list</span><span class="p">:</span>
                        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaPlotTflowTauIntWopt</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">tflowplot</span><span class="o">=</span><span class="n">tflowlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span>
                                            <span class="n">thistsinklist</span> <span class="o">=</span> <span class="p">[</span><span class="n">thist</span><span class="p">],</span><span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span>
                                            <span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaPlotTflowTauIntWopt</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">tflowplot</span><span class="o">=</span><span class="n">tflowlist</span><span class="p">,</span>
                                            <span class="n">thistsinklist</span> <span class="o">=</span> <span class="p">[</span><span class="n">thist</span><span class="p">],</span><span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span>
                                            <span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">)</span>
                <span class="c1"># if ikey in fitDict.keys():</span>
                <span class="c1">#     iC2.AlphaFitPlot(fitDict[ikey])</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>


<div class="viewcode-block" id="SetOfNNQ.AlphaPlotTflow"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQ.AlphaPlotTflow">[docs]</a>    <span class="k">def</span> <span class="nf">AlphaPlotTflow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">plot_info</span><span class="p">,</span><span class="n">tflowlist</span><span class="o">=</span><span class="n">defxlimAlphaTflow</span><span class="p">,</span><span class="n">tlist</span><span class="o">=</span><span class="s1">&#39;PreDef&#39;</span><span class="p">,</span><span class="n">momlist</span><span class="o">=</span><span class="p">[],</span><span class="n">OnlyVar</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;Nucleon Mixing Angle $\alpha$ over $t_</span><span class="si">{f}</span><span class="s1">$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\sqrt{8t_</span><span class="si">{f}</span><span class="s1">}[fm]$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\alpha$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_Alpha_tflow.pdf&#39;</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>
        <span class="n">tflow_is_list</span>  <span class="o">=</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">tflowlist</span><span class="p">[</span><span class="mi">0</span><span class="p">],(</span><span class="nb">list</span><span class="p">,</span><span class="nb">tuple</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">))</span>
        <span class="n">varcount</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">icount</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">OnlyVar</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ikey</span> <span class="ow">in</span>  <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="p">:</span>
                <span class="n">thiscol</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
                <span class="n">thissym</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
                <span class="n">thisshift</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
                <span class="n">varcount</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Alpha plotting over flow time &#39;</span><span class="p">,</span> <span class="n">iC2</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">tlist</span> <span class="o">==</span> <span class="s1">&#39;PreDef&#39;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">tflow_is_list</span><span class="p">:</span>
                        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaPlotTflow</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">tflowplot</span><span class="o">=</span><span class="n">tflowlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span>
                                            <span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span><span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span>
                                            <span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">,</span><span class="n">Auto</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">icount</span><span class="p">])</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaPlotTflow</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">tflowplot</span><span class="o">=</span><span class="n">tflowlist</span><span class="p">,</span><span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span>
                                            <span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">,</span>
                                            <span class="n">Auto</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">icount</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">thist</span> <span class="o">=</span> <span class="n">tlist</span><span class="p">[</span><span class="n">icount</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">tflow_is_list</span><span class="p">:</span>
                        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaPlotTflow</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">tflowplot</span><span class="o">=</span><span class="n">tflowlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span>
                                            <span class="n">thistsinklist</span> <span class="o">=</span> <span class="p">[</span><span class="n">thist</span><span class="p">],</span><span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span>
                                            <span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">,</span>
                                            <span class="n">Auto</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">icount</span><span class="p">])</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaPlotTflow</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">tflowplot</span><span class="o">=</span><span class="n">tflowlist</span><span class="p">,</span><span class="n">thistsinklist</span><span class="o">=</span><span class="p">[</span><span class="n">thist</span><span class="p">],</span>
                                            <span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span><span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span>
                                            <span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">,</span><span class="n">Auto</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">icount</span><span class="p">])</span>
                <span class="c1"># if ikey in fitDict.keys():</span>
                <span class="c1">#     iC2.AlphaFitPlot(fitDict[ikey])</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>


    <span class="c1">## fitlist is list of touples { set : (&#39;state#&#39;,&#39;fitr#-#&#39;)}</span>
    <span class="c1">## momlist is now all of them. THIS IS DIFFERENT TO ABOVE</span>
<div class="viewcode-block" id="SetOfNNQ.AlphaPlotVsEnergy"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQ.AlphaPlotVsEnergy">[docs]</a>    <span class="k">def</span> <span class="nf">AlphaPlotVsEnergy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">plot_info</span><span class="p">,</span><span class="n">fitDict</span><span class="o">=</span><span class="n">defFitDict</span><span class="p">,</span><span class="n">momlist</span><span class="o">=</span><span class="p">[],</span><span class="n">tflowlist</span><span class="o">=</span><span class="s1">&#39;PreDef&#39;</span><span class="p">,</span><span class="n">OnlyVar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">WipeFit</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;Nucleon Mixing Angle $\alpha$ vs energy extraction from&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$E_</span><span class="si">{p}</span><span class="s1">$ [GeV]&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\alpha$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_Alpha_VsEnergy.pdf&#39;</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>
        <span class="n">fit_is_dict</span> <span class="o">=</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fitDict</span><span class="p">,(</span><span class="n">OrderedDict</span><span class="p">,</span><span class="nb">dict</span><span class="p">))</span>
        <span class="n">varcount</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">icount</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">OnlyVar</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ikey</span> <span class="ow">in</span>  <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="p">:</span>
                <span class="n">thiscol</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
                <span class="n">thissym</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
                <span class="n">thisshift</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
                <span class="n">varcount</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Alpha plotting over time &#39;</span><span class="p">,</span> <span class="n">iC2</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">tflowlist</span> <span class="o">==</span> <span class="s1">&#39;PreDef&#39;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">fit_is_dict</span> <span class="ow">and</span> <span class="n">ikey</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">fitDict</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaPlotVsEnergy</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">fitDict</span><span class="p">[</span><span class="n">ikey</span><span class="p">],</span><span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span>
                                                <span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">,</span>
                                                <span class="n">Auto</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span><span class="n">WipeFit</span><span class="o">=</span><span class="n">WipeFit</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaPlotVsEnergy</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">fitDict</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span><span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span>
                                                <span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">,</span>
                                                <span class="n">Auto</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span><span class="n">WipeFit</span><span class="o">=</span><span class="n">WipeFit</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">itflow</span> <span class="o">=</span> <span class="n">tflowlist</span><span class="p">[</span><span class="n">icount</span><span class="p">]</span>
                    <span class="c1"># thiscol,thisshift,thissym = self.GetColShiftSym(iC2,mult=ictflow)</span>
                    <span class="k">if</span> <span class="n">fit_is_dict</span><span class="p">:</span>
                        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaPlotVsEnergy</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">fitDict</span><span class="p">[</span><span class="n">ikey</span><span class="p">],</span><span class="n">thistflowlist</span><span class="o">=</span><span class="p">[</span><span class="n">itflow</span><span class="p">],</span>
                                                <span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span><span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span>
                                                <span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">,</span><span class="n">Auto</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span><span class="n">WipeFit</span><span class="o">=</span><span class="n">WipeFit</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaPlotVsEnergy</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">fitDict</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span><span class="n">thistflowlist</span><span class="o">=</span><span class="p">[</span><span class="n">itflow</span><span class="p">],</span>
                                                <span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span><span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span>
                                                <span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">,</span><span class="n">Auto</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span><span class="n">WipeFit</span><span class="o">=</span><span class="n">WipeFit</span><span class="p">)</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>


<div class="viewcode-block" id="SetOfNNQ.AlphaPlotVsLatSpace"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQ.AlphaPlotVsLatSpace">[docs]</a>    <span class="k">def</span> <span class="nf">AlphaPlotVsLatSpace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">plot_info</span><span class="p">,</span><span class="n">this_fit</span><span class="p">,</span><span class="n">plottflowlist</span><span class="o">=</span><span class="s1">&#39;PreDefine&#39;</span><span class="p">,</span><span class="n">momlist</span><span class="o">=</span><span class="s1">&#39;p000&#39;</span><span class="p">,</span><span class="n">OnlyVar</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\alpha_</span><span class="si">{N}</span><span class="s1">$ Lattice spacing $a$ dependance&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$ a[fm]$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\alpha_</span><span class="si">{N}</span><span class="s1">$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_VsLatSpace.pdf&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlims&#39;</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlims&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlims&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlims&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="kc">None</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">this_fit</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span>
            <span class="n">this_fit</span> <span class="o">=</span> <span class="p">[</span><span class="n">this_fit</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">momlist</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span>
            <span class="n">momlist</span> <span class="o">=</span> <span class="p">[</span><span class="n">momlist</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">plottflowlist</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span>
            <span class="n">plottflowlist</span> <span class="o">=</span> <span class="p">[</span><span class="n">plottflowlist</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iset</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">OnlyVar</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ikey</span> <span class="ow">in</span>  <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="p">:</span>
                <span class="n">firstset</span> <span class="o">=</span> <span class="n">iset</span>
                <span class="k">break</span>
        <span class="n">the_mpi</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="n">this_bool</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iset</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">OnlyVar</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ikey</span> <span class="ow">in</span>  <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">firstset</span><span class="o">.</span><span class="n">NN</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">GetPionMass</span><span class="p">()</span> <span class="o">!=</span> <span class="n">iset</span><span class="o">.</span><span class="n">NN</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">GetPionMass</span><span class="p">():</span>
                    <span class="n">this_bool</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;warning: not all mpi values are the same for latspace plot&#39;</span><span class="p">)</span>
                    <span class="k">break</span>
        <span class="k">if</span> <span class="n">this_bool</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iset</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">OnlyVar</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ikey</span> <span class="ow">in</span>  <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">iset</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">iset</span><span class="o">.</span><span class="n">NN</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">GetPionMass</span><span class="p">())</span>
                    <span class="nb">print</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">the_mpi</span> <span class="o">=</span> <span class="n">firstset</span><span class="o">.</span><span class="n">NN</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">GetPionMassLab</span><span class="p">(</span><span class="n">MeV</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Plotting fit results over lattice spacing&#39;</span><span class="p">)</span>
        <span class="n">ploty</span><span class="p">,</span><span class="n">plotx</span> <span class="o">=</span> <span class="p">[],[]</span>
        <span class="k">for</span> <span class="n">ic</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iset</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">OnlyVar</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ikey</span> <span class="ow">in</span>  <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="p">:</span>
                <span class="n">fit_data</span> <span class="o">=</span> <span class="n">iset</span><span class="o">.</span><span class="n">Get_Extrapolation</span><span class="p">()</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="k">continue</span>
                <span class="n">this_fun</span> <span class="o">=</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>
                <span class="n">this_par</span> <span class="o">=</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">4</span><span class="p">]</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">momlist</span><span class="p">[</span><span class="n">ic</span><span class="p">],</span><span class="nb">str</span><span class="p">):</span>
                    <span class="n">this_key</span> <span class="o">=</span> <span class="n">momlist</span><span class="p">[</span><span class="n">ic</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span><span class="n">plottflowlist</span><span class="p">[</span><span class="n">ic</span><span class="p">],</span><span class="n">this_fun</span><span class="p">,</span><span class="n">this_fit</span><span class="p">[</span><span class="n">ic</span><span class="p">],</span><span class="n">this_par</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">this_key</span> <span class="o">=</span> <span class="n">momlist</span><span class="p">[</span><span class="n">ic</span><span class="p">],</span><span class="n">plottflowlist</span><span class="p">[</span><span class="n">ic</span><span class="p">],</span><span class="n">this_fun</span><span class="p">,</span><span class="n">this_fit</span><span class="p">[</span><span class="n">ic</span><span class="p">],</span><span class="n">this_par</span>
                <span class="k">if</span> <span class="s1">&#39;all&#39;</span> <span class="ow">in</span> <span class="n">this_key</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                    <span class="n">this_key</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">this_key</span><span class="p">)</span>
                    <span class="n">this_key</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
                    <span class="n">this_key</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">this_key</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">this_key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">fit_data</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">this_key</span><span class="p">,</span> <span class="s1">&#39; fit has not been computed for alpha, attempting now&#39;</span><span class="p">)</span>
                    <span class="n">iset</span><span class="o">.</span><span class="n">FitAlpha</span><span class="p">(</span><span class="n">fit_range</span><span class="o">=</span><span class="n">this_fit</span><span class="p">[</span><span class="n">ic</span><span class="p">])</span>
                    <span class="n">fit_data</span> <span class="o">=</span> <span class="n">iset</span><span class="o">.</span><span class="n">Get_Extrapolation</span><span class="p">()</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="k">continue</span>
                    <span class="n">this_fun</span> <span class="o">=</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>
                    <span class="n">this_par</span> <span class="o">=</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">4</span><span class="p">]</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">momlist</span><span class="p">[</span><span class="n">ic</span><span class="p">],</span><span class="nb">str</span><span class="p">):</span>
                        <span class="n">this_key</span> <span class="o">=</span> <span class="n">momlist</span><span class="p">[</span><span class="n">ic</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span><span class="n">plottflowlist</span><span class="p">[</span><span class="n">ic</span><span class="p">],</span><span class="n">this_fun</span><span class="p">,</span><span class="n">this_fit</span><span class="p">[</span><span class="n">ic</span><span class="p">],</span><span class="n">this_par</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">this_key</span> <span class="o">=</span> <span class="n">momlist</span><span class="p">[</span><span class="n">ic</span><span class="p">],</span><span class="n">plottflowlist</span><span class="p">[</span><span class="n">ic</span><span class="p">],</span><span class="n">this_fun</span><span class="p">,</span><span class="n">this_fit</span><span class="p">[</span><span class="n">ic</span><span class="p">],</span><span class="n">this_par</span>
                    <span class="k">if</span> <span class="s1">&#39;all&#39;</span> <span class="ow">in</span> <span class="n">this_key</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                        <span class="n">this_key</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">this_key</span><span class="p">)</span>
                        <span class="n">this_key</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
                        <span class="n">this_key</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">this_key</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">this_key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">fit_data</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39; ERROR FITTING:&#39;</span> <span class="p">,</span>  <span class="n">this_key</span><span class="p">)</span>
                        <span class="nb">print</span><span class="p">(</span><span class="n">fit_data</span><span class="p">)</span>
                        <span class="k">continue</span>
                <span class="n">this_names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;$a$&#39;</span><span class="p">]</span><span class="o">+</span><span class="nb">list</span><span class="p">(</span><span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">names</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">ireskey</span><span class="p">,</span><span class="n">ires</span> <span class="ow">in</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="n">ploty</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ires</span><span class="p">)</span>
                    <span class="n">plotx</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">iset</span><span class="o">.</span><span class="n">NN</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">GetLatSpaceLab</span><span class="p">(),)</span><span class="o">+</span><span class="n">ireskey</span><span class="p">)</span> <span class="c1">## in MeV</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">plotx</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">plot_key</span> <span class="o">=</span> <span class="p">[</span><span class="nb">slice</span><span class="p">(</span><span class="kc">None</span><span class="p">)]</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">plotx</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">:])</span>
            <span class="n">indicies</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_tuples</span><span class="p">(</span><span class="n">plotx</span><span class="p">,</span><span class="n">names</span><span class="o">=</span><span class="n">this_names</span><span class="p">)</span>
            <span class="n">ploty</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">ploty</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="n">indicies</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;No Sets Found for plotting vs lat spacing&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">data_plot</span>

        <span class="c1"># thisFF = thisFF.replace(&#39;tilde&#39;,r&#39;\tilde&#39;)</span>
        <span class="c1"># thisFF = thisFF.replace(&#39;frac&#39;,r&#39;\frac&#39;)</span>
        <span class="n">thislab</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$&#39;</span><span class="o">+</span><span class="sa">r</span><span class="s1">&#39;\ &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">the_mpi</span><span class="p">])</span><span class="o">+</span><span class="sa">r</span><span class="s1">&#39;$ &#39;</span>
        <span class="n">hold_series</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">null_series</span><span class="p">)</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;x_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;from_keys&#39;</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;y_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ploty</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">Avg</span><span class="p">)</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;yerr_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ploty</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">Std</span><span class="p">)</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;key_select&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">plot_key</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;error_bar_vary&#39;</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">thislab</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;symbol&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;o&#39;</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">AppendData</span><span class="p">(</span><span class="n">hold_series</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plot_Extrap</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="s1">&#39;latspace&#39;</span><span class="p">)</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>


<div class="viewcode-block" id="SetOfNNQ.AlphaPlotVsMpi"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQ.AlphaPlotVsMpi">[docs]</a>    <span class="k">def</span> <span class="nf">AlphaPlotVsMpi</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">plot_info</span><span class="p">,</span><span class="n">this_fit</span><span class="p">,</span><span class="n">plottflowlist</span><span class="o">=</span><span class="s1">&#39;PreDefine&#39;</span><span class="p">,</span><span class="n">momlist</span><span class="o">=</span><span class="s1">&#39;p000&#39;</span><span class="p">,</span><span class="n">OnlyVar</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\alpha_</span><span class="si">{N}</span><span class="s1">$ $m_{\pi}$ dependance&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$ m_{\pi}[MeV]$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\alpha_</span><span class="si">{N}</span><span class="s1">$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_VsMpi.pdf&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlims&#39;</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlims&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlims&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlims&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="kc">None</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">this_fit</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span>
            <span class="n">this_fit</span> <span class="o">=</span> <span class="p">[</span><span class="n">this_fit</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">momlist</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span>
            <span class="n">momlist</span> <span class="o">=</span> <span class="p">[</span><span class="n">momlist</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">plottflowlist</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span>
            <span class="n">plottflowlist</span> <span class="o">=</span> <span class="p">[</span><span class="n">plottflowlist</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iset</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">OnlyVar</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ikey</span> <span class="ow">in</span>  <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="p">:</span>
                <span class="n">firstset</span> <span class="o">=</span> <span class="n">iset</span>
                <span class="k">break</span>
        <span class="n">the_latspace</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="n">this_bool</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iset</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">OnlyVar</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ikey</span> <span class="ow">in</span>  <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">firstset</span><span class="o">.</span><span class="n">NN</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">latspace</span> <span class="o">!=</span> <span class="n">iset</span><span class="o">.</span><span class="n">NN</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">latspace</span><span class="p">:</span>
                    <span class="n">this_bool</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;warning: not all lattice spacing values are the same for mpi plot&#39;</span><span class="p">)</span>
                    <span class="k">break</span>
        <span class="k">if</span> <span class="n">this_bool</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iset</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">OnlyVar</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ikey</span> <span class="ow">in</span>  <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">iset</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">iset</span><span class="o">.</span><span class="n">NN</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">latspace</span><span class="p">)</span>
                    <span class="nb">print</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">the_latspace</span> <span class="o">=</span> <span class="n">firstset</span><span class="o">.</span><span class="n">NN</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">GetLatSpaceLab</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Plotting fit results over pion mass&#39;</span><span class="p">)</span>

        <span class="n">ploty</span><span class="p">,</span><span class="n">plotx</span> <span class="o">=</span> <span class="p">[],[]</span>
        <span class="k">for</span> <span class="n">ic</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iset</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">OnlyVar</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ikey</span> <span class="ow">in</span>  <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="p">:</span>
                <span class="n">fit_data</span> <span class="o">=</span> <span class="n">iset</span><span class="o">.</span><span class="n">Get_Extrapolation</span><span class="p">()</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="k">continue</span>
                <span class="n">this_fun</span> <span class="o">=</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>
                <span class="n">this_par</span> <span class="o">=</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">4</span><span class="p">]</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">momlist</span><span class="p">[</span><span class="n">ic</span><span class="p">],</span><span class="nb">str</span><span class="p">):</span>
                    <span class="n">this_key</span> <span class="o">=</span> <span class="n">momlist</span><span class="p">[</span><span class="n">ic</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span><span class="n">plottflowlist</span><span class="p">[</span><span class="n">ic</span><span class="p">],</span><span class="n">this_fun</span><span class="p">,</span><span class="n">this_fit</span><span class="p">[</span><span class="n">ic</span><span class="p">],</span><span class="n">this_par</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">this_key</span> <span class="o">=</span> <span class="n">momlist</span><span class="p">[</span><span class="n">ic</span><span class="p">],</span><span class="n">plottflowlist</span><span class="p">[</span><span class="n">ic</span><span class="p">],</span><span class="n">this_fun</span><span class="p">,</span><span class="n">this_fit</span><span class="p">[</span><span class="n">ic</span><span class="p">],</span><span class="n">this_par</span>
                <span class="k">if</span> <span class="s1">&#39;all&#39;</span> <span class="ow">in</span> <span class="n">this_key</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                    <span class="n">this_key</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">this_key</span><span class="p">)</span>
                    <span class="n">this_key</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
                    <span class="n">this_key</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">this_key</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">this_key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">fit_data</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">this_key</span><span class="p">,</span> <span class="s1">&#39; fit has not been computed for alpha, attempting now&#39;</span><span class="p">)</span>
                    <span class="n">iset</span><span class="o">.</span><span class="n">FitAlpha</span><span class="p">(</span><span class="n">fit_range</span><span class="o">=</span><span class="n">this_fit</span><span class="p">[</span><span class="n">ic</span><span class="p">])</span>
                    <span class="n">fit_data</span> <span class="o">=</span> <span class="n">iset</span><span class="o">.</span><span class="n">Get_Extrapolation</span><span class="p">()</span>
                    <span class="n">this_fun</span> <span class="o">=</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>
                    <span class="n">this_par</span> <span class="o">=</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">4</span><span class="p">]</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">momlist</span><span class="p">[</span><span class="n">ic</span><span class="p">],</span><span class="nb">str</span><span class="p">):</span>
                        <span class="n">this_key</span> <span class="o">=</span> <span class="n">momlist</span><span class="p">[</span><span class="n">ic</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span><span class="n">plottflowlist</span><span class="p">[</span><span class="n">ic</span><span class="p">],</span><span class="n">this_fun</span><span class="p">,</span><span class="n">this_fit</span><span class="p">[</span><span class="n">ic</span><span class="p">],</span><span class="n">this_par</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">this_key</span> <span class="o">=</span> <span class="n">momlist</span><span class="p">[</span><span class="n">ic</span><span class="p">],</span><span class="n">plottflowlist</span><span class="p">[</span><span class="n">ic</span><span class="p">],</span><span class="n">this_fun</span><span class="p">,</span><span class="n">this_fit</span><span class="p">[</span><span class="n">ic</span><span class="p">],</span><span class="n">this_par</span>
                    <span class="k">if</span> <span class="s1">&#39;all&#39;</span> <span class="ow">in</span> <span class="n">this_key</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                        <span class="n">this_key</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">this_key</span><span class="p">)</span>
                        <span class="n">this_key</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
                        <span class="n">this_key</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">this_key</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">this_key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">fit_data</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39; ERROR FITTING:&#39;</span> <span class="p">,</span>  <span class="n">this_key</span><span class="p">)</span>
                        <span class="nb">print</span><span class="p">(</span><span class="n">fit_data</span><span class="p">)</span>
                        <span class="k">continue</span>
                <span class="n">this_names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;$m_{\pi}$&#39;</span><span class="p">]</span><span class="o">+</span><span class="nb">list</span><span class="p">(</span><span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">names</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">ireskey</span><span class="p">,</span><span class="n">ires</span> <span class="ow">in</span> <span class="n">iset</span><span class="o">.</span><span class="n">Get_Extrapolation</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="n">ploty</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ires</span><span class="p">)</span>
                    <span class="n">plotx</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">iset</span><span class="o">.</span><span class="n">NN</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">GetPionMassLab</span><span class="p">(</span><span class="n">MeV</span><span class="o">=</span><span class="kc">True</span><span class="p">),)</span><span class="o">+</span><span class="n">ireskey</span><span class="p">)</span> <span class="c1">## in MeV</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">plotx</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">plot_key</span> <span class="o">=</span> <span class="p">[</span><span class="nb">slice</span><span class="p">(</span><span class="kc">None</span><span class="p">)]</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">plotx</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">:])</span>
            <span class="n">indicies</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_tuples</span><span class="p">(</span><span class="n">plotx</span><span class="p">,</span><span class="n">names</span><span class="o">=</span><span class="n">this_names</span><span class="p">)</span>
            <span class="n">ploty</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">ploty</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="n">indicies</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;No Sets Found for plotting vs mpi&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">data_plot</span>

        <span class="c1"># thisFF = thisFF.replace(&#39;tilde&#39;,r&#39;\tilde&#39;)</span>
        <span class="c1"># thisFF = thisFF.replace(&#39;frac&#39;,r&#39;\frac&#39;)</span>
        <span class="n">thislab</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$&#39;</span><span class="o">+</span><span class="sa">r</span><span class="s1">&#39;\ &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">the_latspace</span><span class="p">])</span><span class="o">+</span><span class="sa">r</span><span class="s1">&#39;$ &#39;</span>
        <span class="n">hold_series</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">null_series</span><span class="p">)</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;x_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;from_keys&#39;</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;y_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ploty</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">Avg</span><span class="p">)</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;yerr_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ploty</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">Std</span><span class="p">)</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;key_select&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">plot_key</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;error_bar_vary&#39;</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">thislab</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;symbol&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;o&#39;</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">AppendData</span><span class="p">(</span><span class="n">hold_series</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plot_Extrap</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="s1">&#39;chiral&#39;</span><span class="p">)</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>


<div class="viewcode-block" id="SetOfNNQ.Plot_Extrap"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQ.Plot_Extrap">[docs]</a>    <span class="k">def</span> <span class="nf">Plot_Extrap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">plot_data</span><span class="p">,</span><span class="n">extrap_type</span><span class="p">,</span><span class="n">this_fun</span><span class="o">=</span><span class="s1">&#39;Default&#39;</span><span class="p">):</span>
        <span class="n">extrap_type</span> <span class="o">=</span> <span class="n">extrap_type</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="n">this_eval</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="s1">&#39;latspace&#39;</span> <span class="ow">in</span> <span class="n">extrap_type</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">this_fun</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span>
                <span class="n">this_fun</span> <span class="o">=</span> <span class="p">(</span><span class="n">SquaredFitFun</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
            <span class="n">fit_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">LatSpace_Extrapolation</span><span class="p">(</span><span class="n">this_fun</span><span class="o">=</span><span class="n">this_fun</span><span class="p">)</span>
        <span class="c1"># elif &#39;boxsize&#39; in extrap_type:</span>
        <span class="c1">#     if isinstance(this_fun,str):</span>
        <span class="c1">#         this_fun = (SquaredFitFun,2)</span>
        <span class="c1">#     fit_data = self.BoxSize_Extrapolation(this_fun=this_fun)</span>
        <span class="k">elif</span> <span class="s1">&#39;mpi&#39;</span> <span class="ow">in</span> <span class="n">extrap_type</span> <span class="ow">or</span> <span class="s1">&#39;chiral&#39;</span> <span class="ow">in</span> <span class="n">extrap_type</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">this_fun</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span>
                <span class="n">this_fun</span> <span class="o">=</span> <span class="p">(</span><span class="n">LinearFitFun</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
            <span class="n">fit_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Chiral_Extrapolation</span><span class="p">(</span><span class="n">this_fun</span><span class="o">=</span><span class="n">this_fun</span><span class="p">)</span>
            <span class="n">this_eval</span> <span class="o">=</span> <span class="n">physcial_pion_mass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="s1">&#39;extrapolation type not recognised &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">extrap_type</span><span class="p">))</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">fit_data</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">plot_data</span>
        <span class="c1"># if isinstance(fitr_params,pa.Series): fitr_params = fitr_params.iloc[-1]</span>
        <span class="c1">## TODO, plot from zero to data max</span>
        <span class="n">hold_series</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">null_series</span><span class="p">)</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;key_select&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;fit_vary&#39;</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;fit_class&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fit_data</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;fit &#39;</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;xdatarange&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="s1">&#39;ToDataMax&#39;</span><span class="p">]</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;ShowEval&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">this_eval</span>
        <span class="n">plot_data</span><span class="o">.</span><span class="n">AppendData</span><span class="p">(</span><span class="n">hold_series</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">plot_data</span></div>


<div class="viewcode-block" id="SetOfNNQ.LatSpace_Extrapolation"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQ.LatSpace_Extrapolation">[docs]</a>    <span class="k">def</span> <span class="nf">LatSpace_Extrapolation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">this_fun</span><span class="o">=</span><span class="p">(</span><span class="n">SquaredFitFun</span><span class="p">,</span><span class="mi">2</span><span class="p">)):</span>
        <span class="c1"># print &#39;DEBUGGING LatSpace_Extrapolation&#39;</span>
        <span class="k">def</span> <span class="nf">this_fit</span><span class="p">(</span><span class="n">this_series</span><span class="p">):</span>
            <span class="n">xdata</span><span class="p">,</span><span class="n">ydata</span> <span class="o">=</span> <span class="p">[[]],[]</span>
            <span class="k">for</span> <span class="n">icol</span><span class="p">,</span><span class="n">coldata</span> <span class="ow">in</span> <span class="n">this_series</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="s1">&#39;_latspace&#39;</span> <span class="ow">in</span> <span class="n">icol</span><span class="p">:</span>
                    <span class="n">xdata</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">coldata</span><span class="p">)</span>
                    <span class="c1"># ##### DEBUGGING ####</span>
                    <span class="c1"># xdata[0].append(coldata+100)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">ydata</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">coldata</span><span class="p">)</span>
                    <span class="c1"># ##### DEBUGGING ####</span>
                    <span class="c1"># ydata.append(coldata+200)</span>
                    <span class="c1"># ydata[-1].Stats()</span>
            <span class="n">thisff</span> <span class="o">=</span> <span class="n">ff</span><span class="o">.</span><span class="n">Fitting</span><span class="p">(</span><span class="n">Funs</span><span class="o">=</span><span class="n">this_fun</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">xdata</span><span class="p">),</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ydata</span><span class="p">)],</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;LatSpace_Ext&#39;</span><span class="p">)</span>
            <span class="n">fit_result</span> <span class="o">=</span> <span class="n">thisff</span><span class="o">.</span><span class="n">FitBoots</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">fit_result</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">fit_result</span>
            <span class="k">return</span> <span class="n">thisff</span>

        <span class="n">this_df</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iset</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">this_data</span> <span class="o">=</span> <span class="n">iset</span><span class="o">.</span><span class="n">Get_Extrapolation</span><span class="p">()</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">this_data</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">this_df</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">this_data</span>
                <span class="n">this_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="n">ikey</span><span class="o">+</span><span class="s1">&#39;_latspace&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">iset</span><span class="o">.</span><span class="n">NN</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">latspace</span><span class="p">)</span>
        <span class="n">this_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;Fit&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">this_df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">this_fit</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">this_df</span><span class="p">[</span><span class="s1">&#39;Fit&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span></div>

<div class="viewcode-block" id="SetOfNNQ.Chiral_Extrapolation"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQ.Chiral_Extrapolation">[docs]</a>    <span class="k">def</span> <span class="nf">Chiral_Extrapolation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">this_fun</span><span class="o">=</span><span class="p">(</span><span class="n">LinearFitFun</span><span class="p">,</span><span class="mi">2</span><span class="p">)):</span>
        <span class="c1"># print &#39;DEBUGGING Chiral_Extrapolation&#39;</span>
        <span class="k">def</span> <span class="nf">this_fit</span><span class="p">(</span><span class="n">this_series</span><span class="p">):</span>
            <span class="n">xdata</span><span class="p">,</span><span class="n">ydata</span> <span class="o">=</span> <span class="p">[[]],[]</span>
            <span class="k">for</span> <span class="n">icol</span><span class="p">,</span><span class="n">coldata</span> <span class="ow">in</span> <span class="n">this_series</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="s1">&#39;_chiral&#39;</span> <span class="ow">in</span> <span class="n">icol</span><span class="p">:</span>
                    <span class="n">xdata</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">coldata</span><span class="p">)</span>
                    <span class="c1"># ##### DEBUGGING ####</span>
                    <span class="c1"># xdata[0].append(coldata+100)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">ydata</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">coldata</span><span class="p">)</span>
                    <span class="c1"># ##### DEBUGGING ####</span>
                    <span class="c1"># ydata.append(coldata+200)</span>
                    <span class="c1"># ydata[-1].Stats()</span>
            <span class="n">thisff</span> <span class="o">=</span> <span class="n">ff</span><span class="o">.</span><span class="n">Fitting</span><span class="p">(</span><span class="n">Funs</span><span class="o">=</span><span class="n">this_fun</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">xdata</span><span class="p">),</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ydata</span><span class="p">)],</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Chiral_Ext&#39;</span><span class="p">)</span>
            <span class="n">fit_result</span> <span class="o">=</span> <span class="n">thisff</span><span class="o">.</span><span class="n">FitBoots</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">fit_result</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">fit_result</span>
            <span class="k">return</span> <span class="n">thisff</span>

        <span class="n">this_df</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iset</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">this_data</span> <span class="o">=</span> <span class="n">iset</span><span class="o">.</span><span class="n">Get_Extrapolation</span><span class="p">()</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">this_data</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">this_df</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">this_data</span>
                <span class="n">this_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="n">ikey</span><span class="o">+</span><span class="s1">&#39;_chiral&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">iset</span><span class="o">.</span><span class="n">NN</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">GetPionMass</span><span class="p">(</span><span class="n">MeV</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
        <span class="n">this_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;Fit&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">this_df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">this_fit</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">this_df</span><span class="p">[</span><span class="s1">&#39;Fit&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span></div>


    <span class="k">def</span> <span class="nf">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="n">key</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="n">key</span><span class="p">[</span><span class="mi">1</span><span class="p">:]]</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="n">key</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="n">key</span><span class="p">[</span><span class="mi">1</span><span class="p">:]]</span>

<div class="viewcode-block" id="SetOfNNQ.Stats"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQ.Stats">[docs]</a>    <span class="k">def</span> <span class="nf">Stats</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">iset</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">iset</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span></div>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>

    <span class="k">def</span> <span class="nf">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>

<div class="viewcode-block" id="SetOfNNQ.items"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQ.items">[docs]</a>    <span class="k">def</span> <span class="nf">items</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">outdata</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">setdata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">tdata</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">setdata</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                <span class="n">outdata</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">iset</span><span class="p">,)</span><span class="o">+</span><span class="n">ikey</span><span class="o">+</span><span class="p">(</span><span class="n">tdata</span><span class="p">,))</span>
        <span class="k">return</span> <span class="n">outdata</span></div>

<div class="viewcode-block" id="SetOfNNQ.itemsAvgStd"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQ.itemsAvgStd">[docs]</a>    <span class="k">def</span> <span class="nf">itemsAvgStd</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">outdata</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">setdata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">tdata</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">setdata</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                <span class="n">outdata</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">iset</span><span class="p">,)</span><span class="o">+</span><span class="n">ikey</span><span class="o">+</span><span class="p">(</span><span class="n">tdata</span><span class="o">.</span><span class="n">Avg</span><span class="p">,</span><span class="n">tdata</span><span class="o">.</span><span class="n">Std</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">outdata</span></div>

<div class="viewcode-block" id="SetOfNNQ.values"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQ.values">[docs]</a>    <span class="k">def</span> <span class="nf">values</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">outdata</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">setdata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">tdata</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">setdata</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
                <span class="n">outdata</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tdata</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">outdata</span></div>



<div class="viewcode-block" id="SetOfNNQ.valuesAvgStd"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQ.valuesAvgStd">[docs]</a>    <span class="k">def</span> <span class="nf">valuesAvgStd</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">outdata</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">setdata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">tdata</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">setdata</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
                <span class="n">outdata</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">tdata</span><span class="o">.</span><span class="n">Avg</span><span class="p">,</span><span class="n">tdata</span><span class="o">.</span><span class="n">Std</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">outdata</span></div>

<div class="viewcode-block" id="SetOfNNQ.keys"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQ.keys">[docs]</a>    <span class="k">def</span> <span class="nf">keys</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">outdata</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">setdata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">ikey</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">setdata</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                <span class="n">outdata</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">iset</span><span class="p">,)</span><span class="o">+</span><span class="n">ikey</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">outdata</span></div>

    <span class="k">def</span> <span class="nf">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">())):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">raise</span> <span class="ne">StopIteration</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="mf">0.0</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">thiskey</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="bp">self</span><span class="o">.</span><span class="n">current</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">return</span> <span class="bp">self</span><span class="p">[</span><span class="n">thiskey</span><span class="p">]</span>

    <span class="c1">## unitary arithmetic operations</span>

    <span class="k">def</span> <span class="nf">__neg__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ikey</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span>


    <span class="k">def</span> <span class="nf">__pos__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">__abs__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ikey</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">])</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="c1">## Casting, just casts the bootstrap values, ignore return value (only needed since return has to be same type).</span>


    <span class="k">def</span> <span class="nf">__complex__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ikey</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="n">np</span><span class="o">.</span><span class="n">complex</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">])</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span>
        <span class="k">return</span> <span class="mi">1</span><span class="o">+</span><span class="mi">0</span><span class="n">j</span>

    <span class="k">def</span> <span class="nf">__int__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ikey</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">])</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span>
        <span class="k">return</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">__float__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ikey</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="n">np</span><span class="o">.</span><span class="n">float</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">])</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span>
        <span class="k">return</span> <span class="mf">1.0</span></div>









<span class="c1">##############################################################################################</span>
<span class="c1">##############################################################################################</span>
<span class="c1">##############################################################################################</span>
<span class="c1">##############################################################################################</span>



<div class="viewcode-block" id="SetOfNNQFull"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQFull">[docs]</a><span class="k">class</span> <span class="nc">SetOfNNQFull</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    NNQFull(set) Inherits from TwoPtCorrelators Class</span>

<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="SetOfNNQFull.Construct_NNQFull_Set"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQFull.Construct_NNQFull_Set">[docs]</a>    <span class="k">def</span> <span class="nf">Construct_NNQFull_Set</span><span class="p">(</span><span class="n">this_file_list</span><span class="p">):</span>
        <span class="n">set_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">NNQFullCorr</span><span class="o">.</span><span class="n">Construct_NNQFull_File</span><span class="p">(</span><span class="n">ifile</span><span class="p">)</span> <span class="k">for</span> <span class="n">ifile</span> <span class="ow">in</span> <span class="n">this_file_list</span><span class="p">]</span>
        <span class="n">out_class</span> <span class="o">=</span> <span class="n">Construct_Empty</span><span class="p">(</span><span class="n">SetOfNNQFull</span><span class="p">)</span>
        <span class="n">out_class</span><span class="o">.</span><span class="n">cfglist</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">out_class</span><span class="o">.</span><span class="n">InfoDict</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">out_class</span><span class="o">.</span><span class="n">Plotdir</span> <span class="o">=</span> <span class="n">graphdir</span><span class="o">+</span><span class="s1">&#39;/AlphaFull/&#39;</span>
        <span class="n">out_class</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Set1&#39;</span>
        <span class="n">out_class</span><span class="o">.</span><span class="n">SetC2</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">iset</span> <span class="ow">in</span> <span class="n">set_list</span><span class="p">:</span>
            <span class="n">out_class</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="n">iset</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">iset</span>
        <span class="k">return</span> <span class="n">out_class</span></div>
    <span class="n">instances</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">parentlist</span> <span class="o">=</span> <span class="p">[]</span>


    <span class="c1">## InfoDict is a list of Info dictionaries to be bassed to TwoPtCorr:</span>
    <span class="c1">## Setup to do fits taken from dictionaries within InfoDict (see TwoPtCorrelators.py)</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cfglist</span><span class="o">=</span><span class="p">{},</span> <span class="n">InfoDict</span><span class="o">=</span><span class="p">[],</span><span class="n">corr_cfglists</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">TwoPtCorrelators</span> <span class="k">import</span> <span class="n">NNQFullCorr</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span> <span class="o">=</span> <span class="n">cfglist</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span> <span class="o">=</span> <span class="n">InfoDict</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span> <span class="o">=</span> <span class="n">graphdir</span><span class="o">+</span><span class="s1">&#39;/AlphaFull/&#39;</span>
        <span class="n">mkdir_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="p">)</span>


        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Set&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">SetOfTwoPt</span><span class="o">.</span><span class="n">instances</span><span class="p">))</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">SetOfTwoPt</span><span class="o">.</span><span class="n">instances</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
            <span class="c1"># SetOfTwoPt.instances.append(self.name)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">ic</span><span class="p">,</span><span class="n">idict</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span><span class="p">):</span>
            <span class="k">if</span> <span class="s1">&#39;autocorr&#39;</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">idict</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">idict</span><span class="p">[</span><span class="s1">&#39;autocorr&#39;</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
            <span class="n">thiscol</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
            <span class="n">thissym</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
            <span class="n">thisshift</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
            <span class="n">thisC2</span> <span class="o">=</span> <span class="n">NNQFullCorr</span><span class="p">(</span><span class="n">cfglist</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span> <span class="n">Info</span><span class="o">=</span><span class="n">idict</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span><span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">thisC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                <span class="n">C2next</span> <span class="o">=</span> <span class="mi">2</span>
                <span class="k">while</span> <span class="nb">str</span><span class="p">(</span><span class="n">thisC2</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;_&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">C2next</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                    <span class="n">C2next</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">thisC2</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;_&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">C2next</span><span class="p">)]</span> <span class="o">=</span> <span class="n">thisC2</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">thisC2</span><span class="p">)]</span> <span class="o">=</span> <span class="n">thisC2</span>
            <span class="c1"># print &#39;Setting up classes for &#39; , thisC2 , &#39; complete&#39;</span>
            <span class="c1"># print &#39;has color&#39;,thiscol , &#39;symbol &#39; , thissym , &#39;thisshift&#39;,thisshift</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">SetC2len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span><span class="n">pa</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">corr_cfglists</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">GetCfgList</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">GetUnCorrCfgList</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ImportCfgList</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">)</span>
            <span class="c1">##Implement Reading cfglist if len(cfglist) == 0</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="mi">0</span>

<div class="viewcode-block" id="SetOfNNQFull.GetUnCorrCfgList"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQFull.GetUnCorrCfgList">[docs]</a>    <span class="k">def</span> <span class="nf">GetUnCorrCfgList</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">iC2</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">iC2</span><span class="o">.</span><span class="n">GetCfgList</span><span class="p">()</span></div>

<div class="viewcode-block" id="SetOfNNQFull.RemoveFuns"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQFull.RemoveFuns">[docs]</a>    <span class="k">def</span> <span class="nf">RemoveFuns</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">iC2</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">iC2</span><span class="o">.</span><span class="n">RemoveFuns</span><span class="p">()</span></div>
<div class="viewcode-block" id="SetOfNNQFull.GetFuns"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQFull.GetFuns">[docs]</a>    <span class="k">def</span> <span class="nf">GetFuns</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">iC2</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">iC2</span><span class="o">.</span><span class="n">GetFuns</span><span class="p">()</span></div>


<div class="viewcode-block" id="SetOfNNQFull.GetCfgList"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQFull.GetCfgList">[docs]</a>    <span class="k">def</span> <span class="nf">GetCfgList</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">GetUnCorrCfgList</span><span class="p">()</span>
        <span class="n">cfglist</span> <span class="o">=</span> <span class="n">CombineListCfgs</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span><span class="s1">&#39;NNQFull_cfgs&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ImportCfgList</span><span class="p">(</span><span class="n">cfglist</span><span class="p">)</span></div>

<div class="viewcode-block" id="SetOfNNQFull.ImportCfgList"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQFull.ImportCfgList">[docs]</a>    <span class="k">def</span> <span class="nf">ImportCfgList</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">cfglist</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span> <span class="o">=</span> <span class="n">cfglist</span>
        <span class="k">for</span> <span class="n">iC2</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">iC2</span><span class="o">.</span><span class="n">ImportCfgList</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">)</span></div>



    <span class="c1"># def Read(self):</span>
    <span class="c1">#     for setdata in self.SetC2.itervalues():</span>
    <span class="c1">#         print &#39;Importing 2pt corr: &#39; , str(setdata)</span>
    <span class="c1">#         setdata.()</span>


<div class="viewcode-block" id="SetOfNNQFull.Write"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQFull.Write">[docs]</a>    <span class="k">def</span> <span class="nf">Write</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">iC2</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Writing 2pt corr: &#39;</span> <span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">iC2</span><span class="p">))</span>
            <span class="n">iC2</span><span class="o">.</span><span class="n">Write</span><span class="p">()</span></div>

    <span class="c1">## I like LoadPickle the best</span>
<div class="viewcode-block" id="SetOfNNQFull.LoadPickle"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQFull.LoadPickle">[docs]</a>    <span class="k">def</span> <span class="nf">LoadPickle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">DefWipe</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">CheckCfgs</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">CheckMom</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">show_timer</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">SaveMem</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">NoFit</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">show_timer</span><span class="p">:</span> <span class="n">thistimer</span> <span class="o">=</span> <span class="n">Timer</span><span class="p">(</span><span class="n">linklist</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">()))),</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;LP NNQFull corr: &#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">ic</span><span class="p">,</span><span class="n">setdata</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
            <span class="n">setdata</span><span class="o">.</span><span class="n">LoadPickle</span><span class="p">(</span><span class="n">DefWipe</span><span class="o">=</span><span class="n">DefWipe</span><span class="p">,</span><span class="n">CheckCfgs</span><span class="o">=</span><span class="n">CheckCfgs</span><span class="p">,</span><span class="n">CheckMom</span><span class="o">=</span><span class="n">CheckMom</span><span class="p">,</span><span class="n">SaveMem</span><span class="o">=</span><span class="n">SaveMem</span><span class="p">,</span><span class="n">NoFit</span><span class="o">=</span><span class="n">NoFit</span><span class="p">)</span>
            <span class="n">setdata</span><span class="o">.</span><span class="n">ImportPlotParams</span><span class="p">(</span><span class="n">colourset8</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)],</span><span class="n">markerset</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
                                     <span class="p">,</span><span class="n">shiftset</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)])</span>
            <span class="k">if</span> <span class="n">show_timer</span><span class="p">:</span> <span class="n">thistimer</span><span class="o">.</span><span class="n">Lap</span><span class="p">()</span></div>
    <span class="c1"># def ReadAndWrite(self,DefWipe=False):</span>
    <span class="c1">#     for setdata in self.SetC2.itervalues():</span>
    <span class="c1">#         print &#39;Importing and Writing 2pt corr: &#39; , str(setdata)</span>
    <span class="c1">#         setdata.ReadAndWrite(DefWipe=DefWipe)</span>

    <span class="c1">## returns a TwoPtCorr class object (see TwoPtCorrelators.py)</span>
<div class="viewcode-block" id="SetOfNNQFull.GetSet"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQFull.GetSet">[docs]</a>    <span class="k">def</span> <span class="nf">GetSet</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">thisset</span><span class="o">=</span><span class="s1">&#39;First&#39;</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">thisset</span> <span class="o">==</span> <span class="s1">&#39;First&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="mi">0</span><span class="p">]]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="n">thisset</span><span class="p">]</span></div>


    <span class="c1">## thisfun(corr1,corr2,corr3,...)</span>
    <span class="c1">## Strongly encoraged to manually set the filename somewhere</span>
    <span class="c1">## e.g. sink smear combine we should get the first name and replace the sink smear with the sink smear label</span>
<div class="viewcode-block" id="SetOfNNQFull.CombineCorrs"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQFull.CombineCorrs">[docs]</a>    <span class="k">def</span> <span class="nf">CombineCorrs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">thisfun</span><span class="p">,</span><span class="n">jsmcoeffs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">filename</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">LegLab</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">jsmlab</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">indicies</span><span class="o">=</span><span class="s1">&#39;All&#39;</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">indicies</span> <span class="o">==</span> <span class="s1">&#39;All&#39;</span><span class="p">:</span>
            <span class="n">indicies</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()))))</span>


        <span class="n">output2pt</span> <span class="o">=</span> <span class="n">thisfun</span><span class="p">(</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">()))[</span><span class="n">indicies</span><span class="p">])</span>

        <span class="c1"># output2pt = thisfun(*self.SetC2.values())</span>
        <span class="n">output2pt</span><span class="o">.</span><span class="n">SetCustomName</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="n">filename</span><span class="p">,</span><span class="n">stringLL</span><span class="o">=</span><span class="n">LegLab</span><span class="p">)</span>
        <span class="n">output2pt</span><span class="o">.</span><span class="n">IsComb</span> <span class="o">=</span> <span class="kc">True</span> <span class="c1">## this needs to be done for alpha (maybe TODO move it into __add__ etc..?)</span>
        <span class="n">output2pt</span><span class="o">.</span><span class="n">jsm</span> <span class="o">=</span> <span class="n">jsmlab</span>
        <span class="k">if</span> <span class="n">jsmcoeffs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span> <span class="n">output2pt</span><span class="o">.</span><span class="n">Info</span><span class="p">[</span><span class="s1">&#39;jsmCoeffs&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">jsmcoeffs</span>
        <span class="c1"># print &#39;DEBUG&#39;</span>
        <span class="c1"># for ijsm,ival in zip(jsmcoeffs,np.array(self.SetC2.values())[indicies]):</span>
        <span class="c1">#     print ival</span>
        <span class="c1">#     print ijsm , &#39;*&#39; , ival.NNQFull_Stats[&#39;boot&#39;][&#39;p000&#39;,&#39;t13&#39;,&#39;t_f6.01&#39;].Avg,ival.NNQFull_Stats[&#39;boot&#39;][&#39;p000&#39;,&#39;t13&#39;,&#39;t_f6.01&#39;].Std</span>
        <span class="c1"># print output2pt</span>
        <span class="c1"># output2pt.NNQFull_Stats[&#39;boot&#39;][&#39;p000&#39;,&#39;t13&#39;,&#39;t_f6.01&#39;].Stats()</span>
        <span class="c1"># print &#39;output&#39;,output2pt.NNQFull_Stats[&#39;boot&#39;][&#39;p000&#39;,&#39;t13&#39;,&#39;t_f6.01&#39;].Avg,output2pt.NNQFull_Stats[&#39;boot&#39;][&#39;p000&#39;,&#39;t13&#39;,&#39;t_f6.01&#39;].Std</span>
        <span class="n">output2pt</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span>
        <span class="n">output2pt</span><span class="o">.</span><span class="n">Write</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">output2pt</span></div>

<div class="viewcode-block" id="SetOfNNQFull.AppendCCorrs"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQFull.AppendCCorrs">[docs]</a>    <span class="k">def</span> <span class="nf">AppendCCorrs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">thisfun</span><span class="p">,</span><span class="n">jsmcoeffs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">filename</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">LegLab</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">jsm</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">indicies</span><span class="o">=</span><span class="s1">&#39;All&#39;</span><span class="p">):</span>
        <span class="n">thiscol</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2len</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
        <span class="n">thissym</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2len</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
        <span class="n">thisshift</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2len</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
        <span class="n">thisC2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CombineCorrs</span><span class="p">(</span><span class="n">thisfun</span><span class="p">,</span><span class="n">filename</span><span class="o">=</span><span class="n">filename</span><span class="p">,</span><span class="n">jsmcoeffs</span><span class="o">=</span><span class="n">jsmcoeffs</span><span class="p">,</span><span class="n">LegLab</span><span class="o">=</span><span class="n">LegLab</span><span class="p">,</span><span class="n">jsmlab</span> <span class="o">=</span> <span class="n">jsm</span><span class="p">,</span><span class="n">indicies</span><span class="o">=</span><span class="n">indicies</span><span class="p">)</span>
        <span class="n">thisC2</span><span class="o">.</span><span class="n">ImportPlotParams</span><span class="p">(</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="p">,</span><span class="n">thisshift</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">thisC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="n">C2next</span> <span class="o">=</span> <span class="mi">2</span>
            <span class="k">while</span> <span class="nb">str</span><span class="p">(</span><span class="n">thisC2</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;_&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">C2next</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                <span class="n">C2next</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">thisC2</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;_&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">C2next</span><span class="p">)]</span> <span class="o">=</span> <span class="n">thisC2</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">thisC2</span><span class="p">)]</span> <span class="o">=</span> <span class="n">thisC2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetC2len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span></div>

<div class="viewcode-block" id="SetOfNNQFull.AlphaPlotVstfFitr"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQFull.AlphaPlotVstfFitr">[docs]</a>    <span class="k">def</span> <span class="nf">AlphaPlotVstfFitr</span><span class="p">(</span>  <span class="bp">self</span><span class="p">,</span><span class="n">tflowlist</span><span class="p">,</span><span class="n">tfitlist</span><span class="p">,</span><span class="n">fit_min_list</span><span class="p">,</span><span class="n">plot_info</span><span class="p">,</span>
                            <span class="n">momlist</span><span class="o">=</span><span class="s1">&#39;p000&#39;</span><span class="p">,</span><span class="n">fit_max_list</span><span class="o">=</span><span class="s1">&#39;All&#39;</span><span class="p">,</span><span class="n">OnlyVar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">WipeFit</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;Nucleon Mixing Angle $\alpha$ over fit ranges&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;max of fit range $t_</span><span class="si">{e}</span><span class="s1">$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\alpha$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_Alpha_Fit_Max.pdf&#39;</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>
        <span class="n">varcount</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">momlist</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span> <span class="n">momlist</span> <span class="o">=</span> <span class="p">[</span><span class="n">momlist</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fit_max_list</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span> <span class="n">fit_max_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">fit_max_list</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="k">for</span> <span class="n">icount</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">OnlyVar</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ikey</span> <span class="ow">in</span>  <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="p">:</span>
                <span class="n">thiscol</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
                <span class="n">thissym</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
                <span class="n">thisshift</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
                <span class="n">varcount</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Alpha plotting over max fit ranges &#39;</span><span class="p">,</span> <span class="n">iC2</span><span class="p">)</span>
                <span class="c1"># thiscol,thisshift,thissym = self.GetColShiftSym(iC2,mult=ictflow)</span>
                <span class="n">thismom</span> <span class="o">=</span> <span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">]</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">thismom</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span>
                    <span class="n">thismom</span> <span class="o">=</span> <span class="n">thismom</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaPlotVstfFitr</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">tflowlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span><span class="n">tfitlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span>
                            <span class="n">fit_min_list</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span><span class="n">thismom</span><span class="o">=</span><span class="n">thismom</span><span class="p">,</span><span class="n">WipeFit</span><span class="o">=</span><span class="n">WipeFit</span><span class="p">,</span>
                            <span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">,</span>
                            <span class="n">fit_max_list</span><span class="o">=</span><span class="n">fit_max_list</span><span class="p">[</span><span class="n">icount</span><span class="p">])</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>


<div class="viewcode-block" id="SetOfNNQFull.AlphaPlotVstiFitr"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQFull.AlphaPlotVstiFitr">[docs]</a>    <span class="k">def</span> <span class="nf">AlphaPlotVstiFitr</span><span class="p">(</span>  <span class="bp">self</span><span class="p">,</span><span class="n">tflowlist</span><span class="p">,</span><span class="n">tfitlist</span><span class="p">,</span><span class="n">fit_max_list</span><span class="p">,</span><span class="n">plot_info</span><span class="p">,</span>
                            <span class="n">momlist</span><span class="o">=</span><span class="s1">&#39;p000&#39;</span><span class="p">,</span><span class="n">fit_min_list</span><span class="o">=</span><span class="s1">&#39;All&#39;</span><span class="p">,</span><span class="n">OnlyVar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">WipeFit</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;Nucleon Mixing Angle $\alpha$ over fit ranges&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;min of fit range $t_</span><span class="si">{i}</span><span class="s1">$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\alpha$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_Alpha_Fit_Min.pdf&#39;</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>
        <span class="n">varcount</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">momlist</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span> <span class="n">momlist</span> <span class="o">=</span> <span class="p">[</span><span class="n">momlist</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fit_min_list</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span> <span class="n">fit_min_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">fit_min_list</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="k">for</span> <span class="n">icount</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">OnlyVar</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ikey</span> <span class="ow">in</span>  <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="p">:</span>
                <span class="n">thiscol</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
                <span class="n">thissym</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
                <span class="n">thisshift</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
                <span class="n">varcount</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Alpha plotting over min fit ranges &#39;</span><span class="p">,</span> <span class="n">iC2</span><span class="p">)</span>
                <span class="c1"># thiscol,thisshift,thissym = self.GetColShiftSym(iC2,mult=ictflow)</span>
                <span class="n">thismom</span> <span class="o">=</span> <span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">]</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">thismom</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span>
                    <span class="n">thismom</span> <span class="o">=</span> <span class="n">thismom</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaPlotVstiFitr</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">tflowlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span><span class="n">tfitlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span>
                            <span class="n">fit_max_list</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span><span class="n">thismom</span><span class="o">=</span><span class="n">thismom</span><span class="p">,</span><span class="n">WipeFit</span><span class="o">=</span><span class="n">WipeFit</span><span class="p">,</span>
                            <span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">,</span>
                            <span class="n">fit_min_list</span><span class="o">=</span><span class="n">fit_min_list</span><span class="p">[</span><span class="n">icount</span><span class="p">])</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>

    <span class="c1">## fitlist is list of touples { set : (&#39;state#&#39;,&#39;fitr#-#&#39;)}</span>
<div class="viewcode-block" id="SetOfNNQFull.AlphaPlot"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQFull.AlphaPlot">[docs]</a>    <span class="k">def</span> <span class="nf">AlphaPlot</span><span class="p">(</span>  <span class="bp">self</span><span class="p">,</span><span class="n">plot_info</span><span class="p">,</span><span class="n">fitrlist</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">,</span><span class="n">momlist</span><span class="o">=</span><span class="s1">&#39;p000&#39;</span><span class="p">,</span><span class="n">tflowlist</span><span class="o">=</span><span class="s1">&#39;PreDef&#39;</span><span class="p">,</span>
                    <span class="n">tsum_list</span><span class="o">=</span><span class="s1">&#39;PreDef&#39;</span><span class="p">,</span><span class="n">spec_tsum_list</span><span class="o">=</span><span class="s1">&#39;PreDef&#39;</span><span class="p">,</span>
                    <span class="n">OnlyVar</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;Nucleon Mixing Angle $\alpha$ over $t$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$t$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\alpha$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_Alpha_t.pdf&#39;</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>
        <span class="n">varcount</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">fitrlist</span> <span class="o">==</span> <span class="s1">&#39;PreDef&#39;</span><span class="p">:</span> <span class="n">fitrlist</span> <span class="o">=</span> <span class="p">[</span><span class="n">fitrlist</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="k">if</span> <span class="n">tflowlist</span> <span class="o">==</span> <span class="s1">&#39;PreDef&#39;</span><span class="p">:</span> <span class="n">tflowlist</span> <span class="o">=</span> <span class="p">[</span><span class="n">tflowlist</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="k">if</span> <span class="n">tsum_list</span> <span class="o">==</span> <span class="s1">&#39;PreDef&#39;</span><span class="p">:</span> <span class="n">tsum_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">tsum_list</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="k">if</span> <span class="n">spec_tsum_list</span> <span class="o">==</span> <span class="s1">&#39;PreDef&#39;</span><span class="p">:</span> <span class="n">spec_tsum_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">spec_tsum_list</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="k">for</span> <span class="n">icount</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">OnlyVar</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ikey</span> <span class="ow">in</span>  <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="p">:</span>
                <span class="n">fitr</span> <span class="o">=</span> <span class="n">fitrlist</span><span class="p">[</span><span class="n">icount</span><span class="p">]</span>
                <span class="n">itflow</span> <span class="o">=</span> <span class="n">tflowlist</span><span class="p">[</span><span class="n">icount</span><span class="p">]</span>
                <span class="n">itsum</span> <span class="o">=</span> <span class="n">tsum_list</span><span class="p">[</span><span class="n">icount</span><span class="p">]</span>
                <span class="n">itsum_spec</span> <span class="o">=</span> <span class="n">spec_tsum_list</span><span class="p">[</span><span class="n">icount</span><span class="p">]</span>
                <span class="n">thiscol</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
                <span class="n">thissym</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
                <span class="n">thisshift</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
                <span class="n">varcount</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Alpha plotting over time &#39;</span><span class="p">,</span> <span class="n">iC2</span><span class="p">)</span>
                <span class="c1"># thiscol,thisshift,thissym = self.GetColShiftSym(iC2,mult=ictflow)</span>
                <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaPlot</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span>
                                <span class="n">thistflowlist</span> <span class="o">=</span> <span class="n">itflow</span><span class="p">,</span><span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span>
                                <span class="n">tsum_list</span><span class="o">=</span><span class="n">itsum</span><span class="p">,</span><span class="n">spec_tsum_list</span><span class="o">=</span><span class="n">itsum_spec</span><span class="p">,</span>
                                <span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">,</span><span class="n">Auto</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">icount</span><span class="p">])</span>
                <span class="k">if</span> <span class="s1">&#39;none&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">fitr</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">icount</span><span class="p">]:</span>
                    <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">Plot_Tsink_Fit</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">fitr</span><span class="p">,</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span><span class="n">itsum</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thisshift</span><span class="p">)</span>
                <span class="n">thiscol</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
                <span class="n">thissym</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
                <span class="n">thisshift</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
                <span class="n">varcount</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">PlotIntTsink</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span><span class="n">itflow</span><span class="p">,</span><span class="n">Auto</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span>
                                <span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">)</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>



    <span class="c1"># def AlphaPlot(self,plot_info,fitDict=defFitDict,momlist=[],tflowlist=&#39;PreDef&#39;,</span>
    <span class="c1">#                 parlist = &#39;First&#39;,OnlyVar=False,WipeFit=False,No_Fit=False):</span>
    <span class="c1">#     def DefPlotInfo(pi):</span>
    <span class="c1">#         this_pi = copy(pi)</span>
    <span class="c1">#         if &#39;title&#39; not in this_pi:</span>
    <span class="c1">#             this_pi[&#39;title&#39;] = r&#39;Nucleon Mixing Angle $\alpha$ over $t$&#39;</span>
    <span class="c1">#         if &#39;xlabel&#39; not in this_pi:</span>
    <span class="c1">#             this_pi[&#39;xlabel&#39;] = r&#39;$t$&#39;</span>
    <span class="c1">#         if &#39;ylabel&#39; not in this_pi:</span>
    <span class="c1">#             this_pi[&#39;ylabel&#39;] = r&#39;$\alpha$&#39;</span>
    <span class="c1">#         if &#39;save_file&#39; not in this_pi:</span>
    <span class="c1">#             this_pi[&#39;save_file&#39;] = self.Plotdir+self.name+&#39;_Alpha_t.pdf&#39;</span>
    <span class="c1">#         return this_pi</span>
    <span class="c1">#</span>
    <span class="c1">#     this_plot_info = DefPlotInfo(plot_info)</span>
    <span class="c1">#     data_plot = jpl.Plotting(plot_info=this_plot_info)</span>
    <span class="c1">#     fit_is_dict = isinstance(fitDict,(OrderedDict,dict))</span>
    <span class="c1">#     varcount = 0</span>
    <span class="c1">#     if tflowlist == &#39;PreDef&#39;: tflowlist = [tflowlist]*len(self.SetC2.keys())</span>
    <span class="c1">#     if parlist == &#39;First&#39;: parlist = [parlist]*len(self.SetC2.keys())</span>
    <span class="c1">#     for icount,(ikey,iC2) in enumerate(self.SetC2.iteritems()):</span>
    <span class="c1">#         if (not OnlyVar) or ikey in  self.VarKeys:</span>
    <span class="c1">#             itflow = tflowlist[icount]</span>
    <span class="c1">#             ipar = parlist[icount]</span>
    <span class="c1">#             if fit_is_dict: iindex = ikey</span>
    <span class="c1">#             else: iindex = icount</span>
    <span class="c1">#             thisxlim = [0,int(fitDict[iindex][0].split(&#39;-&#39;)[-1])]</span>
    <span class="c1">#             if not No_Fit:</span>
    <span class="c1">#                 thiscol = colourset8[varcount%len(colourset8)]</span>
    <span class="c1">#                 thissym = markerset[varcount%len(markerset)]</span>
    <span class="c1">#                 thisshift = shiftset[varcount%len(shiftset)]</span>
    <span class="c1">#                 varcount += 1</span>
    <span class="c1">#                 print &#39;Alpha plotting over time &#39;, iC2</span>
    <span class="c1">#                 # thiscol,thisshift,thissym = self.GetColShiftSym(iC2,mult=ictflow)</span>
    <span class="c1">#                 data_plot = iC2.AlphaPlotImproveFit(data_plot,fitDict[iindex][1],xlims=thisxlim,</span>
    <span class="c1">#                                 thistflowlist = itflow,momlist=momlist[icount],WipeFit=WipeFit,</span>
    <span class="c1">#                                 thiscol=thiscol,thissym=thissym,thisshift=thisshift,thispar=ipar)</span>
    <span class="c1">#                 if (not fit_is_dict) or ikey in fitDict.keys():</span>
    <span class="c1">#                     data_plot = iC2.AlphaFitPlot(data_plot,fitDict[iindex],thistflowlist=itflow,</span>
    <span class="c1">#                                 momlist=momlist[icount],WipeFit=WipeFit,</span>
    <span class="c1">#                                 thiscol=thiscol,thisshift=thisshift,thispar=ipar)</span>
    <span class="c1">#                 if ipar == &#39;First&#39;:</span>
    <span class="c1">#                     thiscol = colourset8[varcount%len(colourset8)]</span>
    <span class="c1">#                     thissym = markerset[varcount%len(markerset)]</span>
    <span class="c1">#                     thisshift = shiftset[varcount%len(shiftset)]</span>
    <span class="c1">#                     varcount += 1</span>
    <span class="c1">#                     if isinstance(itflow,(list,tuple,np.ndarray)):</span>
    <span class="c1">#                         int_itflow = itflow[0]</span>
    <span class="c1">#                     else:</span>
    <span class="c1">#                         int_itflow = itflow</span>
    <span class="c1">#                     if isinstance(momlist[icount],(list,tuple,np.ndarray)):</span>
    <span class="c1">#                         this_mom = momlist[icount][0]</span>
    <span class="c1">#                     data_plot = iC2.PlotIntTsink(data_plot,this_mom,int_itflow,xlims=thisxlim,</span>
    <span class="c1">#                                     thiscol=thiscol,thissym=thissym,thisshift=thisshift)</span>
    <span class="c1">#     data_plot.PlotAll()</span>
    <span class="c1">#     return data_plot</span>


    <span class="c1">## this is used for plotting multiple versions of the same results (over tflow or tsink if you like)</span>
<div class="viewcode-block" id="SetOfNNQFull.GetColShiftSym"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQFull.GetColShiftSym">[docs]</a>    <span class="k">def</span> <span class="nf">GetColShiftSym</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">iC2</span><span class="p">,</span><span class="n">mult</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="n">thiscol</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[(</span><span class="n">colourset8</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">iC2</span><span class="o">.</span><span class="n">thiscol</span><span class="p">)</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2len</span><span class="o">*</span><span class="n">mult</span><span class="p">)</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
        <span class="n">thissym</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[(</span><span class="n">markerset</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">iC2</span><span class="o">.</span><span class="n">thissym</span><span class="p">)</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2len</span><span class="o">*</span><span class="n">mult</span><span class="p">)</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
        <span class="n">thisshift</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[(</span><span class="n">shiftset</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">iC2</span><span class="o">.</span><span class="n">thisshift</span><span class="p">)</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2len</span><span class="o">*</span><span class="n">mult</span><span class="p">)</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
        <span class="k">return</span> <span class="n">thiscol</span><span class="p">,</span><span class="n">thisshift</span><span class="p">,</span><span class="n">thissym</span></div>


<div class="viewcode-block" id="SetOfNNQFull.AlphaPlotTflow"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQFull.AlphaPlotTflow">[docs]</a>    <span class="k">def</span> <span class="nf">AlphaPlotTflow</span><span class="p">(</span> <span class="bp">self</span><span class="p">,</span><span class="n">plot_info</span><span class="p">,</span><span class="n">tflowlist</span><span class="o">=</span><span class="n">defxlimAlphaTflow</span><span class="p">,</span><span class="n">tlist</span><span class="o">=</span><span class="s1">&#39;PreDef&#39;</span><span class="p">,</span>
                        <span class="n">tsum_list</span><span class="o">=</span><span class="s1">&#39;PreDef&#39;</span><span class="p">,</span><span class="n">momlist</span><span class="o">=</span><span class="p">[],</span><span class="n">OnlyVar</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;Nucleon Mixing Angle $\alpha$ over $t_</span><span class="si">{f}</span><span class="s1">$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\sqrt{8t_</span><span class="si">{f}</span><span class="s1">}[fm]$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\alpha$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_Alpha_tflow.pdf&#39;</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>
        <span class="n">varcount</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">tflowlist</span> <span class="o">==</span> <span class="s1">&#39;PreDef&#39;</span><span class="p">:</span> <span class="n">tflowlist</span> <span class="o">=</span> <span class="p">[</span><span class="n">tflowlist</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="k">if</span> <span class="n">tsum_list</span> <span class="o">==</span> <span class="s1">&#39;PreDef&#39;</span><span class="p">:</span> <span class="n">tsum_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">tsum_list</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="k">for</span> <span class="n">icount</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">OnlyVar</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ikey</span> <span class="ow">in</span>  <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="p">:</span>
                <span class="n">thiscol</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
                <span class="n">thissym</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
                <span class="n">thisshift</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
                <span class="n">varcount</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Alpha plotting over flow time &#39;</span><span class="p">,</span> <span class="n">iC2</span><span class="p">)</span>
                <span class="n">it_sum</span> <span class="o">=</span> <span class="n">tsum_list</span><span class="p">[</span><span class="n">icount</span><span class="p">]</span>
                <span class="n">thist</span> <span class="o">=</span> <span class="n">tlist</span><span class="p">[</span><span class="n">icount</span><span class="p">]</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">tflowlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],(</span><span class="nb">list</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)):</span>
                    <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaPlotTflow</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">tflowplot</span><span class="o">=</span><span class="n">tflowlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span>
                                        <span class="n">thistsinklist</span> <span class="o">=</span> <span class="n">thist</span><span class="p">,</span><span class="n">tsum_list</span><span class="o">=</span><span class="n">it_sum</span><span class="p">,</span><span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span>
                                        <span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">,</span><span class="n">Auto</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">icount</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaPlotTflow</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">tflowplot</span><span class="o">=</span><span class="n">tflowlist</span><span class="p">,</span><span class="n">thistsinklist</span> <span class="o">=</span> <span class="n">thist</span><span class="p">,</span>
                                        <span class="n">tsum_list</span><span class="o">=</span><span class="n">it_sum</span><span class="p">,</span><span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span>
                                        <span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">,</span><span class="n">Auto</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">icount</span><span class="p">])</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>


<div class="viewcode-block" id="SetOfNNQFull.AlphaPlotTsum"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQFull.AlphaPlotTsum">[docs]</a>    <span class="k">def</span> <span class="nf">AlphaPlotTsum</span><span class="p">(</span>  <span class="bp">self</span><span class="p">,</span><span class="n">plot_info</span><span class="p">,</span><span class="n">tlist</span><span class="o">=</span><span class="s1">&#39;PreDef&#39;</span><span class="p">,</span><span class="n">tflowlist</span><span class="o">=</span><span class="s1">&#39;PreDef&#39;</span><span class="p">,</span><span class="n">momlist</span><span class="o">=</span><span class="p">[],</span>
                        <span class="n">spec_tsum_list</span><span class="o">=</span><span class="s1">&#39;PreDef&#39;</span><span class="p">,</span><span class="n">fit_list</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">,</span>
                        <span class="n">OnlyVar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">WipeFit</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;Nucleon Mixing Angle $\alpha$ over $t_</span><span class="si">{sum}</span><span class="s1">$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span><span class="sa">r</span><span class="s1">&#39;$t_</span><span class="si">{s}</span><span class="s1">$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\alpha$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_Alpha_tsum.pdf&#39;</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>
        <span class="n">varcount</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">tlist</span> <span class="o">==</span> <span class="s1">&#39;PreDef&#39;</span><span class="p">:</span> <span class="n">tlist</span> <span class="o">=</span> <span class="p">[</span><span class="n">tlist</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="k">if</span> <span class="n">spec_tsum_list</span> <span class="o">==</span> <span class="s1">&#39;PreDef&#39;</span><span class="p">:</span> <span class="n">spec_tsum_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">spec_tsum_list</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="k">if</span> <span class="n">tflowlist</span> <span class="o">==</span> <span class="s1">&#39;PreDef&#39;</span><span class="p">:</span> <span class="n">tflowlist</span> <span class="o">=</span> <span class="p">[</span><span class="n">tflowlist</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="k">if</span> <span class="n">fit_list</span> <span class="o">==</span> <span class="s1">&#39;None&#39;</span><span class="p">:</span><span class="n">fit_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;None&#39;</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="k">for</span> <span class="n">icount</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">OnlyVar</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ikey</span> <span class="ow">in</span>  <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="p">:</span>
                <span class="n">thiscol</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
                <span class="n">thissym</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
                <span class="n">thisshift</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
                <span class="n">varcount</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Alpha plotting over tsum time &#39;</span><span class="p">,</span> <span class="n">iC2</span><span class="p">)</span>
                <span class="n">jt_sum</span> <span class="o">=</span> <span class="n">spec_tsum_list</span><span class="p">[</span><span class="n">icount</span><span class="p">]</span>
                <span class="n">itflow</span> <span class="o">=</span> <span class="n">tflowlist</span><span class="p">[</span><span class="n">icount</span><span class="p">]</span>
                <span class="n">thist</span> <span class="o">=</span> <span class="n">tlist</span><span class="p">[</span><span class="n">icount</span><span class="p">]</span>
                <span class="n">thisfitr</span> <span class="o">=</span> <span class="n">fit_list</span><span class="p">[</span><span class="n">icount</span><span class="p">]</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">thisfitr</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nb">str</span><span class="p">):</span>
                    <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaPlotTsum</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span>
                                        <span class="n">spec_tsum_list</span><span class="o">=</span><span class="n">jt_sum</span><span class="p">,</span>
                                        <span class="n">thistsinklist</span> <span class="o">=</span> <span class="n">thist</span><span class="p">,</span><span class="n">thistflowlist</span><span class="o">=</span><span class="n">itflow</span><span class="p">,</span>
                                        <span class="n">fit_list</span><span class="o">=</span><span class="n">thisfitr</span><span class="p">,</span><span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span>
                                        <span class="n">Auto</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span>
                                        <span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span>
                                        <span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">,</span><span class="n">WipeFit</span><span class="o">=</span><span class="n">WipeFit</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaPlotTsum</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span>
                                        <span class="n">spec_tsum_list</span><span class="o">=</span><span class="n">jt_sum</span><span class="p">,</span>
                                        <span class="n">thistsinklist</span> <span class="o">=</span> <span class="n">thist</span><span class="p">,</span><span class="n">thistflowlist</span><span class="o">=</span><span class="n">itflow</span><span class="p">,</span>
                                        <span class="n">fit_list</span><span class="o">=</span><span class="n">thisfitr</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span>
                                        <span class="n">Auto</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span>
                                        <span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span>
                                        <span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">,</span><span class="n">WipeFit</span><span class="o">=</span><span class="n">WipeFit</span><span class="p">)</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">icount</span><span class="p">]:</span>
                        <span class="n">ssfitr</span> <span class="o">=</span> <span class="p">[</span><span class="n">ifit</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">ifit</span> <span class="ow">in</span> <span class="n">thisfitr</span><span class="p">]</span>
                        <span class="n">tsumfitr</span> <span class="o">=</span> <span class="p">[</span><span class="n">ifit</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">ifit</span> <span class="ow">in</span> <span class="n">thisfitr</span><span class="p">]</span>
                        <span class="n">iC2</span><span class="o">.</span><span class="n">FitAlpha</span><span class="p">(</span>   <span class="n">fit_ranges</span><span class="o">=</span><span class="n">ssfitr</span><span class="p">,</span><span class="n">tsum_ranges</span><span class="o">=</span><span class="n">tsumfitr</span><span class="p">,</span>
                                        <span class="n">thistflowlist</span> <span class="o">=</span> <span class="n">itflow</span><span class="p">,</span><span class="n">NoProd</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                        <span class="n">show_timer</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">WipeFit</span><span class="o">=</span><span class="n">WipeFit</span><span class="p">)</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>


<div class="viewcode-block" id="SetOfNNQFull.AlphaPlotCovar"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQFull.AlphaPlotCovar">[docs]</a>    <span class="k">def</span> <span class="nf">AlphaPlotCovar</span><span class="p">(</span>  <span class="bp">self</span><span class="p">,</span><span class="n">plot_info</span><span class="p">,</span><span class="n">tlist</span><span class="o">=</span><span class="s1">&#39;PreDef&#39;</span><span class="p">,</span><span class="n">tflowlist</span><span class="o">=</span><span class="s1">&#39;PreDef&#39;</span><span class="p">,</span><span class="n">momlist</span><span class="o">=</span><span class="p">[],</span>
                        <span class="n">spec_tsum_list</span><span class="o">=</span><span class="s1">&#39;PreDef&#39;</span><span class="p">,</span><span class="n">OnlyVar</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;Covariance of Nucleon Mixing Angle $\alpha$ over $t_</span><span class="si">{sum}</span><span class="s1">$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span><span class="sa">r</span><span class="s1">&#39;$t_</span><span class="si">{s}</span><span class="s1">$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$Covar$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_Alpha_covar.pdf&#39;</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>
        <span class="n">varcount</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">tlist</span> <span class="o">==</span> <span class="s1">&#39;PreDef&#39;</span><span class="p">:</span> <span class="n">tlist</span> <span class="o">=</span> <span class="p">[</span><span class="n">tlist</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="k">if</span> <span class="n">spec_tsum_list</span> <span class="o">==</span> <span class="s1">&#39;PreDef&#39;</span><span class="p">:</span> <span class="n">spec_tsum_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">spec_tsum_list</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="k">if</span> <span class="n">tflowlist</span> <span class="o">==</span> <span class="s1">&#39;PreDef&#39;</span><span class="p">:</span> <span class="n">tflowlist</span> <span class="o">=</span> <span class="p">[</span><span class="n">tflowlist</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="k">for</span> <span class="n">icount</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">OnlyVar</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ikey</span> <span class="ow">in</span>  <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="p">:</span>
                <span class="n">thiscol</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
                <span class="n">thissym</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
                <span class="n">thisshift</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
                <span class="n">varcount</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">jt_sum</span> <span class="o">=</span> <span class="n">spec_tsum_list</span><span class="p">[</span><span class="n">icount</span><span class="p">]</span>
                <span class="n">itflow</span> <span class="o">=</span> <span class="n">tflowlist</span><span class="p">[</span><span class="n">icount</span><span class="p">]</span>
                <span class="n">thist</span> <span class="o">=</span> <span class="n">tlist</span><span class="p">[</span><span class="n">icount</span><span class="p">]</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">icount</span><span class="p">]:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Alpha plotting Covariance over tsum time &#39;</span><span class="p">,</span> <span class="n">iC2</span><span class="p">)</span>
                    <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaPlotCovar</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span>
                                        <span class="n">spec_tsum_list</span><span class="o">=</span><span class="n">jt_sum</span><span class="p">,</span>
                                        <span class="n">thistsinklist</span> <span class="o">=</span> <span class="n">thist</span><span class="p">,</span><span class="n">thistflowlist</span><span class="o">=</span><span class="n">itflow</span><span class="p">,</span>
                                        <span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span>
                                        <span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span>
                                        <span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">)</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>


<div class="viewcode-block" id="SetOfNNQFull.AlphaPlotDist"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQFull.AlphaPlotDist">[docs]</a>    <span class="k">def</span> <span class="nf">AlphaPlotDist</span><span class="p">(</span>  <span class="bp">self</span><span class="p">,</span><span class="n">plot_info</span><span class="p">,</span><span class="n">tlist</span><span class="p">,</span><span class="n">tflowlist</span><span class="p">,</span><span class="n">tsum_list</span><span class="p">,</span>
                        <span class="n">tsum_spec_list</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">momlist</span><span class="o">=</span><span class="s1">&#39;p000&#39;</span><span class="p">,</span>
                        <span class="n">OnlyVar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">Auto</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;Nucleon Mixing Angle $\alpha$ Bootstrap Distribution&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span><span class="sa">r</span><span class="s1">&#39;$\alpha$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$frequency$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_Alpha_dist.pdf&#39;</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">tsum_list</span><span class="p">,(</span><span class="nb">list</span><span class="p">,</span><span class="nb">tuple</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)):</span>
            <span class="n">tsum_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">tsum_list</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">tflowlist</span><span class="p">,(</span><span class="nb">list</span><span class="p">,</span><span class="nb">tuple</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)):</span>
            <span class="n">tflowlist</span> <span class="o">=</span> <span class="p">[</span><span class="n">tflowlist</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">tlist</span><span class="p">,(</span><span class="nb">list</span><span class="p">,</span><span class="nb">tuple</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)):</span>
            <span class="n">tlist</span> <span class="o">=</span> <span class="p">[</span><span class="n">tlist</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">momlist</span><span class="p">,(</span><span class="nb">list</span><span class="p">,</span><span class="nb">tuple</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)):</span>
            <span class="n">momlist</span> <span class="o">=</span> <span class="p">[</span><span class="n">momlist</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">tsum_spec_list</span><span class="p">,(</span><span class="nb">list</span><span class="p">,</span><span class="nb">tuple</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)):</span>
            <span class="n">tsum_spec_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">tsum_spec_list</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()]</span>

        <span class="n">varcount</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">icount</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">OnlyVar</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ikey</span> <span class="ow">in</span>  <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Alpha plotting distribution &#39;</span><span class="p">,</span> <span class="n">iC2</span><span class="p">)</span>
                <span class="n">itflow</span> <span class="o">=</span> <span class="n">tflowlist</span><span class="p">[</span><span class="n">icount</span><span class="p">]</span>
                <span class="n">itsum</span> <span class="o">=</span> <span class="n">tsum_list</span><span class="p">[</span><span class="n">icount</span><span class="p">]</span>
                <span class="n">jtsum</span> <span class="o">=</span> <span class="n">tsum_spec_list</span><span class="p">[</span><span class="n">icount</span><span class="p">]</span>
                <span class="n">it</span> <span class="o">=</span> <span class="n">tlist</span><span class="p">[</span><span class="n">icount</span><span class="p">]</span>
                <span class="n">imom</span> <span class="o">=</span> <span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">]</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">imom</span><span class="p">,(</span><span class="nb">list</span><span class="p">,</span><span class="nb">tuple</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)):</span>
                    <span class="n">imom</span> <span class="o">=</span> <span class="n">imom</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">iC2</span><span class="o">.</span><span class="n">is_NNQ2sub</span><span class="p">:</span>
                    <span class="n">NNQkey</span> <span class="o">=</span> <span class="p">(</span><span class="n">imom</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">itsum</span><span class="p">,</span><span class="n">jtsum</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">NNQkey</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">iC2</span><span class="o">.</span><span class="n">NNQ_subNNQ2_Stats</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="n">iC2</span><span class="o">.</span><span class="n">NNQ_subNNQ2_Stats</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Warning: &#39;</span><span class="p">,</span> <span class="n">NNQkey</span> <span class="p">,</span><span class="s1">&#39;not in NNQ_subNNQ2_Stats, skipping plot&#39;</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">this_col</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
                        <span class="n">varcount</span> <span class="o">+=</span> <span class="mi">1</span>
                        <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaPlotDist</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">itsum</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">spec_tsum</span><span class="o">=</span><span class="n">jtsum</span><span class="p">,</span><span class="n">mom</span><span class="o">=</span><span class="n">imom</span><span class="p">,</span>
                                <span class="n">thiscol</span><span class="o">=</span><span class="n">this_col</span><span class="p">,</span><span class="n">Auto</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">icount</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">NNQkey</span> <span class="o">=</span> <span class="p">(</span><span class="n">imom</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">itsum</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">NNQkey</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">iC2</span><span class="o">.</span><span class="n">NNQFull_Stats</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="n">iC2</span><span class="o">.</span><span class="n">NNQFull_Stats</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Warning: &#39;</span><span class="p">,</span> <span class="n">NNQkey</span> <span class="p">,</span><span class="s1">&#39;not in NNQFull_Stats, skipping plot&#39;</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">this_col</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
                        <span class="n">varcount</span> <span class="o">+=</span> <span class="mi">1</span>
                        <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaPlotDist</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">itsum</span><span class="p">,</span><span class="n">it</span><span class="p">,</span><span class="n">mom</span><span class="o">=</span><span class="n">imom</span><span class="p">,</span>
                                <span class="n">thiscol</span><span class="o">=</span><span class="n">this_col</span><span class="p">,</span><span class="n">Auto</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">icount</span><span class="p">])</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>

    <span class="c1">## fitlist is list of touples { set : (&#39;state#&#39;,&#39;fitr#-#&#39;)}</span>
    <span class="c1">## momlist is now all of them. THIS IS DIFFERENT TO ABOVE</span>
<div class="viewcode-block" id="SetOfNNQFull.AlphaPlotVsEnergy"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQFull.AlphaPlotVsEnergy">[docs]</a>    <span class="k">def</span> <span class="nf">AlphaPlotVsEnergy</span><span class="p">(</span>  <span class="bp">self</span><span class="p">,</span><span class="n">plot_info</span><span class="p">,</span><span class="n">fitDict</span><span class="o">=</span><span class="n">defFitDict</span><span class="p">,</span><span class="n">momlist</span><span class="o">=</span><span class="p">[],</span>
                            <span class="n">tflowlist</span><span class="o">=</span><span class="s1">&#39;PreDef&#39;</span><span class="p">,</span><span class="n">OnlyVar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">WipeFit</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;Nucleon Mixing Angle $\alpha$ vs energy extraction from&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span><span class="sa">r</span><span class="s1">&#39;$E_</span><span class="si">{p}</span><span class="s1">$ [GeV]&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\alpha$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_Alpha_VsEnergy.pdf&#39;</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>
        <span class="n">fit_is_dict</span> <span class="o">=</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fitDict</span><span class="p">,(</span><span class="n">OrderedDict</span><span class="p">,</span><span class="nb">dict</span><span class="p">))</span>
        <span class="n">varcount</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">tflowlist</span> <span class="o">==</span> <span class="s1">&#39;PreDef&#39;</span><span class="p">:</span> <span class="n">tflowlist</span> <span class="o">=</span> <span class="p">[</span><span class="n">tflowlist</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="k">for</span> <span class="n">icount</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iC2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">OnlyVar</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ikey</span> <span class="ow">in</span>  <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="p">:</span>
                <span class="n">thiscol</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
                <span class="n">thissym</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
                <span class="n">thisshift</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="n">varcount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
                <span class="n">varcount</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Alpha plotting over time &#39;</span><span class="p">,</span> <span class="n">iC2</span><span class="p">)</span>
                <span class="n">itflow</span> <span class="o">=</span> <span class="n">tflowlist</span><span class="p">[</span><span class="n">icount</span><span class="p">]</span>
                <span class="c1"># thiscol,thisshift,thissym = self.GetColShiftSym(iC2,mult=ictflow)</span>
                <span class="k">if</span> <span class="n">fit_is_dict</span><span class="p">:</span> <span class="n">iindex</span> <span class="o">=</span> <span class="n">ikey</span>
                <span class="k">else</span><span class="p">:</span> <span class="n">iindex</span> <span class="o">=</span> <span class="n">icount</span>
                <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iC2</span><span class="o">.</span><span class="n">AlphaPlotVsEnergy</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">fitDict</span><span class="p">[</span><span class="n">iindex</span><span class="p">],</span><span class="n">thistflowlist</span><span class="o">=</span><span class="n">itflow</span><span class="p">,</span>
                                        <span class="n">momlist</span><span class="o">=</span><span class="n">momlist</span><span class="p">[</span><span class="n">icount</span><span class="p">],</span><span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span>
                                        <span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">,</span><span class="n">WipeFit</span><span class="o">=</span><span class="n">WipeFit</span><span class="p">)</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>


<div class="viewcode-block" id="SetOfNNQFull.AlphaPlotVsLatSpace"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQFull.AlphaPlotVsLatSpace">[docs]</a>    <span class="k">def</span> <span class="nf">AlphaPlotVsLatSpace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">plot_info</span><span class="p">,</span><span class="n">this_fit</span><span class="p">,</span><span class="n">plottflowlist</span><span class="o">=</span><span class="s1">&#39;PreDefine&#39;</span><span class="p">,</span><span class="n">momlist</span><span class="o">=</span><span class="s1">&#39;p000&#39;</span><span class="p">,</span><span class="n">OnlyVar</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\alpha_</span><span class="si">{N}</span><span class="s1">$ Lattice spacing $a$ dependance&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$ a[fm]$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\alpha_</span><span class="si">{N}</span><span class="s1">$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_VsLatSpace.pdf&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlims&#39;</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlims&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlims&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlims&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="kc">None</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">this_fit</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span>
            <span class="n">this_fit</span> <span class="o">=</span> <span class="p">[</span><span class="n">this_fit</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">momlist</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span>
            <span class="n">momlist</span> <span class="o">=</span> <span class="p">[</span><span class="n">momlist</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">momlist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nb">str</span><span class="p">):</span>
            <span class="n">momlist</span> <span class="o">=</span> <span class="p">[</span><span class="n">imom</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">imom</span> <span class="ow">in</span> <span class="n">momlist</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">plottflowlist</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span>
            <span class="n">plottflowlist</span> <span class="o">=</span> <span class="p">[</span><span class="n">plottflowlist</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iset</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">OnlyVar</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ikey</span> <span class="ow">in</span>  <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="p">:</span>
                <span class="n">firstset</span> <span class="o">=</span> <span class="n">iset</span>
                <span class="k">break</span>
        <span class="n">the_mpi</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="n">this_bool</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iset</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">OnlyVar</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ikey</span> <span class="ow">in</span>  <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">firstset</span><span class="o">.</span><span class="n">NN</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">GetPionMass</span><span class="p">()</span> <span class="o">!=</span> <span class="n">iset</span><span class="o">.</span><span class="n">NN</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">GetPionMass</span><span class="p">():</span>
                    <span class="n">this_bool</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;warning: not all mpi values are the same for latspace plot&#39;</span><span class="p">)</span>
                    <span class="k">break</span>
        <span class="k">if</span> <span class="n">this_bool</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iset</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">OnlyVar</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ikey</span> <span class="ow">in</span>  <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">iset</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">iset</span><span class="o">.</span><span class="n">NN</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">GetPionMass</span><span class="p">())</span>
                    <span class="nb">print</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">the_mpi</span> <span class="o">=</span> <span class="n">firstset</span><span class="o">.</span><span class="n">NN</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">GetPionMassLab</span><span class="p">(</span><span class="n">MeV</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Plotting fit results over lattice spacing&#39;</span><span class="p">)</span>
        <span class="n">ploty</span><span class="p">,</span><span class="n">plotx</span> <span class="o">=</span> <span class="p">[],[]</span>
        <span class="k">for</span> <span class="n">ic</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iset</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">OnlyVar</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ikey</span> <span class="ow">in</span>  <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="p">:</span>
                <span class="n">this_fitr</span><span class="p">,</span><span class="n">this_tsum_fitr</span> <span class="o">=</span> <span class="n">this_fit</span><span class="p">[</span><span class="n">ic</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">)</span>
                <span class="n">fit_data</span> <span class="o">=</span> <span class="n">iset</span><span class="o">.</span><span class="n">Get_Extrapolation</span><span class="p">()</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="k">continue</span>
                <span class="n">this_fun</span> <span class="o">=</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>
                <span class="n">this_par</span> <span class="o">=</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">5</span><span class="p">]</span>
                <span class="n">this_key</span> <span class="o">=</span> <span class="n">momlist</span><span class="p">[</span><span class="n">ic</span><span class="p">],</span><span class="n">plottflowlist</span><span class="p">[</span><span class="n">ic</span><span class="p">],</span><span class="n">this_fun</span><span class="p">,</span><span class="n">this_fitr</span><span class="p">,</span><span class="n">this_tsum_fitr</span><span class="p">,</span><span class="n">this_par</span>
                <span class="k">if</span> <span class="s1">&#39;all&#39;</span> <span class="ow">in</span> <span class="n">this_key</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                    <span class="n">this_key</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">this_key</span><span class="p">)</span>
                    <span class="n">this_key</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
                    <span class="n">this_key</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">this_key</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">this_key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">fit_data</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">this_key</span><span class="p">,</span> <span class="s1">&#39; fit has not been computed for alpha, attempting now&#39;</span><span class="p">)</span>
                    <span class="n">iset</span><span class="o">.</span><span class="n">FitAlpha</span><span class="p">(</span>  <span class="n">fit_range</span><span class="o">=</span><span class="n">this_fitr</span><span class="p">,</span><span class="n">thistflowlist</span><span class="o">=</span><span class="p">[</span><span class="n">plottflowlist</span><span class="p">[</span><span class="n">ic</span><span class="p">]],</span>
                                    <span class="n">tsum_ranges</span><span class="o">=</span><span class="n">this_tsum_fitr</span><span class="p">)</span>
                    <span class="n">fit_data</span> <span class="o">=</span> <span class="n">iset</span><span class="o">.</span><span class="n">Get_Extrapolation</span><span class="p">()</span>
                    <span class="n">this_fun</span> <span class="o">=</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>
                    <span class="n">this_par</span> <span class="o">=</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">5</span><span class="p">]</span>
                    <span class="n">this_key</span> <span class="o">=</span> <span class="n">momlist</span><span class="p">[</span><span class="n">ic</span><span class="p">],</span><span class="n">plottflowlist</span><span class="p">[</span><span class="n">ic</span><span class="p">],</span><span class="n">this_fun</span><span class="p">,</span><span class="n">this_fit</span><span class="p">[</span><span class="n">ic</span><span class="p">],</span><span class="n">this_par</span>
                    <span class="k">if</span> <span class="s1">&#39;all&#39;</span> <span class="ow">in</span> <span class="n">this_key</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                        <span class="n">this_key</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">this_key</span><span class="p">)</span>
                        <span class="n">this_key</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
                        <span class="n">this_key</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">this_key</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">this_key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">fit_data</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39; ERROR FITTING:&#39;</span> <span class="p">,</span>  <span class="n">this_key</span><span class="p">)</span>
                        <span class="nb">print</span><span class="p">(</span><span class="n">fit_data</span><span class="p">)</span>
                        <span class="k">continue</span>
                <span class="n">this_names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;$a$&#39;</span><span class="p">]</span><span class="o">+</span><span class="nb">list</span><span class="p">(</span><span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">names</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">ireskey</span><span class="p">,</span><span class="n">ires</span> <span class="ow">in</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="n">ploty</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ires</span><span class="p">)</span>
                    <span class="n">plotx</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">iset</span><span class="o">.</span><span class="n">NN</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">GetLatSpaceLab</span><span class="p">(),)</span><span class="o">+</span><span class="n">ireskey</span><span class="p">)</span> <span class="c1">## in MeV</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">plotx</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">plot_key</span> <span class="o">=</span> <span class="p">[</span><span class="nb">slice</span><span class="p">(</span><span class="kc">None</span><span class="p">)]</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">plotx</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">:])</span>
            <span class="n">indicies</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_tuples</span><span class="p">(</span><span class="n">plotx</span><span class="p">,</span><span class="n">names</span><span class="o">=</span><span class="n">this_names</span><span class="p">)</span>
            <span class="n">ploty</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">ploty</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="n">indicies</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;No Sets Found for plotting vs lat spacing&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">data_plot</span>

        <span class="c1"># thisFF = thisFF.replace(&#39;tilde&#39;,r&#39;\tilde&#39;)</span>
        <span class="c1"># thisFF = thisFF.replace(&#39;frac&#39;,r&#39;\frac&#39;)</span>
        <span class="n">thislab</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$&#39;</span><span class="o">+</span><span class="sa">r</span><span class="s1">&#39;\ &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">the_mpi</span><span class="p">])</span><span class="o">+</span><span class="sa">r</span><span class="s1">&#39;$ &#39;</span>
        <span class="n">hold_series</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">null_series</span><span class="p">)</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;x_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;from_keys&#39;</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;y_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ploty</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">Avg</span><span class="p">)</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;yerr_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ploty</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">Avg</span><span class="p">)</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;key_select&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">plot_key</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;error_bar_vary&#39;</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">thislab</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;symbol&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;o&#39;</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">AppendData</span><span class="p">(</span><span class="n">hold_series</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plot_Extrap</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="s1">&#39;latspace&#39;</span><span class="p">)</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>


<div class="viewcode-block" id="SetOfNNQFull.AlphaPlotVsMpi"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQFull.AlphaPlotVsMpi">[docs]</a>    <span class="k">def</span> <span class="nf">AlphaPlotVsMpi</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">plot_info</span><span class="p">,</span><span class="n">this_fit</span><span class="p">,</span><span class="n">plottflowlist</span><span class="o">=</span><span class="s1">&#39;PreDefine&#39;</span><span class="p">,</span><span class="n">momlist</span><span class="o">=</span><span class="s1">&#39;p000&#39;</span><span class="p">,</span><span class="n">OnlyVar</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\alpha_</span><span class="si">{N}</span><span class="s1">$ $m_{\pi}$ dependance&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$ m_{\pi}[MeV]$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\alpha_</span><span class="si">{N}</span><span class="s1">$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_VsMpi.pdf&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlims&#39;</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlims&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlims&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlims&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="kc">None</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">this_fit</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span>
            <span class="n">this_fit</span> <span class="o">=</span> <span class="p">[</span><span class="n">this_fit</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">momlist</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span>
            <span class="n">momlist</span> <span class="o">=</span> <span class="p">[</span><span class="n">momlist</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">momlist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nb">str</span><span class="p">):</span>
            <span class="n">momlist</span> <span class="o">=</span> <span class="p">[</span><span class="n">imom</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">imom</span> <span class="ow">in</span> <span class="n">momlist</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">plottflowlist</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span>
            <span class="n">plottflowlist</span> <span class="o">=</span> <span class="p">[</span><span class="n">plottflowlist</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iset</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">OnlyVar</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ikey</span> <span class="ow">in</span>  <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="p">:</span>
                <span class="n">firstset</span> <span class="o">=</span> <span class="n">iset</span>
                <span class="k">break</span>
        <span class="n">the_latspace</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="n">this_bool</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iset</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">OnlyVar</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ikey</span> <span class="ow">in</span>  <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">firstset</span><span class="o">.</span><span class="n">NN</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">latspace</span> <span class="o">!=</span> <span class="n">iset</span><span class="o">.</span><span class="n">NN</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">latspace</span><span class="p">:</span>
                    <span class="n">this_bool</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;warning: not all lattice spacing values are the same for mpi plot&#39;</span><span class="p">)</span>
                    <span class="k">break</span>
        <span class="k">if</span> <span class="n">this_bool</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iset</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">OnlyVar</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ikey</span> <span class="ow">in</span>  <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">iset</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">iset</span><span class="o">.</span><span class="n">NN</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">latspace</span><span class="p">)</span>
                    <span class="nb">print</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">the_latspace</span> <span class="o">=</span> <span class="n">firstset</span><span class="o">.</span><span class="n">NN</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">GetLatSpaceLab</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Plotting fit results over pion mass&#39;</span><span class="p">)</span>

        <span class="n">ploty</span><span class="p">,</span><span class="n">plotx</span> <span class="o">=</span> <span class="p">[],[]</span>
        <span class="k">for</span> <span class="n">ic</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iset</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">OnlyVar</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ikey</span> <span class="ow">in</span>  <span class="bp">self</span><span class="o">.</span><span class="n">VarKeys</span><span class="p">:</span>
                <span class="n">this_fitr</span><span class="p">,</span><span class="n">this_tsum_fitr</span> <span class="o">=</span> <span class="n">this_fit</span><span class="p">[</span><span class="n">ic</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">)</span>
                <span class="n">fit_data</span> <span class="o">=</span> <span class="n">iset</span><span class="o">.</span><span class="n">Get_Extrapolation</span><span class="p">()</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="k">continue</span>
                <span class="n">this_fun</span> <span class="o">=</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>
                <span class="n">this_par</span> <span class="o">=</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">5</span><span class="p">]</span>
                <span class="n">this_key</span> <span class="o">=</span> <span class="n">momlist</span><span class="p">[</span><span class="n">ic</span><span class="p">],</span><span class="n">plottflowlist</span><span class="p">[</span><span class="n">ic</span><span class="p">],</span><span class="n">this_fun</span><span class="p">,</span><span class="n">this_fitr</span><span class="p">,</span><span class="n">this_tsum_fitr</span><span class="p">,</span><span class="n">this_par</span>
                <span class="k">if</span> <span class="s1">&#39;all&#39;</span> <span class="ow">in</span> <span class="n">this_key</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                    <span class="n">this_key</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">this_key</span><span class="p">)</span>
                    <span class="n">this_key</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
                    <span class="n">this_key</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">this_key</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">this_key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">fit_data</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">this_key</span><span class="p">,</span> <span class="s1">&#39; fit has not been computed for alpha, attempting now&#39;</span><span class="p">)</span>
                    <span class="n">iset</span><span class="o">.</span><span class="n">FitAlpha</span><span class="p">(</span>  <span class="n">fit_range</span><span class="o">=</span><span class="n">this_fitr</span><span class="p">,</span><span class="n">thistflowlist</span><span class="o">=</span><span class="p">[</span><span class="n">plottflowlist</span><span class="p">[</span><span class="n">ic</span><span class="p">]],</span>
                                    <span class="n">tsum_ranges</span><span class="o">=</span><span class="n">this_tsum_fitr</span><span class="p">)</span>
                    <span class="n">fit_data</span> <span class="o">=</span> <span class="n">iset</span><span class="o">.</span><span class="n">Get_Extrapolation</span><span class="p">()</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="k">continue</span>
                    <span class="n">this_fun</span> <span class="o">=</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>
                    <span class="n">this_par</span> <span class="o">=</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">5</span><span class="p">]</span>
                    <span class="n">this_key</span> <span class="o">=</span> <span class="n">momlist</span><span class="p">[</span><span class="n">ic</span><span class="p">],</span><span class="n">plottflowlist</span><span class="p">[</span><span class="n">ic</span><span class="p">],</span><span class="n">this_fun</span><span class="p">,</span><span class="n">this_fit</span><span class="p">[</span><span class="n">ic</span><span class="p">],</span><span class="n">this_par</span>
                    <span class="k">if</span> <span class="s1">&#39;all&#39;</span> <span class="ow">in</span> <span class="n">this_key</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                        <span class="n">this_key</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">this_key</span><span class="p">)</span>
                        <span class="n">this_key</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
                        <span class="n">this_key</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">this_key</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">this_key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">fit_data</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39; ERROR FITTING:&#39;</span> <span class="p">,</span>  <span class="n">this_key</span><span class="p">)</span>
                        <span class="nb">print</span><span class="p">(</span><span class="n">fit_data</span><span class="p">)</span>
                        <span class="k">continue</span>
                <span class="n">this_names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;$m_{\pi}$&#39;</span><span class="p">]</span><span class="o">+</span><span class="nb">list</span><span class="p">(</span><span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">names</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">ireskey</span><span class="p">,</span><span class="n">ires</span> <span class="ow">in</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="n">ploty</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ires</span><span class="p">)</span>
                    <span class="n">plotx</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">iset</span><span class="o">.</span><span class="n">NN</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">GetPionMassLab</span><span class="p">(</span><span class="n">MeV</span><span class="o">=</span><span class="kc">True</span><span class="p">),)</span><span class="o">+</span><span class="n">ireskey</span><span class="p">)</span> <span class="c1">## in MeV</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">plotx</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">plot_key</span> <span class="o">=</span> <span class="p">[</span><span class="nb">slice</span><span class="p">(</span><span class="kc">None</span><span class="p">)]</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">plotx</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">:])</span>
            <span class="n">indicies</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_tuples</span><span class="p">(</span><span class="n">plotx</span><span class="p">,</span><span class="n">names</span><span class="o">=</span><span class="n">this_names</span><span class="p">)</span>
            <span class="n">ploty</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">ploty</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="n">indicies</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;No Sets Found for plotting vs mpi&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">data_plot</span>

        <span class="c1"># thisFF = thisFF.replace(&#39;tilde&#39;,r&#39;\tilde&#39;)</span>
        <span class="c1"># thisFF = thisFF.replace(&#39;frac&#39;,r&#39;\frac&#39;)</span>
        <span class="n">thislab</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$&#39;</span><span class="o">+</span><span class="sa">r</span><span class="s1">&#39;\ &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">the_latspace</span><span class="p">])</span><span class="o">+</span><span class="sa">r</span><span class="s1">&#39;$ &#39;</span>
        <span class="n">hold_series</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">null_series</span><span class="p">)</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;x_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;from_keys&#39;</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;y_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ploty</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">Avg</span><span class="p">)</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;yerr_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ploty</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">Avg</span><span class="p">)</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;key_select&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">plot_key</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;error_bar_vary&#39;</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">thislab</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;symbol&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;o&#39;</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">AppendData</span><span class="p">(</span><span class="n">hold_series</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plot_Extrap</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="s1">&#39;chiral&#39;</span><span class="p">)</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>


<div class="viewcode-block" id="SetOfNNQFull.Plot_Extrap"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQFull.Plot_Extrap">[docs]</a>    <span class="k">def</span> <span class="nf">Plot_Extrap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">plot_data</span><span class="p">,</span><span class="n">extrap_type</span><span class="p">,</span><span class="n">this_fun</span><span class="o">=</span><span class="s1">&#39;Default&#39;</span><span class="p">):</span>
        <span class="n">extrap_type</span> <span class="o">=</span> <span class="n">extrap_type</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="n">this_eval</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="s1">&#39;latspace&#39;</span> <span class="ow">in</span> <span class="n">extrap_type</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">this_fun</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span>
                <span class="n">this_fun</span> <span class="o">=</span> <span class="p">(</span><span class="n">SquaredFitFun</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
            <span class="n">fit_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">LatSpace_Extrapolation</span><span class="p">(</span><span class="n">this_fun</span><span class="o">=</span><span class="n">this_fun</span><span class="p">)</span>
        <span class="c1"># elif &#39;boxsize&#39; in extrap_type:</span>
        <span class="c1">#     if isinstance(this_fun,str):</span>
        <span class="c1">#         this_fun = (SquaredFitFun,2)</span>
        <span class="c1">#     fit_data = self.BoxSize_Extrapolation(this_fun=this_fun)</span>
        <span class="k">elif</span> <span class="s1">&#39;mpi&#39;</span> <span class="ow">in</span> <span class="n">extrap_type</span> <span class="ow">or</span> <span class="s1">&#39;chiral&#39;</span> <span class="ow">in</span> <span class="n">extrap_type</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">this_fun</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span>
                <span class="n">this_fun</span> <span class="o">=</span> <span class="p">(</span><span class="n">LinearFitFun</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
            <span class="n">fit_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Chiral_Extrapolation</span><span class="p">(</span><span class="n">this_fun</span><span class="o">=</span><span class="n">this_fun</span><span class="p">)</span>
            <span class="n">this_eval</span> <span class="o">=</span> <span class="n">physcial_pion_mass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="s1">&#39;extrapolation type not recognised &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">extrap_type</span><span class="p">))</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">fit_data</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">plot_data</span>
        <span class="c1"># if isinstance(fitr_params,pa.Series): fitr_params = fitr_params.iloc[-1]</span>
        <span class="c1">## TODO, plot from zero to data max</span>
        <span class="n">hold_series</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">null_series</span><span class="p">)</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;key_select&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;fit_vary&#39;</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;fit_class&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fit_data</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;fit &#39;</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;xdatarange&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="s1">&#39;ToDataMax&#39;</span><span class="p">]</span>
        <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;ShowEval&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">this_eval</span>
        <span class="n">plot_data</span><span class="o">.</span><span class="n">AppendData</span><span class="p">(</span><span class="n">hold_series</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">plot_data</span></div>


<div class="viewcode-block" id="SetOfNNQFull.LatSpace_Extrapolation"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQFull.LatSpace_Extrapolation">[docs]</a>    <span class="k">def</span> <span class="nf">LatSpace_Extrapolation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">this_fun</span><span class="o">=</span><span class="p">(</span><span class="n">SquaredFitFun</span><span class="p">,</span><span class="mi">2</span><span class="p">)):</span>
        <span class="c1"># print &#39;DEBUGGING LatSpace_Extrapolation&#39;</span>
        <span class="k">def</span> <span class="nf">this_fit</span><span class="p">(</span><span class="n">this_series</span><span class="p">):</span>
            <span class="n">xdata</span><span class="p">,</span><span class="n">ydata</span> <span class="o">=</span> <span class="p">[[]],[]</span>
            <span class="k">for</span> <span class="n">icol</span><span class="p">,</span><span class="n">coldata</span> <span class="ow">in</span> <span class="n">this_series</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="s1">&#39;_latspace&#39;</span> <span class="ow">in</span> <span class="n">icol</span><span class="p">:</span>
                    <span class="n">xdata</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">coldata</span><span class="p">)</span>
                    <span class="c1">##### DEBUGGING ####</span>
                    <span class="c1"># xdata[0].append(coldata+100)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">ydata</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">coldata</span><span class="p">)</span>
                    <span class="c1">##### DEBUGGING ####</span>
                    <span class="c1"># ydata.append(coldata+200)</span>
                    <span class="c1"># ydata[-1].Stats()</span>
            <span class="n">thisff</span> <span class="o">=</span> <span class="n">ff</span><span class="o">.</span><span class="n">Fitting</span><span class="p">(</span><span class="n">Funs</span><span class="o">=</span><span class="n">this_fun</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">xdata</span><span class="p">),</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ydata</span><span class="p">)],</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;LatSpace_Ext&#39;</span><span class="p">)</span>
            <span class="n">fit_result</span> <span class="o">=</span> <span class="n">thisff</span><span class="o">.</span><span class="n">FitBoots</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">fit_result</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">fit_result</span>
            <span class="k">return</span> <span class="n">thisff</span>

        <span class="n">this_df</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iset</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">this_data</span> <span class="o">=</span> <span class="n">iset</span><span class="o">.</span><span class="n">Get_Extrapolation</span><span class="p">()</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">this_data</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">this_df</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">this_data</span>
                <span class="n">this_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="n">ikey</span><span class="o">+</span><span class="s1">&#39;_latspace&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">iset</span><span class="o">.</span><span class="n">NN</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">latspace</span><span class="p">)</span>
        <span class="n">this_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;Fit&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">this_df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">this_fit</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">this_df</span><span class="p">[</span><span class="s1">&#39;Fit&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span></div>

<div class="viewcode-block" id="SetOfNNQFull.Chiral_Extrapolation"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQFull.Chiral_Extrapolation">[docs]</a>    <span class="k">def</span> <span class="nf">Chiral_Extrapolation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">this_fun</span><span class="o">=</span><span class="p">(</span><span class="n">LinearFitFun</span><span class="p">,</span><span class="mi">2</span><span class="p">)):</span>
        <span class="c1"># print &#39;DEBUGGING Chiral_Extrapolation&#39;</span>
        <span class="k">def</span> <span class="nf">this_fit</span><span class="p">(</span><span class="n">this_series</span><span class="p">):</span>
            <span class="n">xdata</span><span class="p">,</span><span class="n">ydata</span> <span class="o">=</span> <span class="p">[[]],[]</span>
            <span class="k">for</span> <span class="n">icol</span><span class="p">,</span><span class="n">coldata</span> <span class="ow">in</span> <span class="n">this_series</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="s1">&#39;_chiral&#39;</span> <span class="ow">in</span> <span class="n">icol</span><span class="p">:</span>
                    <span class="n">xdata</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">coldata</span><span class="p">)</span>
                    <span class="c1"># ##### DEBUGGING ####</span>
                    <span class="c1"># xdata[0].append(coldata+100)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">ydata</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">coldata</span><span class="p">)</span>
                    <span class="c1"># ##### DEBUGGING ####</span>
                    <span class="c1"># ydata.append(coldata+200)</span>
                    <span class="c1"># ydata[-1].Stats()</span>
            <span class="n">thisff</span> <span class="o">=</span> <span class="n">ff</span><span class="o">.</span><span class="n">Fitting</span><span class="p">(</span><span class="n">Funs</span><span class="o">=</span><span class="n">this_fun</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">xdata</span><span class="p">),</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ydata</span><span class="p">)],</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Chiral_Ext&#39;</span><span class="p">)</span>
            <span class="n">fit_result</span> <span class="o">=</span> <span class="n">thisff</span><span class="o">.</span><span class="n">FitBoots</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">fit_result</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">fit_result</span>
            <span class="k">return</span> <span class="n">thisff</span>

        <span class="n">this_df</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">iset</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">this_data</span> <span class="o">=</span> <span class="n">iset</span><span class="o">.</span><span class="n">Get_Extrapolation</span><span class="p">()</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">this_data</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">this_df</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">this_data</span>
                <span class="n">this_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="n">ikey</span><span class="o">+</span><span class="s1">&#39;_chiral&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">iset</span><span class="o">.</span><span class="n">NN</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">GetPionMass</span><span class="p">(</span><span class="n">MeV</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
        <span class="n">this_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;Fit&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">this_df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">this_fit</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">this_df</span><span class="p">[</span><span class="s1">&#39;Fit&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span></div>


    <span class="k">def</span> <span class="nf">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="n">key</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="n">key</span><span class="p">[</span><span class="mi">1</span><span class="p">:]]</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="n">key</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="n">key</span><span class="p">[</span><span class="mi">1</span><span class="p">:]]</span>

<div class="viewcode-block" id="SetOfNNQFull.Stats"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQFull.Stats">[docs]</a>    <span class="k">def</span> <span class="nf">Stats</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">iset</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">iset</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span></div>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>

    <span class="k">def</span> <span class="nf">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>

<div class="viewcode-block" id="SetOfNNQFull.items"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQFull.items">[docs]</a>    <span class="k">def</span> <span class="nf">items</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">outdata</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">setdata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">tdata</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">setdata</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                <span class="n">outdata</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">iset</span><span class="p">,)</span><span class="o">+</span><span class="n">ikey</span><span class="o">+</span><span class="p">(</span><span class="n">tdata</span><span class="p">,))</span>
        <span class="k">return</span> <span class="n">outdata</span></div>

<div class="viewcode-block" id="SetOfNNQFull.itemsAvgStd"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQFull.itemsAvgStd">[docs]</a>    <span class="k">def</span> <span class="nf">itemsAvgStd</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">outdata</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">setdata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">tdata</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">setdata</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                <span class="n">outdata</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">iset</span><span class="p">,)</span><span class="o">+</span><span class="n">ikey</span><span class="o">+</span><span class="p">(</span><span class="n">tdata</span><span class="o">.</span><span class="n">Avg</span><span class="p">,</span><span class="n">tdata</span><span class="o">.</span><span class="n">Std</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">outdata</span></div>

<div class="viewcode-block" id="SetOfNNQFull.values"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQFull.values">[docs]</a>    <span class="k">def</span> <span class="nf">values</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">outdata</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">setdata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">tdata</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">setdata</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
                <span class="n">outdata</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tdata</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">outdata</span></div>



<div class="viewcode-block" id="SetOfNNQFull.valuesAvgStd"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQFull.valuesAvgStd">[docs]</a>    <span class="k">def</span> <span class="nf">valuesAvgStd</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">outdata</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">setdata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">tdata</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">setdata</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
                <span class="n">outdata</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">tdata</span><span class="o">.</span><span class="n">Avg</span><span class="p">,</span><span class="n">tdata</span><span class="o">.</span><span class="n">Std</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">outdata</span></div>

<div class="viewcode-block" id="SetOfNNQFull.keys"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.SetOfNNQFull.keys">[docs]</a>    <span class="k">def</span> <span class="nf">keys</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">outdata</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">setdata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetC2</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">ikey</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">setdata</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                <span class="n">outdata</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">iset</span><span class="p">,)</span><span class="o">+</span><span class="n">ikey</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">outdata</span></div>

    <span class="k">def</span> <span class="nf">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">())):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">raise</span> <span class="ne">StopIteration</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="mf">0.0</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">thiskey</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="bp">self</span><span class="o">.</span><span class="n">current</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">return</span> <span class="bp">self</span><span class="p">[</span><span class="n">thiskey</span><span class="p">]</span>

    <span class="c1">## unitary arithmetic operations</span>

    <span class="k">def</span> <span class="nf">__neg__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ikey</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span>


    <span class="k">def</span> <span class="nf">__pos__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">__abs__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ikey</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">])</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="c1">## Casting, just casts the bootstrap values, ignore return value (only needed since return has to be same type).</span>


    <span class="k">def</span> <span class="nf">__complex__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ikey</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="n">np</span><span class="o">.</span><span class="n">complex</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">])</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span>
        <span class="k">return</span> <span class="mi">1</span><span class="o">+</span><span class="mi">0</span><span class="n">j</span>

    <span class="k">def</span> <span class="nf">__int__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ikey</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">])</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span>
        <span class="k">return</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">__float__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ikey</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="n">np</span><span class="o">.</span><span class="n">float</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">])</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span>
        <span class="k">return</span> <span class="mf">1.0</span></div>

<div class="viewcode-block" id="TestSet2pt"><a class="viewcode-back" href="../SetsOfTwoPtCorrs.html#SetsOfTwoPtCorrs.TestSet2pt">[docs]</a><span class="k">def</span> <span class="nf">TestSet2pt</span><span class="p">(</span><span class="n">this_file_list</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">SetOfTwoPt</span><span class="o">.</span><span class="n">Construct_2pt_Set</span><span class="p">(</span><span class="n">this_file_list</span><span class="p">)</span></div>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">this_file_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">this_file_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;/home/jackdra/LQCD/Results/DebugResults/RC32x64Kud01375400Ks01364000/G2/Pickle/MassForFF.py3p&#39;</span><span class="p">)</span>
    <span class="n">this_data</span> <span class="o">=</span> <span class="n">TestSet2pt</span><span class="p">(</span><span class="n">this_file_list</span><span class="p">)</span>
    <span class="n">this_data</span><span class="o">.</span><span class="n">SetC2</span><span class="p">[</span><span class="s1">&#39;MassForFF&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">C2_Stats</span>
    
</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Jack Dragos

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>