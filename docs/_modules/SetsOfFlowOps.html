
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>SetsOfFlowOps &#8212; LQCD Analysis Codebase TF Fits documentation</title>
    <link rel="stylesheet" href="../_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
  </head><body>
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="../index.html">LQCD Analysis Codebase TF Fits documentation</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for SetsOfFlowOps</h1><div class="highlight"><pre>
<span></span><span class="ch">#!/usr/bin/env python</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">from</span> <span class="nn">collections</span> <span class="k">import</span> <span class="n">OrderedDict</span>
<span class="kn">from</span> <span class="nn">MiscFuns</span> <span class="k">import</span> <span class="n">NumbToFileName</span>
<span class="kn">from</span> <span class="nn">Params</span> <span class="k">import</span> <span class="n">graphdir</span><span class="p">,</span><span class="n">defFitDict</span>
<span class="c1"># from Params import defxlimAlpha,defxlimAlphaTflow,,defxlim</span>
<span class="kn">from</span> <span class="nn">MiscFuns</span> <span class="k">import</span> <span class="n">mkdir_p</span><span class="p">,</span><span class="n">CombineListCfgs</span>
<span class="kn">from</span> <span class="nn">copy</span> <span class="k">import</span> <span class="n">deepcopy</span><span class="p">,</span><span class="n">copy</span>
<span class="kn">from</span> <span class="nn">XmlFormatting</span> <span class="k">import</span> <span class="n">tflowstr</span><span class="c1">#,tflowTOLeg</span>
<span class="c1"># import AhmedRes as ara</span>
<span class="kn">from</span> <span class="nn">PredefFitFuns</span> <span class="k">import</span> <span class="n">Chipt_Chit</span>
<span class="kn">import</span> <span class="nn">FitFunctions</span> <span class="k">as</span> <span class="nn">ff</span>
<span class="kn">import</span> <span class="nn">PlotData</span> <span class="k">as</span> <span class="nn">jpl</span>
<span class="kn">from</span> <span class="nn">NullPlotData</span> <span class="k">import</span> <span class="n">null_series</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pa</span>

<span class="c1"># import matplotlib</span>
<span class="c1"># matplotlib.use(&#39;Agg&#39;) # Must be before importing matplotlib.pyplot or pylab!</span>
<span class="c1"># import matplotlib.pyplot as pl</span>
<span class="kn">from</span> <span class="nn">QuantityLists</span> <span class="k">import</span> <span class="n">top_susc_0710_1130_plot</span><span class="p">,</span><span class="n">top_susc_1406_5363_plot</span>
<span class="kn">from</span> <span class="nn">QuantityLists</span> <span class="k">import</span> <span class="n">top_susc_1312_5161_plot</span><span class="p">,</span><span class="n">top_susc_1312_5161_211_plot</span>
<span class="kn">from</span> <span class="nn">QuantityLists</span> <span class="k">import</span> <span class="n">top_susc_1512_06746_plot</span><span class="p">,</span><span class="n">top_susc_1705_10906_plot</span>

<span class="c1">## Move Somewhere?</span>
<span class="c1"># params = {&#39;legend.fontsize&#39;: 7,</span>
<span class="c1">#           &#39;legend.numpoints&#39;: 1,</span>
<span class="c1">#           &#39;axes.labelsize&#39; : 20,</span>
<span class="c1">#           &#39;figure.autolayout&#39;: True,</span>
<span class="c1">#           &#39;axes.grid&#39;: True,</span>
<span class="c1">#           &#39;errorbar.capsize&#39;: 5,</span>
<span class="c1">#           &#39;axes.xmargin&#39;:0.01,</span>
<span class="c1">#           &#39;axes.titlesize&#39; : 20,</span>
<span class="c1">#           &#39;axes.ymargin&#39;:0.01}</span>
<span class="c1"># pl.style.use(plot_style)</span>
<span class="c1"># pl.rcParams.update(params)</span>


<span class="n">colourset8</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">&#39;#000080&#39;</span><span class="p">,</span><span class="s1">&#39;#B22222&#39;</span><span class="p">,</span><span class="s1">&#39;#00B800&#39;</span><span class="p">,</span><span class="s1">&#39;#8B008B&#39;</span><span class="p">,</span> <span class="s1">&#39;#0000FF&#39;</span><span class="p">,</span><span class="s1">&#39;#FF0000&#39;</span><span class="p">,</span><span class="s1">&#39;#000000&#39;</span><span class="p">,</span><span class="s1">&#39;#32CD32&#39;</span><span class="p">,</span><span class="s1">&#39;#FF0066&#39;</span><span class="p">]</span>
<span class="n">markerset</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;o&#39;</span><span class="p">,</span><span class="s1">&#39;s&#39;</span><span class="p">,</span><span class="s1">&#39;^&#39;</span><span class="p">,</span><span class="s1">&#39;v&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">]</span>
<span class="n">shiftmax</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">shiftper</span> <span class="o">=</span> <span class="mf">0.005</span> <span class="c1">##R function shift</span>
<span class="n">shiftset</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="k">for</span> <span class="n">ish</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">shiftmax</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span> <span class="n">shiftset</span> <span class="o">+=</span> <span class="p">[</span><span class="o">-</span><span class="n">ish</span><span class="o">*</span><span class="n">shiftper</span><span class="p">,</span><span class="n">ish</span><span class="o">*</span><span class="n">shiftper</span><span class="p">]</span>
<span class="k">del</span> <span class="n">ish</span><span class="p">,</span> <span class="n">shiftmax</span><span class="p">,</span><span class="n">shiftper</span>




<div class="viewcode-block" id="SetOfFO"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFO">[docs]</a><span class="k">class</span> <span class="nc">SetOfFO</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    FO(set) Inherits from FlowOp in FlowOpps.py</span>


<span class="sd">    plotting parameters (Move to different file?) ####</span>


<span class="sd">    InfoDict is a list of Info dictionaries to be bassed to TwoPtCorr:</span>


<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">instances</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">parentlist</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cfglist</span><span class="o">=</span><span class="p">{},</span> <span class="n">InfoDict</span><span class="o">=</span><span class="p">[],</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">corr_cfglists</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">CompAhmed</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">FlowOpps</span> <span class="k">import</span> <span class="n">FlowOp</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span> <span class="o">=</span> <span class="n">cfglist</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span> <span class="o">=</span> <span class="n">InfoDict</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span> <span class="o">=</span> <span class="n">graphdir</span><span class="o">+</span><span class="s1">&#39;/FlowOp/&#39;</span>
        <span class="n">mkdir_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AComp</span> <span class="o">=</span> <span class="n">CompAhmed</span>

        <span class="c1"># self.FullFO = &#39;Not Set&#39;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Set&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">SetOfFO</span><span class="o">.</span><span class="n">instances</span><span class="p">))</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">SetOfFO</span><span class="o">.</span><span class="n">instances</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
            <span class="c1"># SetOfFO.instances.append(self.name)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="c1"># self.RandTList = []</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">IOverList</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">ic</span><span class="p">,</span><span class="n">idict</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span><span class="p">):</span>
            <span class="n">thiscol</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
            <span class="n">thissym</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
            <span class="n">thisshift</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>

            <span class="k">if</span> <span class="s1">&#39;autocorr&#39;</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">idict</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">idict</span><span class="p">[</span><span class="s1">&#39;autocorr&#39;</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

            <span class="k">if</span> <span class="s1">&#39;IOver&#39;</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">idict</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">IOverList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">idict</span><span class="p">[</span><span class="s1">&#39;IOver&#39;</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">IOverList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>


            <span class="k">if</span> <span class="s1">&#39;ObsComb&#39;</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">idict</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">idict</span><span class="p">[</span><span class="s1">&#39;ObsComb&#39;</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">thislist</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">iObs</span> <span class="ow">in</span> <span class="n">idict</span><span class="p">[</span><span class="s1">&#39;ObsComb&#39;</span><span class="p">]:</span>
                    <span class="n">thisdict</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">idict</span><span class="p">)</span>
                    <span class="n">thisdict</span><span class="p">[</span><span class="s1">&#39;Observable&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">iObs</span>
                    <span class="n">thislist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">thisdict</span><span class="p">)</span>
                <span class="n">thisFO</span> <span class="o">=</span> <span class="p">[</span><span class="n">FlowOp</span><span class="p">(</span><span class="n">cfglist</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span> <span class="n">Info</span><span class="o">=</span><span class="n">iterdict</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span><span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">)</span> <span class="k">for</span> <span class="n">iterdict</span> <span class="ow">in</span> <span class="n">thislist</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">thisFO</span> <span class="o">=</span> <span class="n">FlowOp</span><span class="p">(</span><span class="n">cfglist</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span> <span class="n">Info</span><span class="o">=</span><span class="n">idict</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span><span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">thisFO</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                <span class="n">FOnext</span> <span class="o">=</span> <span class="mi">2</span>
                <span class="k">while</span> <span class="nb">str</span><span class="p">(</span><span class="n">thisFO</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;_&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">FOnext</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                    <span class="n">FOnext</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">thisFO</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;_&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">FOnext</span><span class="p">)]</span> <span class="o">=</span> <span class="n">thisFO</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">thisFO</span><span class="p">)]</span> <span class="o">=</span> <span class="n">thisFO</span>
            <span class="c1"># print &#39;Setting up classes for &#39; , thisFO , &#39; complete&#39;</span>
            <span class="c1"># print &#39;has color&#39;,thiscol , &#39;symbol &#39; , thissym , &#39;thisshift&#39;,thisshift</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">SetFOlen</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">corr_cfglists</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">GetCfgList</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">GetUnCorrCfgList</span><span class="p">()</span>
        <span class="c1">##Implement Reading cfglist if len(cfglist) == 0</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="mi">0</span>


    <span class="c1"># ## thisfun(corr1,corr2,corr3,...)</span>
    <span class="c1"># ## Strongly encoraged to manually set the filename somewhere</span>
    <span class="c1"># ## e.g. sink smear combine we should get the first name and replace the sink smear with the sink smear label</span>
    <span class="c1"># def CombineCorrs(self,thisfun,filename=&#39;&#39;,LegLab=&#39;&#39;,jsmlab = &#39;&#39;):</span>
    <span class="c1">#     # for items in self.SetFO.values():</span>
    <span class="c1">#     #     print &#39;&#39;</span>
    <span class="c1">#     #     print items</span>
    <span class="c1">#     #     for iitems in items.itemsAvgStd():</span>
    <span class="c1">#     #         print iitems</span>
    <span class="c1">#     output2pt = thisfun(*self.SetFO.values())</span>
    <span class="c1">#     output2pt.jsm = jsmlab</span>
    <span class="c1">#     output2pt.SetCustomName(string=filename,stringLL=LegLab)</span>
    <span class="c1">#     output2pt.Bootstrap()</span>
    <span class="c1">#     output2pt.Stats()</span>
    <span class="c1">#     output2pt.Write()</span>
    <span class="c1">#     return output2pt</span>

<div class="viewcode-block" id="SetOfFO.GetUnCorrCfgList"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFO.GetUnCorrCfgList">[docs]</a>    <span class="k">def</span> <span class="nf">GetUnCorrCfgList</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">iFO</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">iFO</span><span class="p">,</span><span class="nb">list</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">jFO</span> <span class="ow">in</span> <span class="n">iFO</span><span class="p">:</span>
                    <span class="n">jFO</span><span class="o">.</span><span class="n">FlowGetCfgList</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">iFO</span><span class="o">.</span><span class="n">FlowGetCfgList</span><span class="p">()</span></div>


<div class="viewcode-block" id="SetOfFO.GetCfgList"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFO.GetCfgList">[docs]</a>    <span class="k">def</span> <span class="nf">GetCfgList</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">GetUnCorrCfgList</span><span class="p">()</span>
        <span class="n">input_cfglist</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">iset</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">iset</span><span class="p">,(</span><span class="nb">list</span><span class="p">,</span><span class="nb">tuple</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)):</span>
                <span class="k">for</span> <span class="n">jset</span> <span class="ow">in</span> <span class="n">iset</span><span class="p">:</span>
                    <span class="n">input_cfglist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">jset</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">input_cfglist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">iset</span><span class="p">)</span>
        <span class="n">cfglist</span> <span class="o">=</span> <span class="n">CombineListCfgs</span><span class="p">(</span><span class="n">input_cfglist</span><span class="p">,</span><span class="s1">&#39;Op_cfgs&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ImportCfgList</span><span class="p">(</span><span class="n">cfglist</span><span class="p">)</span></div>

<div class="viewcode-block" id="SetOfFO.ImportCfgList"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFO.ImportCfgList">[docs]</a>    <span class="k">def</span> <span class="nf">ImportCfgList</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">cfglist</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span> <span class="o">=</span> <span class="n">cfglist</span>
        <span class="k">for</span> <span class="n">iFO</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">iFO</span><span class="p">,</span><span class="nb">list</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">jFO</span> <span class="ow">in</span> <span class="n">iFO</span><span class="p">:</span>
                    <span class="n">jFO</span><span class="o">.</span><span class="n">FlowImportCfgList</span><span class="p">(</span><span class="n">cfglist</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">iFO</span><span class="o">.</span><span class="n">FlowImportCfgList</span><span class="p">(</span><span class="n">cfglist</span><span class="p">)</span></div>

<div class="viewcode-block" id="SetOfFO.Read"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFO.Read">[docs]</a>    <span class="k">def</span> <span class="nf">Read</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">setdata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">setdata</span><span class="p">,</span><span class="nb">list</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">jFO</span> <span class="ow">in</span> <span class="n">setdata</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Importing 2pt corr: &#39;</span> <span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">jFO</span><span class="p">))</span>
                    <span class="n">jFO</span><span class="o">.</span><span class="n">FlowRead</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Importing 2pt corr: &#39;</span> <span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">setdata</span><span class="p">))</span>
                <span class="n">setdata</span><span class="o">.</span><span class="n">FlowRead</span><span class="p">()</span></div>


<div class="viewcode-block" id="SetOfFO.Write"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFO.Write">[docs]</a>    <span class="k">def</span> <span class="nf">Write</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">iFO</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">iFO</span><span class="p">,</span><span class="nb">list</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">jFO</span> <span class="ow">in</span> <span class="n">iFO</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Writing 2pt corr: &#39;</span> <span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">jFO</span><span class="p">))</span>
                    <span class="n">jFO</span><span class="o">.</span><span class="n">FlowWrite</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Writing 2pt corr: &#39;</span> <span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">iFO</span><span class="p">))</span>
                <span class="n">iFO</span><span class="o">.</span><span class="n">FlowWrite</span><span class="p">()</span></div>

<div class="viewcode-block" id="SetOfFO.LoadPickle"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFO.LoadPickle">[docs]</a>    <span class="k">def</span> <span class="nf">LoadPickle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">DefWipe</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">CheckCfgs</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ic</span><span class="p">,(</span><span class="n">setkey</span><span class="p">,</span><span class="n">setdata</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">setdata</span><span class="p">,</span><span class="nb">list</span><span class="p">):</span>
                <span class="c1"># print &#39;LoadPickle flowed operators: &#39; +&#39;, &#39;.join(map( str,setdata))</span>
                <span class="k">for</span> <span class="n">icount</span><span class="p">,</span><span class="n">jFO</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">setdata</span><span class="p">):</span>
                    <span class="c1">## first statement gets checked before second, so this is ok!.</span>
                    <span class="k">if</span> <span class="n">icount</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">jFO</span><span class="o">.</span><span class="n">Observ</span> <span class="o">==</span> <span class="n">setdata</span><span class="p">[</span><span class="n">icount</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">Observ</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="p">[</span><span class="n">setkey</span><span class="p">][</span><span class="n">icount</span><span class="p">]</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">setdata</span><span class="p">[</span><span class="n">icount</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">jFO</span><span class="o">.</span><span class="n">FlowLoadPickle</span><span class="p">(</span><span class="n">DefWipe</span><span class="o">=</span><span class="n">DefWipe</span><span class="p">,</span><span class="n">CheckCfgs</span><span class="o">=</span><span class="n">CheckCfgs</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="p">[</span><span class="n">setkey</span><span class="p">][</span><span class="n">icount</span><span class="p">]</span><span class="o">.</span><span class="n">FlowImportPlotParams</span><span class="p">(</span><span class="n">colourset8</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)],</span><span class="n">markerset</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
                                                                    <span class="p">,</span><span class="n">shiftset</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># print &#39;LoadPickle flowed operator: &#39; , str(setdata)</span>
                <span class="n">setdata</span><span class="o">.</span><span class="n">FlowLoadPickle</span><span class="p">(</span><span class="n">DefWipe</span><span class="o">=</span><span class="n">DefWipe</span><span class="p">,</span><span class="n">CheckCfgs</span><span class="o">=</span><span class="n">CheckCfgs</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="p">[</span><span class="n">setkey</span><span class="p">]</span><span class="o">.</span><span class="n">FlowImportPlotParams</span><span class="p">(</span><span class="n">colourset8</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)],</span><span class="n">markerset</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
                                                        <span class="p">,</span><span class="n">shiftset</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)])</span>
        <span class="c1"># self.MakeRandT(DefWipe=DefWipe)</span>
        <span class="nb">print</span><span class="p">()</span></div>

    <span class="c1"># def MakeRandT(self,DefWipe=False):</span>
    <span class="c1">#     self.FullFO = deepcopy(self.SetFO)</span>
    <span class="c1">#     for ic,(setkey,setdata) in enumerate(self.FullFO.iteritems()):</span>
    <span class="c1">#         if self.RandTList[ic]:</span>
    <span class="c1">#             if isinstance(setdata,list):</span>
    <span class="c1">#                 print &#39;Doing RandT for flowed operators: &#39; +&#39;, &#39;.join(map( str,setdata))</span>
    <span class="c1">#                 for icount,jFO in enumerate(setdata):</span>
    <span class="c1">#                     ## first statement gets checked before second, so this is ok!.</span>
    <span class="c1">#                     ## No Input into PickTime corresponds to last time</span>
    <span class="c1">#                     self.SetFO[setkey][icount] = jFO.PickTime()</span>
    <span class="c1">#             else:</span>
    <span class="c1">#                 print &#39;Doing RandT for flowed operator: &#39; , str(setdata)</span>
    <span class="c1">#                 # self.SetFO[setkey][icount] = jFO.PickTime(DefWipe=DefWipe)[0]</span>
    <span class="c1">#                 self.SetFO[setkey] = setdata.PickTime()</span>
    <span class="c1">#     print</span>


<div class="viewcode-block" id="SetOfFO.FlowMakeChit"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFO.FlowMakeChit">[docs]</a>    <span class="k">def</span> <span class="nf">FlowMakeChit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">DefWipe</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">Improve</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ic</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">setdata</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">setdata</span><span class="p">,</span><span class="nb">list</span><span class="p">):</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">setdata</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span> <span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Chit only set up for 2 operators at the moment&#39;</span><span class="p">)</span>
                <span class="n">thisdata</span> <span class="o">=</span> <span class="n">setdata</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">FlowMakeChit</span><span class="p">(</span><span class="n">setdata</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">DefWipe</span><span class="o">=</span><span class="n">DefWipe</span><span class="p">,</span><span class="n">Improve</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">IOverList</span><span class="p">[</span><span class="n">ic</span><span class="p">])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="n">thisdata</span></div>


<div class="viewcode-block" id="SetOfFO.FlowMakeOppSquared"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFO.FlowMakeOppSquared">[docs]</a>    <span class="k">def</span> <span class="nf">FlowMakeOppSquared</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">setdata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">setdata</span><span class="o">.</span><span class="n">FlowMakeOppSquared</span><span class="p">()</span></div>


<div class="viewcode-block" id="SetOfFO.ReadAndWrite"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFO.ReadAndWrite">[docs]</a>    <span class="k">def</span> <span class="nf">ReadAndWrite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">DefWipe</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ic</span><span class="p">,(</span><span class="n">setkey</span><span class="p">,</span><span class="n">setdata</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">setdata</span><span class="p">,</span><span class="nb">list</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">icount</span><span class="p">,</span><span class="n">jFO</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">setdata</span><span class="p">):</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Importing and Writing 2pt corr: &#39;</span> <span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">jFO</span><span class="p">))</span>
                    <span class="n">jFO</span><span class="o">.</span><span class="n">FlowReadAndWrite</span><span class="p">(</span><span class="n">DefWipe</span><span class="o">=</span><span class="n">DefWipe</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Importing and Writing 2pt corr: &#39;</span> <span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">setdata</span><span class="p">))</span>
                <span class="n">setdata</span><span class="o">.</span><span class="n">FlowReadAndWrite</span><span class="p">(</span><span class="n">DefWipe</span><span class="o">=</span><span class="n">DefWipe</span><span class="p">)</span></div>

    <span class="c1">## returns a TwoPtCorr class object (see TwoPtCorrelators.py)</span>
<div class="viewcode-block" id="SetOfFO.GetSet"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFO.GetSet">[docs]</a>    <span class="k">def</span> <span class="nf">GetSet</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">thisset</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="p">[</span><span class="n">thisset</span><span class="p">]</span></div>


    <span class="c1">## fitlist is list of touples { set : (&#39;state#&#39;,&#39;fitr#-#&#39;)}</span>
<div class="viewcode-block" id="SetOfFO.PlotTauInt"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFO.PlotTauInt">[docs]</a>    <span class="k">def</span> <span class="nf">PlotTauInt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">tflowlist</span><span class="p">,</span><span class="n">plot_info</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;Susceptibility&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\sqrt{8t_</span><span class="si">{f}</span><span class="s1">}[fm]$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\chi$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_TauInt_&#39;</span><span class="o">+</span><span class="n">tflowlist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;.pdf&#39;</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">ic</span><span class="p">,(</span><span class="n">itflow</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iFO</span><span class="p">))</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">tflowlist</span><span class="p">,</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">items</span><span class="p">()))):</span>
            <span class="n">tflow</span> <span class="o">=</span> <span class="n">tflowstr</span><span class="p">(</span><span class="n">itflow</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">iFO</span><span class="p">,</span><span class="nb">list</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Please run combine opperators before running plot&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">ic</span><span class="p">]:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;plotting Tau Int &#39;</span><span class="p">,</span> <span class="n">iFO</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">tflow</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">iFO</span><span class="o">.</span><span class="n">Op_Stats</span><span class="p">[</span><span class="s1">&#39;Auto&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Warning , flow time &#39;</span><span class="p">,</span><span class="n">tflow</span><span class="p">,</span><span class="s1">&#39; not found &#39;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iFO</span><span class="o">.</span><span class="n">Op_Stats</span><span class="p">[</span><span class="s1">&#39;Auto&#39;</span><span class="p">][</span><span class="n">tflow</span><span class="p">]</span><span class="o">.</span><span class="n">PlotTauInt</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span>
                                            <span class="n">thiscol</span><span class="o">=</span><span class="n">iFO</span><span class="o">.</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">iFO</span><span class="o">.</span><span class="n">thissym</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">iFO</span><span class="o">.</span><span class="n">thisshift</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Warning, &#39;</span> <span class="p">,</span> <span class="n">iFO</span> <span class="p">,</span> <span class="s1">&#39; is not autocorrelated analized&#39;</span><span class="p">)</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>

    <span class="c1">## fitlist is list of touples { set : (&#39;state#&#39;,&#39;fitr#-#&#39;)}</span>
<div class="viewcode-block" id="SetOfFO.PlotWopt"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFO.PlotWopt">[docs]</a>    <span class="k">def</span> <span class="nf">PlotWopt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">tflowlist</span><span class="p">,</span><span class="n">plot_info</span><span class="p">):</span>
        <span class="c1"># if ftitle==&#39;Def&#39;: ftitle=r&#39;Deturmination of Optimal parameter $W$ at flow time $&#39;+tflowTOLeg(tflow)+&#39;$&#39;</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\rho $ for corresponding $W$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\rho$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$W$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_Wopt_&#39;</span><span class="o">+</span><span class="n">tflowlist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;.pdf&#39;</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">ic</span><span class="p">,(</span><span class="n">itflow</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iFO</span><span class="p">))</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">tflowlist</span><span class="p">,</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">items</span><span class="p">()))):</span>
            <span class="n">tflow</span> <span class="o">=</span> <span class="n">tflowstr</span><span class="p">(</span><span class="n">itflow</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">iFO</span><span class="p">,</span><span class="nb">list</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Please run combine opperators before running plot&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">ic</span><span class="p">]:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;plotting W optimal &#39;</span><span class="p">,</span> <span class="n">iFO</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">tflow</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">iFO</span><span class="o">.</span><span class="n">Op_Stats</span><span class="p">[</span><span class="s1">&#39;Auto&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Warning , flow time &#39;</span><span class="p">,</span><span class="n">tflow</span><span class="p">,</span><span class="s1">&#39; not found &#39;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iFO</span><span class="o">.</span><span class="n">Op_Stats</span><span class="p">[</span><span class="s1">&#39;Auto&#39;</span><span class="p">][</span><span class="n">tflow</span><span class="p">]</span><span class="o">.</span><span class="n">PlotWopt</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">thiscol</span><span class="o">=</span><span class="n">iFO</span><span class="o">.</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">iFO</span><span class="o">.</span><span class="n">thissym</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">iFO</span><span class="o">.</span><span class="n">thisshift</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Warning, &#39;</span> <span class="p">,</span> <span class="n">iFO</span> <span class="p">,</span> <span class="s1">&#39; is not autocorrelated analized&#39;</span><span class="p">)</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>



    <span class="c1">## fitlist is list of touples { set : (&#39;state#&#39;,&#39;fitr#-#&#39;)}</span>
<div class="viewcode-block" id="SetOfFO.PlotMonteTime"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFO.PlotMonteTime">[docs]</a>    <span class="k">def</span> <span class="nf">PlotMonteTime</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">tflowlist</span><span class="p">,</span><span class="n">plot_info</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;Monte Carlo Time of Flowed Opp&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;Monte Carlo Time&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;Flowed Operator&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_Monte.pdf&#39;</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>

        <span class="n">icount</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">ic</span><span class="p">,(</span><span class="n">itflow</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iFO</span><span class="p">))</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">tflowlist</span><span class="p">,</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">items</span><span class="p">()))):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">iFO</span><span class="p">,</span><span class="nb">list</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Please run combine opperators before running plot&#39;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;plotting &#39;</span><span class="p">,</span> <span class="n">iFO</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">istream</span> <span class="ow">in</span> <span class="n">iFO</span><span class="o">.</span><span class="n">stream_list</span><span class="p">:</span>
                <span class="n">thiscol</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="n">icount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
                <span class="n">thisshift</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="n">icount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
                <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iFO</span><span class="o">.</span><span class="n">PlotMonteTime</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">stream</span><span class="o">=</span><span class="n">istream</span><span class="p">,</span><span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">)</span>
                <span class="n">icount</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>


    <span class="c1">## fitlist is list of touples { set : (&#39;state#&#39;,&#39;fitr#-#&#39;)}</span>
<div class="viewcode-block" id="SetOfFO.PlotMonteTimeDeltaEps"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFO.PlotMonteTimeDeltaEps">[docs]</a>    <span class="k">def</span> <span class="nf">PlotMonteTimeDeltaEps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">tflowlist</span><span class="p">,</span><span class="n">plot_info</span><span class="p">,</span><span class="n">epslist</span><span class="p">,</span><span class="n">MultQ</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;Monte Carlo Time of Delta Function&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;Monte Carlo Time&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\delta_{FO&lt; \epsilon }$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_DeltaMonte.pdf&#39;</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>

        <span class="n">icount</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">ic</span><span class="p">,(</span><span class="n">ieps</span><span class="p">,</span><span class="n">itflow</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iFO</span><span class="p">))</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">epslist</span><span class="p">,</span><span class="n">tflowlist</span><span class="p">,</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">items</span><span class="p">()))):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">iFO</span><span class="p">,</span><span class="nb">list</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Please run combine opperators before running plot&#39;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;plotting &#39;</span><span class="p">,</span> <span class="n">iFO</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">istream</span> <span class="ow">in</span> <span class="n">iFO</span><span class="o">.</span><span class="n">stream_list</span><span class="p">:</span>
                <span class="n">thiscol</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="n">icount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
                <span class="n">thisshift</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="n">icount</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
                <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iFO</span><span class="o">.</span><span class="n">PlotMonteTimeDeltaEps</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">stream</span><span class="o">=</span><span class="n">istream</span><span class="p">,</span><span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">,</span><span class="n">thiseps</span><span class="o">=</span><span class="n">ieps</span><span class="p">,</span><span class="n">MultQ</span><span class="o">=</span><span class="n">MultQ</span><span class="p">)</span>
                <span class="n">icount</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>




    <span class="c1">## fitlist is list of touples { set : (&#39;state#&#39;,&#39;fitr#-#&#39;)}</span>
<div class="viewcode-block" id="SetOfFO.Plot"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFO.Plot">[docs]</a>    <span class="k">def</span> <span class="nf">Plot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">plot_info</span><span class="p">,</span><span class="n">fitDict</span><span class="o">=</span><span class="n">defFitDict</span><span class="p">,</span><span class="n">AComp</span><span class="o">=</span><span class="s1">&#39;PreDef&#39;</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;Susceptibility&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\sqrt{8t_</span><span class="si">{f}</span><span class="s1">}[fm]$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\chi$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_Chit.pdf&#39;</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">AComp</span> <span class="o">!=</span> <span class="s1">&#39;PreDef&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">AComp</span> <span class="o">=</span> <span class="n">AComp</span>

        <span class="n">fit_is_dict</span> <span class="o">=</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fitDict</span><span class="p">,(</span><span class="nb">dict</span><span class="p">,</span><span class="n">OrderedDict</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">ic</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iFO</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">iFO</span><span class="p">,</span><span class="nb">list</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Please run combine opperators before running plot&#39;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;plotting &#39;</span><span class="p">,</span> <span class="n">iFO</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">ic</span><span class="p">]:</span>
                <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iFO</span><span class="o">.</span><span class="n">FlowPlotAuto</span><span class="p">(</span><span class="n">data_plot</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iFO</span><span class="o">.</span><span class="n">FlowPlot</span><span class="p">(</span><span class="n">data_plot</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">fit_is_dict</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">ikey</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">fitDict</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iFO</span><span class="o">.</span><span class="n">FlowFitPlot</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">fitDict</span><span class="p">[</span><span class="n">ikey</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iFO</span><span class="o">.</span><span class="n">FlowFitPlot</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">fitDict</span><span class="p">[</span><span class="n">ic</span><span class="p">])</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">AComp</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Ahmed comparison not implemented with new plotting routines&#39;</span><span class="p">)</span>
            <span class="c1"># thiscol = colourset8[ic+1%len(colourset8)]</span>
            <span class="c1"># thissym = markerset[ic+1%len(markerset)]</span>
            <span class="c1"># thisshift = shiftset[ic+1%len(shiftset)]</span>
            <span class="c1"># Adata = ara.AResChi2(Info=self.InfoDict[0],thissym=thissym,thiscol=thiscol,thisshift=thisshift)</span>
            <span class="c1"># Adata.ReadChi2()</span>
            <span class="c1"># Adata.PlotChi2(xlims=self.SetFO[self.SetFO.keys()[0]].tflowlist)</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>




    <span class="c1">## fitlist is list of touples { set : (&#39;state#&#39;,&#39;fitr#-#&#39;)}</span>
<div class="viewcode-block" id="SetOfFO.PlotTauIntOverFlow"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFO.PlotTauIntOverFlow">[docs]</a>    <span class="k">def</span> <span class="nf">PlotTauIntOverFlow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">plot_info</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\tau_</span><span class="si">{int}</span><span class="s1">(W_</span><span class="si">{opt}</span><span class="s1">)$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\sqrt{8t_</span><span class="si">{f}</span><span class="s1">}[fm]$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\tau_</span><span class="si">{int}</span><span class="s1">$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_TauInt_WOpt.pdf&#39;</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">ic</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iFO</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">iFO</span><span class="p">,</span><span class="nb">list</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Please run combine opperators before running plot&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">ic</span><span class="p">]:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;plotting Tau Int W optimal &#39;</span><span class="p">,</span> <span class="n">iFO</span><span class="p">)</span>
                <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iFO</span><span class="o">.</span><span class="n">PlotTauIntWOpt</span><span class="p">(</span><span class="n">data_plot</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Warning, &#39;</span> <span class="p">,</span> <span class="n">iFO</span> <span class="p">,</span> <span class="s1">&#39; is not autocorrelator analized&#39;</span><span class="p">)</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>




    <span class="c1"># ## fitlist is list of touples { set : (&#39;state#&#39;,&#39;fitr#-#&#39;)}</span>
    <span class="c1"># def PlotRandTimes(self,tflowlist,randt_fitr=&#39;None&#39;,tsize=&#39;Def&#39;,xsize=&#39;Def&#39;,ysize=&#39;Def&#39;,</span>
    <span class="c1">#                   legloc=&#39;upper right&#39;,ftitle=r&#39;Random Time Dependance&#39;,fxlab=r&#39;$nt_{random}$&#39;,fylab=r&#39;$\chi$&#39;):</span>
    <span class="c1">#     if ftitle==&#39;Def&#39;: ftitle=r&#39;Random Time Dependance&#39;</span>
    <span class="c1">#     if fxlab==&#39;Def&#39;: fxlab=r&#39;$nt_{random}$&#39;</span>
    <span class="c1">#     if fylab==&#39;Def&#39;: fylab=r&#39;$\chi$&#39;</span>
    <span class="c1">#</span>
    <span class="c1">#     if self.FullFO == &#39;Not Set&#39;:</span>
    <span class="c1">#         raise EnvironmentError(&#39;self.FullFO not set, maybe not loaded pickle yet?&#39;)</span>
    <span class="c1">#     for ic,(itflow,(ikey,iFO)) in enumerate(zip(tflowlist,self.FullFO.iteritems())):</span>
    <span class="c1">#         thiscol = colourset8[ic%len(colourset8)]</span>
    <span class="c1">#         thissym = markerset[ic%len(markerset)]</span>
    <span class="c1">#         thisshift = shiftset[ic%len(shiftset)]</span>
    <span class="c1">#         if not self.RandTList[ic]: continue</span>
    <span class="c1">#</span>
    <span class="c1">#         if isinstance(iFO,list):</span>
    <span class="c1">#             raise EnvironmentError(&#39;Please run combine opperators before running plot&#39;)</span>
    <span class="c1">#         print &#39;plotting &#39;, iFO</span>
    <span class="c1">#         if self.AutoList[ic]:</span>
    <span class="c1">#             iFO.PlotRandTimesAuto(itflow,thiscol=thiscol,thissym=thissym,thisshift=thisshift)</span>
    <span class="c1">#         else:</span>
    <span class="c1">#             thisshift = iFO.PlotRandTimes(itflow,thiscol=thiscol,thissym=thissym,thisshift=thisshift)</span>
    <span class="c1">#             if isinstance(randt_fitr,basestring):</span>
    <span class="c1">#                 if randt_fitr != &#39;None&#39;:</span>
    <span class="c1">#                     iFO.PlotFitRT(itflow,randt_fitr,thisshift,thiscol=thiscol)</span>
    <span class="c1">#             else:</span>
    <span class="c1">#                 iFO.PlotFitRT(itflow,randt_fitr[ic],thisshift,thiscol=thiscol)</span>
    <span class="c1">#</span>
    <span class="c1">#     pl.legend(loc=legloc)</span>
    <span class="c1">#     if tsize == &#39;Def&#39;:</span>
    <span class="c1">#         pl.title(ftitle)</span>
    <span class="c1">#     else:</span>
    <span class="c1">#         pl.title(ftitle,fontsize=tsize)</span>
    <span class="c1">#     if xsize == &#39;Def&#39;:</span>
    <span class="c1">#         pl.xlabel(fxlab)</span>
    <span class="c1">#     else:</span>
    <span class="c1">#         pl.xlabel(fxlab,fontsize=xsize)</span>
    <span class="c1">#     if ysize == &#39;Def&#39;:</span>
    <span class="c1">#         pl.ylabel(fylab)</span>
    <span class="c1">#     else:</span>
    <span class="c1">#         pl.ylabel(fylab,fontsize=ysize)</span>
    <span class="c1">#     # pl.xlim(*defxlim)</span>
    <span class="c1">#     pl.savefig(self.Plotdir+self.name+&#39;_RandTimes.pdf&#39;)</span>
    <span class="c1">#     pl.clf()</span>


<div class="viewcode-block" id="SetOfFO.PlotVsPionMass"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFO.PlotVsPionMass">[docs]</a>    <span class="k">def</span> <span class="nf">PlotVsPionMass</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">fit_list</span><span class="p">,</span><span class="n">plot_info</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;Flowed Ops vs Pion Mass&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$m_{\pi} [MeV]$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\chi$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_MpiDep.pdf&#39;</span>
            <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlims&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
            <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylims&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fit_list</span><span class="p">,(</span><span class="nb">tuple</span><span class="p">,</span><span class="nb">list</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)):</span>
            <span class="n">fit_list</span> <span class="o">=</span> <span class="n">fit_list</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">fit_list</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;None&#39;</span><span class="p">:</span> <span class="k">return</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>
        <span class="n">vall</span><span class="p">,</span><span class="n">errl</span><span class="p">,</span><span class="n">indexl</span> <span class="o">=</span> <span class="p">[],[],[]</span>
        <span class="k">for</span> <span class="n">ic</span><span class="p">,</span><span class="n">iFO</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
            <span class="c1"># shiftlist.append(shiftset[ic%len(shiftset)])</span>
            <span class="n">this_pion_mass</span> <span class="o">=</span> <span class="p">(</span><span class="n">iFO</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">GetPionMassLab</span><span class="p">(</span><span class="n">Phys</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">MeV</span><span class="o">=</span><span class="kc">True</span><span class="p">),)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">iFO</span><span class="p">,</span><span class="nb">list</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Please run combine opperators before running plot&#39;</span><span class="p">)</span>
            <span class="n">this_loop</span> <span class="o">=</span> <span class="n">iFO</span><span class="o">.</span><span class="n">Get_Extrapolation</span><span class="p">(</span><span class="n">fmted</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">this_loop</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Cannot Fit: &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">iFO</span><span class="o">.</span><span class="n">flowname</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;, skipping&#39;</span><span class="p">)</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="n">ic</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">index_names</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;Pion Mass&#39;</span><span class="p">,)</span> <span class="o">+</span> <span class="n">this_loop</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">names</span>
            <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">ival</span> <span class="ow">in</span> <span class="n">this_loop</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">this_key</span> <span class="o">=</span> <span class="p">(</span><span class="nb">slice</span><span class="p">(</span><span class="kc">None</span><span class="p">),</span><span class="n">ikey</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">fit_list</span><span class="p">,</span><span class="n">ikey</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
                <span class="n">vall</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ival</span><span class="o">.</span><span class="n">Avg</span><span class="p">)</span>
                <span class="n">errl</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ival</span><span class="o">.</span><span class="n">Std</span><span class="p">)</span>
                <span class="n">indexl</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">this_pion_mass</span><span class="o">+</span><span class="n">ikey</span><span class="p">)</span>
        <span class="c1"># shiftlist = np.array(shiftlist)*(max(50,max(plotx)-min(plotx)))</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">indexl</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
            <span class="n">indicies</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_tuples</span><span class="p">(</span><span class="n">indexl</span><span class="p">,</span><span class="n">names</span><span class="o">=</span><span class="n">index_names</span><span class="p">)</span>
            <span class="n">ploty</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">vall</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="n">indicies</span><span class="p">)</span>
            <span class="n">plotyerr</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">errl</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="n">indicies</span><span class="p">)</span>
            <span class="n">hold_series</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">Series</span><span class="p">()</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;x_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;from_keys&#39;</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;key_select&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">this_key</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;y_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ploty</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;yerr_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">plotyerr</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;This Calculation&#39;</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;shift&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="mi">0</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="mi">0</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;symbol&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="mi">0</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;error_bar_vary&#39;</span>
            <span class="n">data_plot</span><span class="o">.</span><span class="n">AppendData</span><span class="p">(</span><span class="n">hold_series</span><span class="p">)</span>
        <span class="n">top_susc_0710_1130_plot</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="mi">1</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
        <span class="n">top_susc_0710_1130_plot</span><span class="p">[</span><span class="s1">&#39;symbol&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="mi">1</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
        <span class="n">top_susc_0710_1130_plot</span><span class="p">[</span><span class="s1">&#39;shift&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="mi">1</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">AppendData</span><span class="p">(</span><span class="n">top_susc_0710_1130_plot</span><span class="p">)</span>
        <span class="n">top_susc_1406_5363_plot</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="mi">2</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
        <span class="n">top_susc_1406_5363_plot</span><span class="p">[</span><span class="s1">&#39;symbol&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="mi">2</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
        <span class="n">top_susc_1406_5363_plot</span><span class="p">[</span><span class="s1">&#39;shift&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="mi">2</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">AppendData</span><span class="p">(</span><span class="n">top_susc_1406_5363_plot</span><span class="p">)</span>
        <span class="n">top_susc_1312_5161_plot</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="mi">3</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
        <span class="n">top_susc_1312_5161_plot</span><span class="p">[</span><span class="s1">&#39;symbol&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="mi">3</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
        <span class="n">top_susc_1312_5161_plot</span><span class="p">[</span><span class="s1">&#39;shift&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="mi">3</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">AppendData</span><span class="p">(</span><span class="n">top_susc_1312_5161_plot</span><span class="p">)</span>
        <span class="n">top_susc_1312_5161_211_plot</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="mi">4</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
        <span class="n">top_susc_1312_5161_211_plot</span><span class="p">[</span><span class="s1">&#39;symbol&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="mi">4</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
        <span class="n">top_susc_1312_5161_211_plot</span><span class="p">[</span><span class="s1">&#39;shift&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="mi">4</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">AppendData</span><span class="p">(</span><span class="n">top_susc_1312_5161_211_plot</span><span class="p">)</span>
        <span class="n">top_susc_1512_06746_plot</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="mi">5</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
        <span class="n">top_susc_1512_06746_plot</span><span class="p">[</span><span class="s1">&#39;symbol&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="mi">5</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
        <span class="n">top_susc_1512_06746_plot</span><span class="p">[</span><span class="s1">&#39;shift&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="mi">5</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">AppendData</span><span class="p">(</span><span class="n">top_susc_1512_06746_plot</span><span class="p">)</span>
        <span class="n">top_susc_1705_10906_plot</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="mi">6</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
        <span class="n">top_susc_1705_10906_plot</span><span class="p">[</span><span class="s1">&#39;symbol&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="mi">6</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
        <span class="n">top_susc_1705_10906_plot</span><span class="p">[</span><span class="s1">&#39;shift&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="mi">6</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">AppendData</span><span class="p">(</span><span class="n">top_susc_1705_10906_plot</span><span class="p">)</span>

        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>

<div class="viewcode-block" id="SetOfFO.PlotVsQuarkMass"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFO.PlotVsQuarkMass">[docs]</a>    <span class="k">def</span> <span class="nf">PlotVsQuarkMass</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">tflowlist</span><span class="p">,</span><span class="n">plot_info</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;Flowed Ops vs Up Down Mass&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$m_</span><span class="si">{ud}</span><span class="s1">^</span><span class="si">{MSbar}</span><span class="s1"> [MeV]$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\chi$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_UDmassDep.pdf&#39;</span>
            <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlims&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
            <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylims&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>
        <span class="n">ploty</span><span class="p">,</span><span class="n">plotyerr</span><span class="p">,</span><span class="n">plotx</span><span class="p">,</span><span class="n">yboot</span> <span class="o">=</span> <span class="p">[],[],[],[]</span>
        <span class="n">shiftlist</span><span class="p">,</span><span class="n">smass</span> <span class="o">=</span> <span class="p">[],[]</span>
        <span class="n">mpi_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">ic</span><span class="p">,(</span><span class="n">itflow</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iFO</span><span class="p">))</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">tflowlist</span><span class="p">,</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">items</span><span class="p">()))):</span>
            <span class="n">shiftlist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">shiftset</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)])</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">iFO</span><span class="p">,</span><span class="nb">list</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Please run combine opperators before running plot&#39;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;plotting &#39;</span><span class="p">,</span> <span class="n">iFO</span><span class="p">)</span>
            <span class="n">plotx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">iFO</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">GetUDMass</span><span class="p">(</span><span class="n">Phys</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">MeV</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
            <span class="n">smass</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">iFO</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">GetSMass</span><span class="p">(</span><span class="n">Phys</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">MeV</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">iFO</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">GetPionMass</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">mpi_list</span><span class="p">:</span>
                <span class="n">mpi_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">iFO</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">GetPionMass</span><span class="p">())</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">ic</span><span class="p">]:</span>
                <span class="k">if</span> <span class="n">itflow</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">iFO</span><span class="o">.</span><span class="n">Op_Stats</span><span class="p">[</span><span class="s1">&#39;Auto&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                    <span class="n">yboot</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;Auto&#39;</span><span class="p">)</span>
                    <span class="n">ploty</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">iFO</span><span class="o">.</span><span class="n">Op_Stats</span><span class="p">[</span><span class="s1">&#39;Auto&#39;</span><span class="p">][</span><span class="n">itflow</span><span class="p">]</span><span class="o">.</span><span class="n">Avg</span><span class="p">)</span>
                    <span class="n">plotyerr</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">iFO</span><span class="o">.</span><span class="n">Op_Stats</span><span class="p">[</span><span class="s1">&#39;Auto&#39;</span><span class="p">][</span><span class="n">itflow</span><span class="p">]</span><span class="o">.</span><span class="n">Std</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">itflow</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">iFO</span><span class="o">.</span><span class="n">Op_Stats</span><span class="p">[</span><span class="s1">&#39;boot&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                    <span class="n">yboot</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">iFO</span><span class="o">.</span><span class="n">Op_Stats</span><span class="p">[</span><span class="s1">&#39;boot&#39;</span><span class="p">][</span><span class="n">itflow</span><span class="p">])</span>
                    <span class="n">ploty</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">iFO</span><span class="o">.</span><span class="n">Op_Stats</span><span class="p">[</span><span class="s1">&#39;boot&#39;</span><span class="p">][</span><span class="n">itflow</span><span class="p">]</span><span class="o">.</span><span class="n">Avg</span><span class="p">)</span>
                    <span class="n">plotyerr</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">iFO</span><span class="o">.</span><span class="n">Op_Stats</span><span class="p">[</span><span class="s1">&#39;boot&#39;</span><span class="p">][</span><span class="n">itflow</span><span class="p">]</span><span class="o">.</span><span class="n">Std</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ploty</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">shiftlist</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">shiftlist</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">max</span><span class="p">(</span><span class="n">plotx</span><span class="p">)</span><span class="o">-</span><span class="nb">min</span><span class="p">(</span><span class="n">plotx</span><span class="p">)))</span>
            <span class="n">hold_series</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">Series</span><span class="p">()</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;x_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">plotx</span><span class="p">)</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;y_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ploty</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;yerr_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">plotyerr</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;shift&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">shiftlist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;symbol&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;o&#39;</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;blue&#39;</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;_&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s1">&#39;</span><span class="si">{:.2f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ism</span><span class="p">)</span> <span class="k">for</span> <span class="n">ism</span> <span class="ow">in</span> <span class="n">smass</span><span class="p">])</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;error_bar&#39;</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;xdatarange&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;otherXvals&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;ShowPar&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

            <span class="n">data_plot</span><span class="o">.</span><span class="n">AppendData</span><span class="p">(</span><span class="n">hold_series</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">mpi_list</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">([</span><span class="n">iyboot</span> <span class="o">!=</span> <span class="s1">&#39;Auto&#39;</span> <span class="k">for</span> <span class="n">iyboot</span> <span class="ow">in</span> <span class="n">yboot</span><span class="p">]):</span>
                <span class="n">fitfun</span> <span class="o">=</span> <span class="n">ff</span><span class="o">.</span><span class="n">Fitting</span><span class="p">(</span><span class="n">Funs</span><span class="o">=</span><span class="p">[</span><span class="n">Chipt_Chit</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;Estimate&#39;</span><span class="p">],</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">plotx</span><span class="p">,</span><span class="n">smass</span><span class="p">]),</span><span class="n">yboot</span><span class="p">],</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;$\chi_</span><span class="si">{pt}</span><span class="s1">$ fit &#39;</span><span class="p">)</span>
                <span class="n">fitfun</span><span class="o">.</span><span class="n">FitBoots</span><span class="p">()</span>
                <span class="n">hold_series</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">Series</span><span class="p">()</span>
                <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;xdatarange&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="nb">max</span><span class="p">(</span><span class="n">plotx</span><span class="p">)]</span>
                <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;otherXvals&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">smass</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
                <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;shift&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">shiftlist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;ShowPar&#39;</span><span class="p">]</span> <span class="o">=</span><span class="sa">r</span><span class="s1">&#39;Sig&#39;</span>
                <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;symbol&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;o&#39;</span>
                <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;blue&#39;</span>
                <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;fit&#39;</span>
                <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;fit_class&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fitfun</span>
                <span class="n">data_plot</span><span class="o">.</span><span class="n">AppendData</span><span class="p">(</span><span class="n">hold_series</span><span class="p">)</span>
            <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>



    <span class="k">def</span> <span class="nf">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="p">[</span><span class="n">key</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="n">key</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="p">[</span><span class="n">key</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="n">key</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>

<div class="viewcode-block" id="SetOfFO.Stats"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFO.Stats">[docs]</a>    <span class="k">def</span> <span class="nf">Stats</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">iset</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">iset</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span></div>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>

    <span class="k">def</span> <span class="nf">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>

<div class="viewcode-block" id="SetOfFO.items"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFO.items">[docs]</a>    <span class="k">def</span> <span class="nf">items</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">outdata</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">setdata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">itflow</span><span class="p">,</span><span class="n">tdata</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">setdata</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                <span class="n">outdata</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">tdata</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">outdata</span></div>

<div class="viewcode-block" id="SetOfFO.itemsAvgStd"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFO.itemsAvgStd">[docs]</a>    <span class="k">def</span> <span class="nf">itemsAvgStd</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">outdata</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">setdata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">itflow</span><span class="p">,</span><span class="n">tdata</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">setdata</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                <span class="n">outdata</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">tdata</span><span class="o">.</span><span class="n">Avg</span><span class="p">,</span><span class="n">tdata</span><span class="o">.</span><span class="n">Std</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">outdata</span></div>

<div class="viewcode-block" id="SetOfFO.values"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFO.values">[docs]</a>    <span class="k">def</span> <span class="nf">values</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">outdata</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">setdata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">tdata</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">setdata</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
                <span class="n">outdata</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tdata</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">outdata</span></div>



<div class="viewcode-block" id="SetOfFO.valuesAvgStd"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFO.valuesAvgStd">[docs]</a>    <span class="k">def</span> <span class="nf">valuesAvgStd</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">outdata</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">setdata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">tdata</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">setdata</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
                <span class="n">outdata</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">tdata</span><span class="o">.</span><span class="n">Avg</span><span class="p">,</span><span class="n">tdata</span><span class="o">.</span><span class="n">Std</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">outdata</span></div>

<div class="viewcode-block" id="SetOfFO.keys"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFO.keys">[docs]</a>    <span class="k">def</span> <span class="nf">keys</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">outdata</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">setdata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">ip</span><span class="p">,</span><span class="n">it</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">setdata</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                <span class="n">outdata</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">outdata</span></div>

    <span class="k">def</span> <span class="nf">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">())):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">raise</span> <span class="ne">StopIteration</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="mf">0.0</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">thiskey</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="bp">self</span><span class="o">.</span><span class="n">current</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">return</span> <span class="bp">self</span><span class="p">[</span><span class="n">thiskey</span><span class="p">]</span>

    <span class="c1">## unitary arithmetic operations</span>

    <span class="k">def</span> <span class="nf">__neg__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ikey</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span>


    <span class="k">def</span> <span class="nf">__pos__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">__abs__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ikey</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">])</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="c1">## Casting, just casts the bootstrap values, ignore return value (only needed since return has to be same type).</span>


    <span class="k">def</span> <span class="nf">__complex__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ikey</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="nb">complex</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">])</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span>
        <span class="k">return</span> <span class="mi">1</span><span class="o">+</span><span class="mi">0</span><span class="n">j</span>

    <span class="k">def</span> <span class="nf">__int__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ikey</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">])</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span>
        <span class="k">return</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">__float__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ikey</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">])</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span>
        <span class="k">return</span> <span class="mf">1.0</span>

    <span class="c1">## Numerical operatoions</span>

    <span class="k">def</span> <span class="nf">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">FO2</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">FO2</span><span class="p">)</span> <span class="ow">in</span> <span class="n">SetOfFO</span><span class="o">.</span><span class="n">parentlist</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">FO2</span><span class="o">.</span><span class="fm">__radd__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">SetOfFO</span><span class="p">(</span><span class="n">cfglist</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span> <span class="n">InfoDict</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">FO2</span><span class="p">,</span><span class="n">SetOfFO</span><span class="p">):</span>
                <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;+&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">FO2</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
                <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                    <span class="k">if</span> <span class="n">iset</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                        <span class="k">if</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                        <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iFO</span> <span class="o">+</span> <span class="n">FO2</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span>
            <span class="c1"># elif type(FO2) in &#39;TwoPtCorrelators.TwoPointCorr&#39;:</span>
            <span class="c1">#     result.name = &#39;+&#39;.join([self.name,FO2.name])</span>
            <span class="c1">#     for (iset,itflow,iFO) in self.items():</span>
            <span class="c1">#         if (itflow) not in FO2.keys(): continue</span>
            <span class="c1">#         result[(iset,itflow)] = iFO + FO2[(itflow)]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;+&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">NumbToFileName</span><span class="p">(</span><span class="n">FO2</span><span class="p">)])</span>
                    <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                        <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iFO</span> <span class="o">+</span> <span class="n">FO2</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">FO2</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">FO2</span><span class="p">)</span> <span class="ow">in</span> <span class="n">SetOfFO</span><span class="o">.</span><span class="n">parentlist</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">FO2</span><span class="o">.</span><span class="fm">__rsub__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">SetOfFO</span><span class="p">(</span> <span class="n">cfglist</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span> <span class="n">InfoDict</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">FO2</span><span class="p">,</span><span class="n">SetOfFO</span><span class="p">):</span>
                <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">FO2</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
                <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                    <span class="k">if</span> <span class="n">iset</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                        <span class="k">if</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                        <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iFO</span> <span class="o">-</span> <span class="n">FO2</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span>
            <span class="c1"># elif type(FO2) in &#39;TwoPtCorrelators.TwoPointCorr&#39;:</span>
            <span class="c1">#     for (iset,itflow,iFO) in self.items():</span>
            <span class="c1">#         result.name = &#39;-&#39;.join([self.name,FO2.name])</span>
            <span class="c1">#         if (itflow) not in FO2.keys(): continue</span>
            <span class="c1">#         result[(iset,itflow)] = iFO - FO2[(itflow)]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">NumbToFileName</span><span class="p">(</span><span class="n">FO2</span><span class="p">)])</span>
                        <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iFO</span> <span class="o">-</span> <span class="n">FO2</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>


    <span class="k">def</span> <span class="nf">__mul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">FO2</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">FO2</span><span class="p">)</span> <span class="ow">in</span> <span class="n">SetOfFO</span><span class="o">.</span><span class="n">parentlist</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">FO2</span><span class="o">.</span><span class="fm">__rmul__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">SetOfFO</span><span class="p">(</span> <span class="n">cfglist</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span> <span class="n">InfoDict</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">FO2</span><span class="p">,</span><span class="n">SetOfFO</span><span class="p">):</span>
                <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;x&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">FO2</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
                <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                    <span class="k">if</span> <span class="n">iset</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                        <span class="k">if</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                        <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iFO</span> <span class="o">*</span> <span class="n">FO2</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span>
            <span class="c1"># elif type(FO2) in &#39;TwoPtCorrelators.TwoPointCorr&#39;:</span>
            <span class="c1">#     for (iset,itflow,iFO) in self.items():</span>
            <span class="c1">#         result.name = &#39;x&#39;.join([self.name,FO2.name])</span>
            <span class="c1">#         if (itflow) not in FO2.keys(): continue</span>
            <span class="c1">#         result[(iset,itflow)] = iFO * FO2[(itflow)]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;x&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">NumbToFileName</span><span class="p">(</span><span class="n">FO2</span><span class="p">)])</span>
                        <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iFO</span> <span class="o">*</span> <span class="n">FO2</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>


    <span class="k">def</span> <span class="nf">__div__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">FO2</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">FO2</span><span class="p">)</span> <span class="ow">in</span> <span class="n">SetOfFO</span><span class="o">.</span><span class="n">parentlist</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">FO2</span><span class="o">.</span><span class="n">__rdiv__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">SetOfFO</span><span class="p">(</span> <span class="n">cfglist</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span> <span class="n">InfoDict</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">FO2</span><span class="p">,</span><span class="n">SetOfFO</span><span class="p">):</span>
                <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;div&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">FO2</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
                <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                    <span class="k">if</span> <span class="n">iset</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                        <span class="k">try</span><span class="p">:</span>
                            <span class="k">if</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                            <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iFO</span> <span class="o">/</span> <span class="n">FO2</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span>
                        <span class="k">except</span><span class="p">:</span>
                            <span class="k">if</span> <span class="nb">any</span><span class="p">([</span><span class="n">ibs</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">ibs</span> <span class="ow">in</span> <span class="n">FO2</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span><span class="o">.</span><span class="n">bootvals</span><span class="p">]):</span>
                                <span class="k">raise</span> <span class="ne">ZeroDivisionError</span><span class="p">(</span><span class="s1">&#39;Dividing by zero found in bootstrap division for &#39;</span><span class="o">+</span><span class="n">FO2</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span><span class="o">+</span><span class="n">FO2</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="c1"># elif type(FO2) in &#39;TwoPtCorrelators.TwoPointCorr&#39;:</span>
            <span class="c1">#     for (iset,itflow,iFO) in self.items():</span>
            <span class="c1">#         result.name = &#39;div&#39;.join([self.name,FO2.name])</span>
            <span class="c1">#         try:</span>
            <span class="c1">#             if (itflow) not in FO2.keys(): continue</span>
            <span class="c1">#             result[(iset,itflow)] = iFO / FO2[(itflow)]</span>
            <span class="c1">#         except:</span>
            <span class="c1">#             if any([ibs == 0 for ibs in FO2[(itflow)].bootvals]):</span>
            <span class="c1">#                 raise ZeroDivisionError(&#39;Dividing by zero found in bootstrap division for &#39;+FO2.name + &#39; &#39;+FO2[(itflow)].name)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">FO2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ZeroDivisionError</span><span class="p">(</span><span class="s1">&#39;Dividing by zero found in bootstrap division&#39;</span><span class="p">)</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;div&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">NumbToFileName</span><span class="p">(</span><span class="n">FO2</span><span class="p">)])</span>
                        <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iFO</span> <span class="o">/</span> <span class="n">FO2</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>


    <span class="k">def</span> <span class="nf">__pow__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">FO2</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">FO2</span><span class="p">)</span> <span class="ow">in</span> <span class="n">SetOfFO</span><span class="o">.</span><span class="n">parentlist</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">FO2</span><span class="o">.</span><span class="fm">__rpow__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">SetOfFO</span><span class="p">(</span> <span class="n">cfglist</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span> <span class="n">InfoDict</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">FO2</span><span class="p">,</span><span class="n">SetOfFO</span><span class="p">):</span>
                <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;pow&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">FO2</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
                <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                    <span class="k">if</span> <span class="n">iset</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                        <span class="k">if</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                        <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iFO</span> <span class="o">**</span> <span class="n">FO2</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span>
            <span class="c1"># elif type(FO2) in &#39;TwoPtCorrelators.TwoPointCorr&#39;:</span>
            <span class="c1">#     for (iset,itflow,iFO) in self.items():</span>
            <span class="c1">#         result.name = &#39;pow&#39;.join([self.name,FO2.name])</span>
            <span class="c1">#         if (itflow) not in FO2.keys(): continue</span>
            <span class="c1">#         result[(iset,itflow)] = iFO ** FO2[(itflow)]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;pow&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">NumbToFileName</span><span class="p">(</span><span class="n">FO2</span><span class="p">)])</span>
                        <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iFO</span> <span class="o">**</span> <span class="n">FO2</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>


    <span class="c1">## Right multiplication functions</span>


    <span class="k">def</span> <span class="nf">__radd__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">FO2</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">SetOfFO</span><span class="p">(</span> <span class="n">cfglist</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span> <span class="n">InfoDict</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">FO2</span><span class="p">,</span><span class="n">SetOfFO</span><span class="p">):</span>
            <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;+&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">FO2</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                <span class="k">if</span> <span class="n">iset</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                    <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">FO2</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">+</span> <span class="n">iFO</span>
        <span class="c1"># elif type(FO2) in &#39;TwoPtCorrelators.TwoPointCorr&#39;:</span>
        <span class="c1">#     result.name = &#39;+&#39;.join([FO2.name,self.name])</span>
        <span class="c1">#     for (iset,itflow,iFO) in self.items():</span>
        <span class="c1">#         if (itflow) not in FO2.keys(): continue</span>
        <span class="c1">#         result[(iset,itflow)] = FO2[(itflow)] + iFO</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;+&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">NumbToFileName</span><span class="p">(</span><span class="n">FO2</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
                <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                    <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">FO2</span> <span class="o">+</span> <span class="n">iFO</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>


    <span class="k">def</span> <span class="nf">__rsub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">FO2</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">SetOfFO</span><span class="p">(</span> <span class="n">cfglist</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span> <span class="n">InfoDict</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">FO2</span><span class="p">,</span><span class="n">SetOfFO</span><span class="p">):</span>
            <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">FO2</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                <span class="k">if</span> <span class="n">iset</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                    <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">FO2</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">-</span> <span class="n">iFO</span>
        <span class="c1"># elif type(FO2) in &#39;TwoPtCorrelators.TwoPointCorr&#39;:</span>
        <span class="c1">#     result.name = &#39;-&#39;.join([FO2.name,self.name])</span>
        <span class="c1">#     for (iset,itflow,iFO) in self.items():</span>
        <span class="c1">#         if (itflow) not in FO2.keys(): continue</span>
        <span class="c1">#         result[(iset,itflow)] = FO2[(itflow)] - iFO</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">NumbToFileName</span><span class="p">(</span><span class="n">FO2</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
                <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                    <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">FO2</span> <span class="o">-</span> <span class="n">iFO</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">__rmul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">FO2</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">SetOfFO</span><span class="p">(</span> <span class="n">cfglist</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span> <span class="n">InfoDict</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">FO2</span><span class="p">,</span><span class="n">SetOfFO</span><span class="p">):</span>
            <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;x&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">FO2</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                <span class="k">if</span> <span class="n">iset</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                    <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">FO2</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">*</span> <span class="n">iFO</span>
        <span class="c1"># elif type(FO2) in &#39;TwoPtCorrelators.TwoPointCorr&#39;:</span>
        <span class="c1">#     result.name = &#39;x&#39;.join([FO2.name,self.name])</span>
        <span class="c1">#     for (iset,itflow,iFO) in self.items():</span>
        <span class="c1">#         if (itflow) not in FO2.keys(): continue</span>
        <span class="c1">#         result[(iset,itflow)] = FO2[(itflow)] * iFO</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;x&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">NumbToFileName</span><span class="p">(</span><span class="n">FO2</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
                <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                    <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">FO2</span> <span class="o">*</span> <span class="n">iFO</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>


    <span class="k">def</span> <span class="nf">__rdiv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">FO2</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">SetOfFO</span><span class="p">(</span> <span class="n">cfglist</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span> <span class="n">InfoDict</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">FO2</span><span class="p">,</span><span class="n">SetOfFO</span><span class="p">):</span>
            <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;div&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">FO2</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                <span class="k">if</span> <span class="n">iset</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="k">if</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                        <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">FO2</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">/</span> <span class="n">iFO</span>
                    <span class="k">except</span><span class="p">:</span>
                        <span class="k">if</span> <span class="nb">any</span><span class="p">([</span><span class="n">ibs</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">ibs</span> <span class="ow">in</span> <span class="n">iFO</span><span class="o">.</span><span class="n">bootvals</span><span class="p">]):</span>
                            <span class="k">raise</span> <span class="ne">ZeroDivisionError</span><span class="p">(</span><span class="s1">&#39;Dividing by zero found in bootstrap division for &#39;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span><span class="o">+</span><span class="n">iFO</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="c1"># elif type(FO2) in &#39;TwoPtCorrelators.TwoPointCorr&#39;:</span>
        <span class="c1">#     result.name = &#39;div&#39;.join([FO2.name,self.name])</span>
        <span class="c1">#     for (iset,itflow,iFO) in self.items():</span>
        <span class="c1">#         try:</span>
        <span class="c1">#             if (itflow) not in FO2.keys(): continue</span>
        <span class="c1">#             result[(iset,itflow)] = FO2[(itflow)] / iFO</span>
        <span class="c1">#         except:</span>
        <span class="c1">#             if any([ibs == 0 for ibs in iFO.bootvals]):</span>
        <span class="c1">#                 raise ZeroDivisionError(&#39;Dividing by zero found in bootstrap division for &#39;+FO2.name + &#39; &#39;+FO2[(itflow)].name)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;div&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">NumbToFileName</span><span class="p">(</span><span class="n">FO2</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                    <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">FO2</span> <span class="o">/</span> <span class="n">iFO</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>


    <span class="k">def</span> <span class="nf">__rpow__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">FO2</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">SetOfFO</span><span class="p">(</span> <span class="n">cfglist</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span> <span class="n">InfoDict</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">FO2</span><span class="p">,</span><span class="n">SetOfFO</span><span class="p">):</span>
            <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;pow&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">FO2</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                <span class="k">if</span> <span class="n">iset</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                    <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">FO2</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">**</span> <span class="n">iFO</span>
        <span class="c1"># elif type(FO2) in &#39;TwoPtCorrelators.TwoPointCorr&#39;:</span>
        <span class="c1">#     result.name = &#39;pow&#39;.join([FO2.name,self.name])</span>
        <span class="c1">#     for (iset,itflow,iFO) in self.items():</span>
        <span class="c1">#         if (itflow) not in FO2.keys(): continue</span>
        <span class="c1">#         result[(iset,itflow)] = FO2[(itflow)] ** iFO</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;pow&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">NumbToFileName</span><span class="p">(</span><span class="n">FO2</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
                <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                    <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">FO2</span> <span class="o">**</span> <span class="n">iFO</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span></div>




<div class="viewcode-block" id="SetOfFOFull"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFOFull">[docs]</a><span class="k">class</span> <span class="nc">SetOfFOFull</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    FOFull(set) Inherits from FlowOpFullSquared in FlowOpps.py</span>


<span class="sd">    plotting parameters (Move to different file?) ####</span>


<span class="sd">    InfoDict is a list of Info dictionaries to be bassed to TwoPtCorr:</span>


<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">instances</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">parentlist</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cfglist</span><span class="o">=</span><span class="p">{},</span> <span class="n">InfoDict</span><span class="o">=</span><span class="p">[],</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">corr_cfglists</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">FlowOpps</span> <span class="k">import</span> <span class="n">FlowOpFullSquared</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span> <span class="o">=</span> <span class="n">cfglist</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span> <span class="o">=</span> <span class="n">InfoDict</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span> <span class="o">=</span> <span class="n">graphdir</span><span class="o">+</span><span class="s1">&#39;/FlowOpFull/&#39;</span>
        <span class="n">mkdir_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="p">)</span>

        <span class="c1"># self.FullFO = &#39;Not Set&#39;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Set&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">SetOfFO</span><span class="o">.</span><span class="n">instances</span><span class="p">))</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">SetOfFO</span><span class="o">.</span><span class="n">instances</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
            <span class="c1"># SetOfFO.instances.append(self.name)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">ic</span><span class="p">,</span><span class="n">idict</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span><span class="p">):</span>
            <span class="n">thiscol</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
            <span class="n">thissym</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
            <span class="n">thisshift</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>

            <span class="k">if</span> <span class="s1">&#39;autocorr&#39;</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">idict</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">idict</span><span class="p">[</span><span class="s1">&#39;autocorr&#39;</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

            <span class="n">thisFO</span> <span class="o">=</span> <span class="n">FlowOpFullSquared</span><span class="p">(</span><span class="n">cfglist</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span> <span class="n">Info</span><span class="o">=</span><span class="n">idict</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span><span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">thisFO</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                <span class="n">FOnext</span> <span class="o">=</span> <span class="mi">2</span>
                <span class="k">while</span> <span class="nb">str</span><span class="p">(</span><span class="n">thisFO</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;_&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">FOnext</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                    <span class="n">FOnext</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">thisFO</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;_&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">FOnext</span><span class="p">)]</span> <span class="o">=</span> <span class="n">thisFO</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">thisFO</span><span class="p">)]</span> <span class="o">=</span> <span class="n">thisFO</span>
            <span class="c1"># print &#39;Setting up classes for &#39; , thisFO , &#39; complete&#39;</span>
            <span class="c1"># print &#39;has color&#39;,thiscol , &#39;symbol &#39; , thissym , &#39;thisshift&#39;,thisshift</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">SetFOlen</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">corr_cfglists</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">GetCfgList</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">GetUnCorrCfgList</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ImportCfgList</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">)</span>
        <span class="c1">##Implement Reading cfglist if len(cfglist) == 0</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="mi">0</span>



<div class="viewcode-block" id="SetOfFOFull.GetUnCorrCfgList"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFOFull.GetUnCorrCfgList">[docs]</a>    <span class="k">def</span> <span class="nf">GetUnCorrCfgList</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">iFO</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
            <span class="n">iFO</span><span class="o">.</span><span class="n">FlowGetCfgList</span><span class="p">()</span></div>


<div class="viewcode-block" id="SetOfFOFull.GetCfgList"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFOFull.GetCfgList">[docs]</a>    <span class="k">def</span> <span class="nf">GetCfgList</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">GetUnCorrCfgList</span><span class="p">()</span>
        <span class="n">input_cfglist</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">iset</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">iset</span><span class="p">,(</span><span class="nb">list</span><span class="p">,</span><span class="nb">tuple</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)):</span>
                <span class="k">for</span> <span class="n">jset</span> <span class="ow">in</span> <span class="n">iset</span><span class="p">:</span>
                    <span class="n">input_cfglist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">jset</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">input_cfglist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">iset</span><span class="p">)</span>
        <span class="n">cfglist</span> <span class="o">=</span> <span class="n">CombineListCfgs</span><span class="p">(</span><span class="n">input_cfglist</span><span class="p">,</span><span class="s1">&#39;Op_cfgs&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ImportCfgList</span><span class="p">(</span><span class="n">cfglist</span><span class="p">)</span></div>

<div class="viewcode-block" id="SetOfFOFull.ImportCfgList"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFOFull.ImportCfgList">[docs]</a>    <span class="k">def</span> <span class="nf">ImportCfgList</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">cfglist</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span> <span class="o">=</span> <span class="n">cfglist</span>
        <span class="k">for</span> <span class="n">iFO</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">iFO</span><span class="o">.</span><span class="n">FlowImportCfgList</span><span class="p">(</span><span class="n">cfglist</span><span class="p">)</span></div>

<div class="viewcode-block" id="SetOfFOFull.Read"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFOFull.Read">[docs]</a>    <span class="k">def</span> <span class="nf">Read</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">setdata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Importing 2pt corr: &#39;</span> <span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">setdata</span><span class="p">))</span>
            <span class="n">setdata</span><span class="o">.</span><span class="n">FlowRead</span><span class="p">()</span></div>


<div class="viewcode-block" id="SetOfFOFull.Write"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFOFull.Write">[docs]</a>    <span class="k">def</span> <span class="nf">Write</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">iFO</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Writing 2pt corr: &#39;</span> <span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">iFO</span><span class="p">))</span>
            <span class="n">iFO</span><span class="o">.</span><span class="n">FlowWrite</span><span class="p">()</span></div>

<div class="viewcode-block" id="SetOfFOFull.LoadPickle"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFOFull.LoadPickle">[docs]</a>    <span class="k">def</span> <span class="nf">LoadPickle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">DefWipe</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">CheckCfgs</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">OnlyQ</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ic</span><span class="p">,(</span><span class="n">setkey</span><span class="p">,</span><span class="n">setdata</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="c1"># print &#39;LoadPickle flowed operator: &#39; , str(setdata)</span>
            <span class="n">setdata</span><span class="o">.</span><span class="n">FlowLoadPickle</span><span class="p">(</span><span class="n">DefWipe</span><span class="o">=</span><span class="n">DefWipe</span><span class="p">,</span><span class="n">CheckCfgs</span><span class="o">=</span><span class="n">CheckCfgs</span><span class="p">,</span><span class="n">OnlyQ</span><span class="o">=</span><span class="n">OnlyQ</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="p">[</span><span class="n">setkey</span><span class="p">]</span><span class="o">.</span><span class="n">FlowImportPlotParams</span><span class="p">(</span><span class="n">colourset8</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)],</span><span class="n">markerset</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
                                                    <span class="p">,</span><span class="n">shiftset</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)])</span>
        <span class="c1"># self.MakeRandT(DefWipe=DefWipe)</span>
        <span class="nb">print</span><span class="p">()</span></div>



<div class="viewcode-block" id="SetOfFOFull.ReadAndWrite"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFOFull.ReadAndWrite">[docs]</a>    <span class="k">def</span> <span class="nf">ReadAndWrite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">DefWipe</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ic</span><span class="p">,(</span><span class="n">setkey</span><span class="p">,</span><span class="n">setdata</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Importing and Writing 2pt corr: &#39;</span> <span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">setdata</span><span class="p">))</span>
            <span class="n">setdata</span><span class="o">.</span><span class="n">FlowReadAndWrite</span><span class="p">(</span><span class="n">DefWipe</span><span class="o">=</span><span class="n">DefWipe</span><span class="p">)</span></div>

    <span class="c1">## returns a TwoPtCorr class object (see TwoPtCorrelators.py)</span>
<div class="viewcode-block" id="SetOfFOFull.GetSet"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFOFull.GetSet">[docs]</a>    <span class="k">def</span> <span class="nf">GetSet</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">thisset</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="p">[</span><span class="n">thisset</span><span class="p">]</span></div>


    <span class="c1">## fitlist is list of touples { set : (&#39;state#&#39;,&#39;fitr#-#&#39;)}</span>
<div class="viewcode-block" id="SetOfFOFull.PlotTauInt"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFOFull.PlotTauInt">[docs]</a>    <span class="k">def</span> <span class="nf">PlotTauInt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">tflowlist</span><span class="p">,</span><span class="n">tsinklist</span><span class="p">,</span><span class="n">tsumlist</span><span class="p">,</span><span class="n">plot_info</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\tau_</span><span class="si">{int}</span><span class="s1">$ at Optimal $W$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$W$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\tau_</span><span class="si">{int}</span><span class="s1">$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_TauInt.pdf&#39;</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">ic</span><span class="p">,(</span><span class="n">itsum</span><span class="p">,</span><span class="n">itsink</span><span class="p">,</span><span class="n">itflow</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iFO</span><span class="p">))</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">tsumlist</span><span class="p">,</span><span class="n">tsinklist</span><span class="p">,</span><span class="n">tflowlist</span><span class="p">,</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">items</span><span class="p">()))):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">ic</span><span class="p">]:</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">itflow</span><span class="p">,</span><span class="n">itsink</span><span class="p">,</span><span class="n">itsum</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">iFO</span><span class="o">.</span><span class="n">Op2_avg_Stats</span><span class="p">[</span><span class="s1">&#39;Auto&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Warning , flow and sink time &#39;</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">itsink</span><span class="p">,</span><span class="n">itsum</span><span class="p">,</span><span class="s1">&#39; not found &#39;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;plotting Tau Int &#39;</span><span class="p">,</span> <span class="n">iFO</span><span class="p">)</span>
                    <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iFO</span><span class="o">.</span><span class="n">Op2_avg_Stats</span><span class="p">[</span><span class="s1">&#39;Auto&#39;</span><span class="p">][</span><span class="n">itflow</span><span class="p">,</span><span class="n">itsink</span><span class="p">,</span><span class="n">itsum</span><span class="p">]</span><span class="o">.</span><span class="n">PlotTauInt</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span>
                                            <span class="n">thiscol</span><span class="o">=</span><span class="n">iFO</span><span class="o">.</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">iFO</span><span class="o">.</span><span class="n">thissym</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">iFO</span><span class="o">.</span><span class="n">thisshift</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Warning, &#39;</span> <span class="p">,</span> <span class="n">iFO</span> <span class="p">,</span> <span class="s1">&#39; is not autocorrelated analized&#39;</span><span class="p">)</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>


    <span class="c1">## fitlist is list of touples { set : (&#39;state#&#39;,&#39;fitr#-#&#39;)}</span>
<div class="viewcode-block" id="SetOfFOFull.PlotWopt"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFOFull.PlotWopt">[docs]</a>    <span class="k">def</span> <span class="nf">PlotWopt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">tflowlist</span><span class="p">,</span><span class="n">tsinklist</span><span class="p">,</span><span class="n">tsumlist</span><span class="p">,</span><span class="n">plot_info</span><span class="p">):</span>
        <span class="c1"># if ftitle==&#39;Def&#39;: ftitle=r&#39;Deturmination of Optimal parameter $W$ at flow time $&#39;+tflowTOLeg(tflow)+&#39;$&#39;</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\rho $ for corresponding $W$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$W$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\rho$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_Wopt.pdf&#39;</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">ic</span><span class="p">,(</span><span class="n">itflow</span><span class="p">,</span><span class="n">itsink</span><span class="p">,</span><span class="n">itsum</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iFO</span><span class="p">))</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">tflowlist</span><span class="p">,</span><span class="n">tsinklist</span><span class="p">,</span><span class="n">tsumlist</span><span class="p">,</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">items</span><span class="p">()))):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">ic</span><span class="p">]:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;plotting W optimal &#39;</span><span class="p">,</span> <span class="n">iFO</span><span class="p">)</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">itflow</span><span class="p">,</span><span class="n">itsink</span><span class="p">,</span><span class="n">itsum</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">iFO</span><span class="o">.</span><span class="n">Op2_avg_Stats</span><span class="p">[</span><span class="s1">&#39;Auto&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Warning , flow time and sink time &#39;</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">itsink</span><span class="p">,</span><span class="n">itsum</span><span class="p">,</span><span class="s1">&#39; not found &#39;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iFO</span><span class="o">.</span><span class="n">Op2_avg_Stats</span><span class="p">[</span><span class="s1">&#39;Auto&#39;</span><span class="p">][</span><span class="n">itflow</span><span class="p">,</span><span class="n">itsink</span><span class="p">,</span><span class="n">itsum</span><span class="p">]</span><span class="o">.</span><span class="n">PlotWopt</span><span class="p">(</span>
                    <span class="n">data_plot</span><span class="p">,</span><span class="n">thiscol</span><span class="o">=</span><span class="n">iFO</span><span class="o">.</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">iFO</span><span class="o">.</span><span class="n">thissym</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">iFO</span><span class="o">.</span><span class="n">thisshift</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Warning, &#39;</span> <span class="p">,</span> <span class="n">iFO</span> <span class="p">,</span> <span class="s1">&#39; is not autocorrelated analized&#39;</span><span class="p">)</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>




    <span class="c1">## fitlist is list of touples { set : (&#39;state#&#39;,&#39;fitr#-#&#39;)}</span>
<div class="viewcode-block" id="SetOfFOFull.PlotTauIntOverTsink"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFOFull.PlotTauIntOverTsink">[docs]</a>    <span class="k">def</span> <span class="nf">PlotTauIntOverTsink</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">tflowlist</span><span class="p">,</span><span class="n">tsumlist</span><span class="p">,</span><span class="n">plot_info</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\tau_</span><span class="si">{int}</span><span class="s1">(W_</span><span class="si">{opt}</span><span class="s1">)$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;source sink separation $t$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\tau_</span><span class="si">{int}</span><span class="s1">$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_TauInt_WOpt_Tsink.pdf&#39;</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">ic</span><span class="p">,(</span><span class="n">itflow</span><span class="p">,</span><span class="n">itsum</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iFO</span><span class="p">))</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">tflowlist</span><span class="p">,</span><span class="n">tsumlist</span><span class="p">,</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">items</span><span class="p">()))):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">ic</span><span class="p">]:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;plotting Tau Int W optimal &#39;</span><span class="p">,</span> <span class="n">iFO</span><span class="p">,</span> <span class="s1">&#39; over tsink&#39;</span><span class="p">)</span>
                <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iFO</span><span class="o">.</span><span class="n">PlotTsinkAuto_TauIntWOpt</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">itsum</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Warning, &#39;</span> <span class="p">,</span> <span class="n">iFO</span> <span class="p">,</span> <span class="s1">&#39; is not autocorrelator analized&#39;</span><span class="p">)</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>


    <span class="c1">## fitlist is list of touples { set : (&#39;state#&#39;,&#39;fitr#-#&#39;)}</span>
<div class="viewcode-block" id="SetOfFOFull.PlotOverTsink"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFOFull.PlotOverTsink">[docs]</a>    <span class="k">def</span> <span class="nf">PlotOverTsink</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">tflowlist</span><span class="p">,</span><span class="n">tsumlist</span><span class="p">,</span><span class="n">plot_info</span><span class="p">,</span><span class="n">fitrlist</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">,</span><span class="n">shifted</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$Operator Squared$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;source sink separation $t$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;Op Sqrd&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_OpSqrd_Tsink.pdf&#39;</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">fitrlist</span> <span class="o">==</span> <span class="s1">&#39;None&#39;</span><span class="p">:</span>
            <span class="n">fitrlist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;None&#39;</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">tflowlist</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">ic</span><span class="p">,(</span><span class="n">ifitr</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">itsum</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iFO</span><span class="p">))</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">fitrlist</span><span class="p">,</span><span class="n">tflowlist</span><span class="p">,</span><span class="n">tsumlist</span><span class="p">,</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">items</span><span class="p">()))):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">ic</span><span class="p">]:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;plotting Autocorrelated &#39;</span><span class="p">,</span> <span class="n">iFO</span><span class="p">,</span> <span class="s1">&#39; over tsink&#39;</span><span class="p">)</span>
                <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iFO</span><span class="o">.</span><span class="n">PlotOp2CorrTsinkAuto</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">itsum</span><span class="p">)</span>
            <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ifitr</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;plotting Bootstrapped &#39;</span><span class="p">,</span> <span class="n">iFO</span><span class="p">,</span> <span class="s1">&#39; over tsink&#39;</span><span class="p">)</span>
                <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iFO</span><span class="o">.</span><span class="n">PlotOp2CorrTsink</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">itsum</span><span class="p">,</span><span class="n">fitr</span><span class="o">=</span><span class="n">ifitr</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">shifted</span><span class="o">=</span><span class="n">shifted</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">shifted</span><span class="p">:</span>
                    <span class="n">iFO</span><span class="o">.</span><span class="n">Fit_All_Props</span><span class="p">(</span><span class="n">ifitr</span><span class="p">,</span><span class="n">WipeFit</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">tflow_list</span><span class="o">=</span><span class="p">[</span><span class="n">itflow</span><span class="p">],</span><span class="n">sum_list</span><span class="o">=</span><span class="p">[</span><span class="n">itsum</span><span class="p">],</span><span class="n">show_timer</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;plotting Bootstrapped &#39;</span><span class="p">,</span> <span class="n">iFO</span><span class="p">,</span> <span class="s1">&#39; over tsink&#39;</span><span class="p">)</span>
                <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iFO</span><span class="o">.</span><span class="n">PlotOp2CorrTsink</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">itsum</span><span class="p">,</span><span class="n">fitr</span><span class="o">=</span><span class="n">ifitr</span><span class="p">,</span><span class="n">shifted</span><span class="o">=</span><span class="n">shifted</span><span class="p">)</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>


<div class="viewcode-block" id="SetOfFOFull.PlotOverT"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFOFull.PlotOverT">[docs]</a>    <span class="k">def</span> <span class="nf">PlotOverT</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">tflowlist</span><span class="p">,</span><span class="n">plot_info</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$Operator$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;time $t$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;Op&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_Op_T.pdf&#39;</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">ic</span><span class="p">,(</span><span class="n">itflow</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iFO</span><span class="p">))</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">tflowlist</span><span class="p">,</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">items</span><span class="p">()))):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">ic</span><span class="p">]:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;plotting Autocorrelated &#39;</span><span class="p">,</span> <span class="n">iFO</span><span class="p">,</span> <span class="s1">&#39; over t&#39;</span><span class="p">)</span>
                <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iFO</span><span class="o">.</span><span class="n">PlotOpTAuto</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">itflow</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;plotting Bootstrapped &#39;</span><span class="p">,</span> <span class="n">iFO</span><span class="p">,</span> <span class="s1">&#39; over t&#39;</span><span class="p">)</span>
                <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iFO</span><span class="o">.</span><span class="n">PlotOpT</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">itflow</span><span class="p">)</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>


<div class="viewcode-block" id="SetOfFOFull.PlotVstiFitr"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFOFull.PlotVstiFitr">[docs]</a>    <span class="k">def</span> <span class="nf">PlotVstiFitr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">tflowlist</span><span class="p">,</span><span class="n">tsumlist</span><span class="p">,</span><span class="n">fit_max_list</span><span class="p">,</span><span class="n">plot_info</span><span class="p">,</span><span class="n">fit_min_list</span><span class="o">=</span><span class="s1">&#39;All&#39;</span><span class="p">,</span><span class="n">parlist</span><span class="o">=</span><span class="s1">&#39;First&#39;</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$Operator Squared$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;min of fit range $t_</span><span class="si">{i}</span><span class="s1">$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;Op Sqrd&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_OpSqrd_Fit_Min.pdf&#39;</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">fit_min_list</span> <span class="o">==</span> <span class="s1">&#39;All&#39;</span><span class="p">:</span>
            <span class="n">fit_min_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;All&#39;</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">tflowlist</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">parlist</span> <span class="o">==</span> <span class="s1">&#39;First&#39;</span><span class="p">:</span>
            <span class="n">parlist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;First&#39;</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">tflowlist</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">ic</span><span class="p">,(</span><span class="n">ifit_max</span><span class="p">,</span><span class="n">ifit_min</span><span class="p">,</span><span class="n">ipar</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">itsum</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iFO</span><span class="p">))</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">fit_max_list</span><span class="p">,</span><span class="n">fit_min_list</span><span class="p">,</span><span class="n">parlist</span><span class="p">,</span>
                                                                            <span class="n">tflowlist</span><span class="p">,</span><span class="n">tsumlist</span><span class="p">,</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">items</span><span class="p">()))):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;plotting Bootstrapped &#39;</span><span class="p">,</span> <span class="n">iFO</span><span class="p">,</span> <span class="s1">&#39; over fit min ranges&#39;</span><span class="p">)</span>
            <span class="n">thiscol</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
            <span class="n">thissym</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
            <span class="n">thisshift</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
            <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iFO</span><span class="o">.</span><span class="n">PlotVstiFitr</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">itsum</span><span class="p">,</span><span class="n">ifit_max</span><span class="p">,</span>
                                        <span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">,</span>
                                        <span class="n">fit_min_list</span><span class="o">=</span><span class="n">ifit_min</span><span class="p">,</span><span class="n">thisparam</span><span class="o">=</span><span class="n">ipar</span><span class="p">)</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>


<div class="viewcode-block" id="SetOfFOFull.PlotVstfFitr"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFOFull.PlotVstfFitr">[docs]</a>    <span class="k">def</span> <span class="nf">PlotVstfFitr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">tflowlist</span><span class="p">,</span><span class="n">tsumlist</span><span class="p">,</span><span class="n">fit_min_list</span><span class="p">,</span><span class="n">plot_info</span><span class="p">,</span><span class="n">fit_max_list</span><span class="o">=</span><span class="s1">&#39;All&#39;</span><span class="p">,</span><span class="n">parlist</span><span class="o">=</span><span class="s1">&#39;First&#39;</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$Operator Squared$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;max of fit range $t_</span><span class="si">{e}</span><span class="s1">$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;Op Sqrd&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_OpSqrd_Fit_Max.pdf&#39;</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">fit_max_list</span> <span class="o">==</span> <span class="s1">&#39;All&#39;</span><span class="p">:</span>
            <span class="n">fit_max_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;All&#39;</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">tflowlist</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">parlist</span> <span class="o">==</span> <span class="s1">&#39;First&#39;</span><span class="p">:</span>
            <span class="n">parlist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;First&#39;</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">tflowlist</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">ic</span><span class="p">,(</span><span class="n">ifit_max</span><span class="p">,</span><span class="n">ifit_min</span><span class="p">,</span><span class="n">ipar</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">itsum</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iFO</span><span class="p">))</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">fit_max_list</span><span class="p">,</span><span class="n">fit_min_list</span><span class="p">,</span><span class="n">parlist</span><span class="p">,</span>
                                                                            <span class="n">tflowlist</span><span class="p">,</span><span class="n">tsumlist</span><span class="p">,</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">items</span><span class="p">()))):</span>
            <span class="n">thiscol</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
            <span class="n">thissym</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
            <span class="n">thisshift</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="n">ic</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;plotting Bootstrapped &#39;</span><span class="p">,</span> <span class="n">iFO</span><span class="p">,</span> <span class="s1">&#39; over fit max ranges&#39;</span><span class="p">)</span>
            <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iFO</span><span class="o">.</span><span class="n">PlotVstfFitr</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">itsum</span><span class="p">,</span><span class="n">ifit_min</span><span class="p">,</span>
                                        <span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">,</span>
                                        <span class="n">fit_max_list</span><span class="o">=</span><span class="n">ifit_max</span><span class="p">,</span><span class="n">thisparam</span><span class="o">=</span><span class="n">ipar</span><span class="p">)</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>


    <span class="c1">## fitlist is list of touples { set : (&#39;state#&#39;,&#39;fitr#-#&#39;)}</span>
<div class="viewcode-block" id="SetOfFOFull.PlotTauIntOverTsum"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFOFull.PlotTauIntOverTsum">[docs]</a>    <span class="k">def</span> <span class="nf">PlotTauIntOverTsum</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">tflowlist</span><span class="p">,</span><span class="n">tsinklist</span><span class="p">,</span><span class="n">plot_info</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\tau_</span><span class="si">{int}</span><span class="s1">(W_</span><span class="si">{opt}</span><span class="s1">)$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;summed source $t_</span><span class="si">{sum}</span><span class="s1">$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\tau_</span><span class="si">{int}</span><span class="s1">$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_TauInt_WOpt_Tsum.pdf&#39;</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">ic</span><span class="p">,(</span><span class="n">itflow</span><span class="p">,</span><span class="n">itsink</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iFO</span><span class="p">))</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">tflowlist</span><span class="p">,</span><span class="n">tsinklist</span><span class="p">,</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">items</span><span class="p">()))):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">ic</span><span class="p">]:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;plotting Tau Int W optimal &#39;</span><span class="p">,</span> <span class="n">iFO</span><span class="p">,</span> <span class="s1">&#39; over tsum&#39;</span><span class="p">)</span>
                <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iFO</span><span class="o">.</span><span class="n">PlotTsumAuto_TauIntWOpt</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">itsink</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Warning, &#39;</span> <span class="p">,</span> <span class="n">iFO</span> <span class="p">,</span> <span class="s1">&#39; is not autocorrelator analized&#39;</span><span class="p">)</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>


    <span class="c1">## fitlist is list of touples { set : (&#39;state#&#39;,&#39;fitr#-#&#39;)}</span>
<div class="viewcode-block" id="SetOfFOFull.PlotOverTsum"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFOFull.PlotOverTsum">[docs]</a>    <span class="k">def</span> <span class="nf">PlotOverTsum</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">tflowlist</span><span class="p">,</span><span class="n">tsinklist</span><span class="p">,</span><span class="n">plot_info</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$Operator Squared$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;summed source $t_</span><span class="si">{sum}</span><span class="s1">$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;Op Sqrd&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_OpSqrd_Tsum.pdf&#39;</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">ic</span><span class="p">,(</span><span class="n">itflow</span><span class="p">,</span><span class="n">itsink</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iFO</span><span class="p">))</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">tflowlist</span><span class="p">,</span><span class="n">tsinklist</span><span class="p">,</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">items</span><span class="p">()))):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">ic</span><span class="p">]:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;plotting Autocorrelated &#39;</span><span class="p">,</span> <span class="n">iFO</span><span class="p">,</span> <span class="s1">&#39; over tsum&#39;</span><span class="p">)</span>
                <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iFO</span><span class="o">.</span><span class="n">PlotOp2CorrTsumAuto</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">itsink</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;plotting Bootstrapped &#39;</span><span class="p">,</span> <span class="n">iFO</span><span class="p">,</span> <span class="s1">&#39; over tsum&#39;</span><span class="p">)</span>
                <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iFO</span><span class="o">.</span><span class="n">PlotOp2CorrTsum</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">itsink</span><span class="p">)</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>

    <span class="c1">## fitlist is list of touples { set : (&#39;state#&#39;,&#39;fitr#-#&#39;)}</span>
<div class="viewcode-block" id="SetOfFOFull.PlotTauIntOverTflow"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFOFull.PlotTauIntOverTflow">[docs]</a>    <span class="k">def</span> <span class="nf">PlotTauIntOverTflow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">tsumlist</span><span class="p">,</span><span class="n">tsinklist</span><span class="p">,</span><span class="n">plot_info</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\tau_</span><span class="si">{int}</span><span class="s1">(W_</span><span class="si">{opt}</span><span class="s1">)$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\sqrt{8t_</span><span class="si">{f}</span><span class="s1">}[fm]$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\tau_</span><span class="si">{int}</span><span class="s1">$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_TauInt_WOpt_Tflow.pdf&#39;</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">ic</span><span class="p">,(</span><span class="n">itsum</span><span class="p">,</span><span class="n">itsink</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iFO</span><span class="p">))</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">tsumlist</span><span class="p">,</span><span class="n">tsinklist</span><span class="p">,</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">items</span><span class="p">()))):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">ic</span><span class="p">]:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;plotting Tau Int W optimal &#39;</span><span class="p">,</span> <span class="n">iFO</span><span class="p">,</span> <span class="s1">&#39; over tflow&#39;</span><span class="p">)</span>
                <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iFO</span><span class="o">.</span><span class="n">PlotTflowAuto_TauIntWOpt</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">itsink</span><span class="p">,</span><span class="n">itsum</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Warning, &#39;</span> <span class="p">,</span> <span class="n">iFO</span> <span class="p">,</span> <span class="s1">&#39; is not autocorrelator analized&#39;</span><span class="p">)</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>


    <span class="c1">## fitlist is list of touples { set : (&#39;state#&#39;,&#39;fitr#-#&#39;)}</span>
<div class="viewcode-block" id="SetOfFOFull.PlotOverTflow"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFOFull.PlotOverTflow">[docs]</a>    <span class="k">def</span> <span class="nf">PlotOverTflow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">tsumlist</span><span class="p">,</span><span class="n">tsinklist</span><span class="p">,</span><span class="n">plot_info</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;Operator Squared&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\sqrt{8t_</span><span class="si">{f}</span><span class="s1">}[fm]$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;Op Sqrd&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_OpSqrd_Tflow.pdf&#39;</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">ic</span><span class="p">,(</span><span class="n">itsum</span><span class="p">,</span><span class="n">itsink</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iFO</span><span class="p">))</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">tsumlist</span><span class="p">,</span><span class="n">tsinklist</span><span class="p">,</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">items</span><span class="p">()))):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">ic</span><span class="p">]:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;plotting Autocorrelated &#39;</span><span class="p">,</span> <span class="n">iFO</span> <span class="p">,</span> <span class="s1">&#39; over tflow&#39;</span><span class="p">)</span>
                <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iFO</span><span class="o">.</span><span class="n">PlotOp2CorrTflowAuto</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">itsink</span><span class="p">,</span><span class="n">itsum</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;plotting Bootstrapped &#39;</span><span class="p">,</span> <span class="n">iFO</span><span class="p">,</span> <span class="s1">&#39; over tflow&#39;</span><span class="p">)</span>
                <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iFO</span><span class="o">.</span><span class="n">PlotOp2CorrTflow</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">itsink</span><span class="p">,</span><span class="n">itsum</span><span class="p">)</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>

    <span class="c1">## fitlist is list of touples { set : (&#39;state#&#39;,&#39;fitr#-#&#39;)}</span>
<div class="viewcode-block" id="SetOfFOFull.PlotFitOverTflow"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFOFull.PlotFitOverTflow">[docs]</a>    <span class="k">def</span> <span class="nf">PlotFitOverTflow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">tfitlist</span><span class="p">,</span><span class="n">tsumlist</span><span class="p">,</span><span class="n">parlist</span><span class="p">,</span><span class="n">plot_info</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;Operator Squared Fitted&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\sqrt{8t_</span><span class="si">{f}</span><span class="s1">}[fm]$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;Op Sqrd&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_OpSqrd_Tflow.pdf&#39;</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>

        <span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">ic</span><span class="p">,(</span><span class="n">ipar</span><span class="p">,</span><span class="n">itfit</span><span class="p">,</span><span class="n">itsum</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iFO</span><span class="p">))</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span>   <span class="n">parlist</span><span class="p">,</span><span class="n">tfitlist</span><span class="p">,</span><span class="n">tsumlist</span>
                                                                <span class="p">,</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">items</span><span class="p">()))):</span>
            <span class="n">thiscol</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="n">counter</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
            <span class="n">thissym</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="n">counter</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
            <span class="n">thisshift</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="n">counter</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;plotting fitted results for &#39;</span><span class="p">,</span> <span class="n">iFO</span><span class="p">,</span> <span class="s1">&#39; over tflow&#39;</span><span class="p">)</span>
            <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iFO</span><span class="o">.</span><span class="n">Plot_Prop_Tflow</span><span class="p">(</span><span class="n">data_plot</span><span class="p">,</span><span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">,</span>
                                            <span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">,</span><span class="n">tfitr</span><span class="o">=</span><span class="n">itfit</span><span class="p">,</span><span class="n">tsum</span><span class="o">=</span><span class="n">itsum</span><span class="p">,</span><span class="n">thisparam</span><span class="o">=</span><span class="n">ipar</span><span class="p">)</span>
            <span class="n">counter</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">ipar</span> <span class="o">==</span> <span class="s1">&#39;A&#39;</span> <span class="ow">or</span> <span class="n">ipar</span> <span class="o">==</span> <span class="s1">&#39;First&#39;</span><span class="p">:</span>
                <span class="n">thiscol</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="n">counter</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
                <span class="n">thissym</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="n">counter</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
                <span class="n">thisshift</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="n">counter</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;plotting chi for &#39;</span><span class="p">,</span><span class="n">iFO</span><span class="p">)</span>
                <span class="n">data_plot</span> <span class="o">=</span> <span class="n">iFO</span><span class="o">.</span><span class="n">PlotChiTflow</span><span class="p">(</span>   <span class="n">data_plot</span><span class="p">,</span><span class="n">thiscol</span><span class="o">=</span><span class="n">thiscol</span><span class="p">,</span><span class="n">thisshift</span><span class="o">=</span><span class="n">thisshift</span><span class="p">,</span>
                                                <span class="n">thissym</span><span class="o">=</span><span class="n">thissym</span><span class="p">)</span>
                <span class="n">counter</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>


<div class="viewcode-block" id="SetOfFOFull.PlotVsPionMass"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFOFull.PlotVsPionMass">[docs]</a>    <span class="k">def</span> <span class="nf">PlotVsPionMass</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">tflowlist</span><span class="p">,</span><span class="n">tfitlist</span><span class="p">,</span><span class="n">tsumlist</span><span class="p">,</span><span class="n">parlist</span><span class="p">,</span><span class="n">plot_info</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">SetsOfFits</span> <span class="k">import</span> <span class="n">PullSOFSeries_Wpar</span>
        <span class="k">def</span> <span class="nf">DefPlotInfo</span><span class="p">(</span><span class="n">pi</span><span class="p">):</span>
            <span class="n">this_pi</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;Flowed Ops vs Pion Mass&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$m_{\pi} [MeV]$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$\chi$&#39;</span>
            <span class="k">if</span> <span class="s1">&#39;save_file&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">this_pi</span><span class="p">:</span>
                <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;save_file&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plotdir</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_MpiDep.pdf&#39;</span>
            <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;xlims&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
            <span class="n">this_pi</span><span class="p">[</span><span class="s1">&#39;ylims&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">this_pi</span>

        <span class="n">this_plot_info</span> <span class="o">=</span> <span class="n">DefPlotInfo</span><span class="p">(</span><span class="n">plot_info</span><span class="p">)</span>
        <span class="n">data_plot</span> <span class="o">=</span> <span class="n">jpl</span><span class="o">.</span><span class="n">Plotting</span><span class="p">(</span><span class="n">plot_info</span><span class="o">=</span><span class="n">this_plot_info</span><span class="p">)</span>
        <span class="n">vall</span><span class="p">,</span><span class="n">indexl</span> <span class="o">=</span> <span class="p">[],[]</span>
        <span class="n">chi_vall</span><span class="p">,</span><span class="n">chi_indexl</span> <span class="o">=</span> <span class="p">[],[]</span>
        <span class="c1"># shiftlist = []</span>
        <span class="k">for</span> <span class="n">ic</span><span class="p">,(</span><span class="n">itflow</span><span class="p">,</span><span class="n">ipar</span><span class="p">,</span><span class="n">itfit</span><span class="p">,</span><span class="n">itsum</span><span class="p">,(</span><span class="n">ikey</span><span class="p">,</span><span class="n">iFO</span><span class="p">))</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span>   <span class="n">tflowlist</span><span class="p">,</span><span class="n">parlist</span><span class="p">,</span>
                                                            <span class="n">tfitlist</span><span class="p">,</span><span class="n">tsumlist</span>
                                                            <span class="p">,</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">items</span><span class="p">()))):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">itfit</span><span class="p">,(</span><span class="nb">list</span><span class="p">,</span><span class="nb">tuple</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)):</span>
                <span class="n">itfit</span> <span class="o">=</span> <span class="n">itfit</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">iFO</span><span class="p">,</span><span class="nb">list</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Please run combine opperators before running plot&#39;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;plotting &#39;</span><span class="p">,</span> <span class="n">iFO</span><span class="p">)</span>
            <span class="n">this_pion_mass</span> <span class="o">=</span> <span class="p">(</span><span class="n">iFO</span><span class="o">.</span><span class="n">latparams</span><span class="o">.</span><span class="n">GetPionMassLab</span><span class="p">(</span><span class="n">Phys</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">MeV</span><span class="o">=</span><span class="kc">True</span><span class="p">),)</span>
            <span class="k">if</span> <span class="n">itflow</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">iFO</span><span class="o">.</span><span class="n">Chi_Stats</span><span class="p">[</span><span class="s1">&#39;Auto&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                <span class="n">chi_indexl</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">this_pion_mass</span><span class="p">)</span>
                <span class="n">chi_vall</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">iFO</span><span class="o">.</span><span class="n">Chi_Stats</span><span class="p">[</span><span class="s1">&#39;Auto&#39;</span><span class="p">][</span><span class="n">itflow</span><span class="p">])</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">AutoList</span><span class="p">[</span><span class="n">ic</span><span class="p">]:</span>
                <span class="n">fit_data</span> <span class="o">=</span> <span class="n">PullSOFSeries_Wpar</span><span class="p">(</span><span class="n">iFO</span><span class="o">.</span><span class="n">Prop_Fit_Stats</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;boot&#39;</span><span class="p">])</span>
                <span class="k">if</span> <span class="n">ipar</span> <span class="o">==</span> <span class="s1">&#39;First&#39;</span><span class="p">:</span>
                    <span class="n">ipar</span> <span class="o">=</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ipar</span><span class="p">,</span><span class="nb">int</span><span class="p">):</span>
                    <span class="n">ipar</span> <span class="o">=</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">levels</span><span class="p">[</span><span class="n">ipar</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">ic</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">index_names</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;Pion Mass&#39;</span><span class="p">,)</span> <span class="o">+</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">names</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">itsum</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span><span class="o">.</span><span class="n">prop_fit_fun</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span><span class="n">itfit</span><span class="p">,</span><span class="n">ipar</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">fit_data</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">itsum</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span><span class="o">.</span><span class="n">prop_fit_fun</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span><span class="n">itfit</span><span class="p">,</span><span class="n">ipar</span><span class="p">,</span> <span class="s1">&#39;Not found, attempting to fit&#39;</span><span class="p">)</span>
                    <span class="n">iFO</span><span class="o">.</span><span class="n">Fit_All_Props</span><span class="p">(</span><span class="n">itfit</span><span class="p">,</span><span class="n">sum_list</span><span class="o">=</span><span class="p">[</span><span class="n">itsum</span><span class="p">],</span><span class="n">tflow_list</span><span class="o">=</span><span class="p">[</span><span class="n">itflow</span><span class="p">],</span><span class="n">show_timer</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                    <span class="n">fit_data</span> <span class="o">=</span> <span class="n">PullSOFSeries_Wpar</span><span class="p">(</span><span class="n">iFO</span><span class="o">.</span><span class="n">Prop_Fit_Stats</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;boot&#39;</span><span class="p">])</span>
                <span class="k">for</span> <span class="n">ikey</span><span class="p">,</span><span class="n">ival</span> <span class="ow">in</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="n">vall</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ival</span><span class="p">)</span>
                    <span class="n">indexl</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">this_pion_mass</span><span class="p">,)</span><span class="o">+</span><span class="n">ikey</span><span class="p">)</span>
        <span class="c1"># shiftlist = np.array(shiftlist)*(max(50,max(plotx)-min(plotx)))</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">indexl</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
            <span class="n">indicies</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_tuples</span><span class="p">(</span><span class="n">indexl</span><span class="p">,</span><span class="n">names</span><span class="o">=</span><span class="n">index_names</span><span class="p">)</span>
            <span class="n">plot_data</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">vall</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="n">indicies</span><span class="p">)</span>
            <span class="c1"># if all(np.array(parlist) == parlist[0]):</span>
            <span class="c1">#     Improv_leg += parlist[0:1]</span>
            <span class="n">hold_series</span> <span class="o">=</span> <span class="n">null_series</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;x_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;from_keys&#39;</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;key_select&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="nb">slice</span><span class="p">(</span><span class="kc">None</span><span class="p">),)</span><span class="o">+</span><span class="nb">tuple</span><span class="p">(</span><span class="n">plot_data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">:])</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;y_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">plot_data</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">Avg</span><span class="p">)</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;yerr_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">plot_data</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">Std</span><span class="p">)</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Improved&#39;</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;shift&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="mi">0</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="mi">0</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;symbol&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="mi">0</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;error_bar_vary&#39;</span>
            <span class="n">data_plot</span><span class="o">.</span><span class="n">AppendData</span><span class="p">(</span><span class="n">hold_series</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;No improved results to plot vs mpi&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">chi_indexl</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">indicies</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_tuples</span><span class="p">(</span><span class="n">chi_indexl</span><span class="p">,</span><span class="n">names</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;Pion Mass&#39;</span><span class="p">,))</span>
            <span class="n">plot_data</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">chi_vall</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="n">indicies</span><span class="p">)</span>
            <span class="n">hold_series</span> <span class="o">=</span> <span class="n">null_series</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;x_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;from_keys&#39;</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;key_select&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="nb">slice</span><span class="p">(</span><span class="kc">None</span><span class="p">),)</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;y_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">plot_data</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">Avg</span><span class="p">)</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;yerr_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">plot_data</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">Std</span><span class="p">)</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">=</span>  <span class="s1">&#39;Integrated&#39;</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;shift&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="mi">1</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="mi">1</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;symbol&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="mi">1</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
            <span class="n">hold_series</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;error_bar_vary&#39;</span>
            <span class="n">data_plot</span><span class="o">.</span><span class="n">AppendData</span><span class="p">(</span><span class="n">hold_series</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;No integrated result to plot vs mpi&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">parlist</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;First&#39;</span><span class="p">):</span>
            <span class="n">top_susc_0710_1130_plot</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="mi">2</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
            <span class="n">top_susc_0710_1130_plot</span><span class="p">[</span><span class="s1">&#39;symbol&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="mi">2</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
            <span class="n">top_susc_0710_1130_plot</span><span class="p">[</span><span class="s1">&#39;shift&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="mi">2</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
            <span class="n">data_plot</span><span class="o">.</span><span class="n">AppendData</span><span class="p">(</span><span class="n">top_susc_0710_1130_plot</span><span class="p">)</span>
            <span class="n">top_susc_1406_5363_plot</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="mi">3</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
            <span class="n">top_susc_1406_5363_plot</span><span class="p">[</span><span class="s1">&#39;symbol&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="mi">3</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
            <span class="n">top_susc_1406_5363_plot</span><span class="p">[</span><span class="s1">&#39;shift&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="mi">3</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
            <span class="n">data_plot</span><span class="o">.</span><span class="n">AppendData</span><span class="p">(</span><span class="n">top_susc_1406_5363_plot</span><span class="p">)</span>
            <span class="n">top_susc_1312_5161_plot</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="mi">4</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
            <span class="n">top_susc_1312_5161_plot</span><span class="p">[</span><span class="s1">&#39;symbol&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="mi">4</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
            <span class="n">top_susc_1312_5161_plot</span><span class="p">[</span><span class="s1">&#39;shift&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="mi">4</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
            <span class="n">data_plot</span><span class="o">.</span><span class="n">AppendData</span><span class="p">(</span><span class="n">top_susc_1312_5161_plot</span><span class="p">)</span>
            <span class="n">top_susc_1312_5161_211_plot</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="mi">5</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
            <span class="n">top_susc_1312_5161_211_plot</span><span class="p">[</span><span class="s1">&#39;symbol&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="mi">5</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
            <span class="n">top_susc_1312_5161_211_plot</span><span class="p">[</span><span class="s1">&#39;shift&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="mi">5</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
            <span class="n">data_plot</span><span class="o">.</span><span class="n">AppendData</span><span class="p">(</span><span class="n">top_susc_1312_5161_211_plot</span><span class="p">)</span>
            <span class="n">top_susc_1512_06746_plot</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="mi">6</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
            <span class="n">top_susc_1512_06746_plot</span><span class="p">[</span><span class="s1">&#39;symbol&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="mi">6</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
            <span class="n">top_susc_1512_06746_plot</span><span class="p">[</span><span class="s1">&#39;shift&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="mi">6</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
            <span class="n">data_plot</span><span class="o">.</span><span class="n">AppendData</span><span class="p">(</span><span class="n">top_susc_1512_06746_plot</span><span class="p">)</span>
            <span class="n">top_susc_1705_10906_plot</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">colourset8</span><span class="p">[</span><span class="mi">7</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">colourset8</span><span class="p">)]</span>
            <span class="n">top_susc_1705_10906_plot</span><span class="p">[</span><span class="s1">&#39;symbol&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">markerset</span><span class="p">[</span><span class="mi">7</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">markerset</span><span class="p">)]</span>
            <span class="n">top_susc_1705_10906_plot</span><span class="p">[</span><span class="s1">&#39;shift&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">shiftset</span><span class="p">[</span><span class="mi">7</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">shiftset</span><span class="p">)]</span>
            <span class="n">data_plot</span><span class="o">.</span><span class="n">AppendData</span><span class="p">(</span><span class="n">top_susc_1705_10906_plot</span><span class="p">)</span>
        <span class="n">data_plot</span><span class="o">.</span><span class="n">PlotAll</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data_plot</span></div>


    <span class="k">def</span> <span class="nf">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="p">[</span><span class="n">key</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="n">key</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="p">[</span><span class="n">key</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="n">key</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>

<div class="viewcode-block" id="SetOfFOFull.Stats"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFOFull.Stats">[docs]</a>    <span class="k">def</span> <span class="nf">Stats</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">iset</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">iset</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span></div>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>

    <span class="k">def</span> <span class="nf">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>

<div class="viewcode-block" id="SetOfFOFull.items"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFOFull.items">[docs]</a>    <span class="k">def</span> <span class="nf">items</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">outdata</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">setdata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">itflow</span><span class="p">,</span><span class="n">tdata</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">setdata</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                <span class="n">outdata</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">tdata</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">outdata</span></div>

<div class="viewcode-block" id="SetOfFOFull.itemsAvgStd"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFOFull.itemsAvgStd">[docs]</a>    <span class="k">def</span> <span class="nf">itemsAvgStd</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">outdata</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">setdata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">itflow</span><span class="p">,</span><span class="n">tdata</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">setdata</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                <span class="n">outdata</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">tdata</span><span class="o">.</span><span class="n">Avg</span><span class="p">,</span><span class="n">tdata</span><span class="o">.</span><span class="n">Std</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">outdata</span></div>

<div class="viewcode-block" id="SetOfFOFull.values"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFOFull.values">[docs]</a>    <span class="k">def</span> <span class="nf">values</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">outdata</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">setdata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">tdata</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">setdata</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
                <span class="n">outdata</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tdata</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">outdata</span></div>



<div class="viewcode-block" id="SetOfFOFull.valuesAvgStd"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFOFull.valuesAvgStd">[docs]</a>    <span class="k">def</span> <span class="nf">valuesAvgStd</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">outdata</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">setdata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">tdata</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">setdata</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
                <span class="n">outdata</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">tdata</span><span class="o">.</span><span class="n">Avg</span><span class="p">,</span><span class="n">tdata</span><span class="o">.</span><span class="n">Std</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">outdata</span></div>

<div class="viewcode-block" id="SetOfFOFull.keys"><a class="viewcode-back" href="../SetsOfFlowOps.html#SetsOfFlowOps.SetOfFOFull.keys">[docs]</a>    <span class="k">def</span> <span class="nf">keys</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">outdata</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">setdata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">ip</span><span class="p">,</span><span class="n">it</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">setdata</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                <span class="n">outdata</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">iset</span><span class="p">,</span><span class="n">ip</span><span class="p">,</span><span class="n">it</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">outdata</span></div>

    <span class="k">def</span> <span class="nf">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">())):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">raise</span> <span class="ne">StopIteration</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="mf">0.0</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">thiskey</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="bp">self</span><span class="o">.</span><span class="n">current</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">return</span> <span class="bp">self</span><span class="p">[</span><span class="n">thiskey</span><span class="p">]</span>

    <span class="c1">## unitary arithmetic operations</span>

    <span class="k">def</span> <span class="nf">__neg__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ikey</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span>


    <span class="k">def</span> <span class="nf">__pos__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">__abs__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ikey</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">])</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="c1">## Casting, just casts the bootstrap values, ignore return value (only needed since return has to be same type).</span>


    <span class="k">def</span> <span class="nf">__complex__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ikey</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="nb">complex</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">])</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span>
        <span class="k">return</span> <span class="mi">1</span><span class="o">+</span><span class="mi">0</span><span class="n">j</span>

    <span class="k">def</span> <span class="nf">__int__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ikey</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">])</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span>
        <span class="k">return</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">__float__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ikey</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">])</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">ikey</span><span class="p">]</span><span class="o">.</span><span class="n">Stats</span><span class="p">()</span>
        <span class="k">return</span> <span class="mf">1.0</span>

    <span class="c1">## Numerical operatoions</span>

    <span class="k">def</span> <span class="nf">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">FO2</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">FO2</span><span class="p">)</span> <span class="ow">in</span> <span class="n">SetOfFO</span><span class="o">.</span><span class="n">parentlist</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">FO2</span><span class="o">.</span><span class="fm">__radd__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">SetOfFO</span><span class="p">(</span><span class="n">cfglist</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span> <span class="n">InfoDict</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">FO2</span><span class="p">,</span><span class="n">SetOfFO</span><span class="p">):</span>
                <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;+&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">FO2</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
                <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                    <span class="k">if</span> <span class="n">iset</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                        <span class="k">if</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                        <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iFO</span> <span class="o">+</span> <span class="n">FO2</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span>
            <span class="c1"># elif type(FO2) in &#39;TwoPtCorrelators.TwoPointCorr&#39;:</span>
            <span class="c1">#     result.name = &#39;+&#39;.join([self.name,FO2.name])</span>
            <span class="c1">#     for (iset,itflow,iFO) in self.items():</span>
            <span class="c1">#         if (itflow) not in FO2.keys(): continue</span>
            <span class="c1">#         result[(iset,itflow)] = iFO + FO2[(itflow)]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;+&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">NumbToFileName</span><span class="p">(</span><span class="n">FO2</span><span class="p">)])</span>
                    <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                        <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iFO</span> <span class="o">+</span> <span class="n">FO2</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">FO2</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">FO2</span><span class="p">)</span> <span class="ow">in</span> <span class="n">SetOfFO</span><span class="o">.</span><span class="n">parentlist</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">FO2</span><span class="o">.</span><span class="fm">__rsub__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">SetOfFO</span><span class="p">(</span> <span class="n">cfglist</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span> <span class="n">InfoDict</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">FO2</span><span class="p">,</span><span class="n">SetOfFO</span><span class="p">):</span>
                <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">FO2</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
                <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                    <span class="k">if</span> <span class="n">iset</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                        <span class="k">if</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                        <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iFO</span> <span class="o">-</span> <span class="n">FO2</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span>
            <span class="c1"># elif type(FO2) in &#39;TwoPtCorrelators.TwoPointCorr&#39;:</span>
            <span class="c1">#     for (iset,itflow,iFO) in self.items():</span>
            <span class="c1">#         result.name = &#39;-&#39;.join([self.name,FO2.name])</span>
            <span class="c1">#         if (itflow) not in FO2.keys(): continue</span>
            <span class="c1">#         result[(iset,itflow)] = iFO - FO2[(itflow)]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">NumbToFileName</span><span class="p">(</span><span class="n">FO2</span><span class="p">)])</span>
                        <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iFO</span> <span class="o">-</span> <span class="n">FO2</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>


    <span class="k">def</span> <span class="nf">__mul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">FO2</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">FO2</span><span class="p">)</span> <span class="ow">in</span> <span class="n">SetOfFO</span><span class="o">.</span><span class="n">parentlist</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">FO2</span><span class="o">.</span><span class="fm">__rmul__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">SetOfFO</span><span class="p">(</span> <span class="n">cfglist</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span> <span class="n">InfoDict</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">FO2</span><span class="p">,</span><span class="n">SetOfFO</span><span class="p">):</span>
                <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;x&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">FO2</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
                <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                    <span class="k">if</span> <span class="n">iset</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                        <span class="k">if</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                        <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iFO</span> <span class="o">*</span> <span class="n">FO2</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span>
            <span class="c1"># elif type(FO2) in &#39;TwoPtCorrelators.TwoPointCorr&#39;:</span>
            <span class="c1">#     for (iset,itflow,iFO) in self.items():</span>
            <span class="c1">#         result.name = &#39;x&#39;.join([self.name,FO2.name])</span>
            <span class="c1">#         if (itflow) not in FO2.keys(): continue</span>
            <span class="c1">#         result[(iset,itflow)] = iFO * FO2[(itflow)]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;x&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">NumbToFileName</span><span class="p">(</span><span class="n">FO2</span><span class="p">)])</span>
                        <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iFO</span> <span class="o">*</span> <span class="n">FO2</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>


    <span class="k">def</span> <span class="nf">__div__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">FO2</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">FO2</span><span class="p">)</span> <span class="ow">in</span> <span class="n">SetOfFO</span><span class="o">.</span><span class="n">parentlist</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">FO2</span><span class="o">.</span><span class="n">__rdiv__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">SetOfFO</span><span class="p">(</span> <span class="n">cfglist</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span> <span class="n">InfoDict</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">FO2</span><span class="p">,</span><span class="n">SetOfFO</span><span class="p">):</span>
                <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;div&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">FO2</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
                <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                    <span class="k">if</span> <span class="n">iset</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                        <span class="k">try</span><span class="p">:</span>
                            <span class="k">if</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                            <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iFO</span> <span class="o">/</span> <span class="n">FO2</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span>
                        <span class="k">except</span><span class="p">:</span>
                            <span class="k">if</span> <span class="nb">any</span><span class="p">([</span><span class="n">ibs</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">ibs</span> <span class="ow">in</span> <span class="n">FO2</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span><span class="o">.</span><span class="n">bootvals</span><span class="p">]):</span>
                                <span class="k">raise</span> <span class="ne">ZeroDivisionError</span><span class="p">(</span><span class="s1">&#39;Dividing by zero found in bootstrap division for &#39;</span><span class="o">+</span><span class="n">FO2</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span><span class="o">+</span><span class="n">FO2</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="c1"># elif type(FO2) in &#39;TwoPtCorrelators.TwoPointCorr&#39;:</span>
            <span class="c1">#     for (iset,itflow,iFO) in self.items():</span>
            <span class="c1">#         result.name = &#39;div&#39;.join([self.name,FO2.name])</span>
            <span class="c1">#         try:</span>
            <span class="c1">#             if (itflow) not in FO2.keys(): continue</span>
            <span class="c1">#             result[(iset,itflow)] = iFO / FO2[(itflow)]</span>
            <span class="c1">#         except:</span>
            <span class="c1">#             if any([ibs == 0 for ibs in FO2[(itflow)].bootvals]):</span>
            <span class="c1">#                 raise ZeroDivisionError(&#39;Dividing by zero found in bootstrap division for &#39;+FO2.name + &#39; &#39;+FO2[(itflow)].name)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">FO2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ZeroDivisionError</span><span class="p">(</span><span class="s1">&#39;Dividing by zero found in bootstrap division&#39;</span><span class="p">)</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;div&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">NumbToFileName</span><span class="p">(</span><span class="n">FO2</span><span class="p">)])</span>
                        <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iFO</span> <span class="o">/</span> <span class="n">FO2</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>


    <span class="k">def</span> <span class="nf">__pow__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">FO2</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">FO2</span><span class="p">)</span> <span class="ow">in</span> <span class="n">SetOfFO</span><span class="o">.</span><span class="n">parentlist</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">FO2</span><span class="o">.</span><span class="fm">__rpow__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">SetOfFO</span><span class="p">(</span> <span class="n">cfglist</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span> <span class="n">InfoDict</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">FO2</span><span class="p">,</span><span class="n">SetOfFO</span><span class="p">):</span>
                <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;pow&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">FO2</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
                <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                    <span class="k">if</span> <span class="n">iset</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                        <span class="k">if</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                        <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iFO</span> <span class="o">**</span> <span class="n">FO2</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span>
            <span class="c1"># elif type(FO2) in &#39;TwoPtCorrelators.TwoPointCorr&#39;:</span>
            <span class="c1">#     for (iset,itflow,iFO) in self.items():</span>
            <span class="c1">#         result.name = &#39;pow&#39;.join([self.name,FO2.name])</span>
            <span class="c1">#         if (itflow) not in FO2.keys(): continue</span>
            <span class="c1">#         result[(iset,itflow)] = iFO ** FO2[(itflow)]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;pow&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">NumbToFileName</span><span class="p">(</span><span class="n">FO2</span><span class="p">)])</span>
                        <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">iFO</span> <span class="o">**</span> <span class="n">FO2</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>


    <span class="c1">## Right multiplication functions</span>


    <span class="k">def</span> <span class="nf">__radd__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">FO2</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">SetOfFO</span><span class="p">(</span> <span class="n">cfglist</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span> <span class="n">InfoDict</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">FO2</span><span class="p">,</span><span class="n">SetOfFO</span><span class="p">):</span>
            <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;+&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">FO2</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                <span class="k">if</span> <span class="n">iset</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                    <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">FO2</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">+</span> <span class="n">iFO</span>
        <span class="c1"># elif type(FO2) in &#39;TwoPtCorrelators.TwoPointCorr&#39;:</span>
        <span class="c1">#     result.name = &#39;+&#39;.join([FO2.name,self.name])</span>
        <span class="c1">#     for (iset,itflow,iFO) in self.items():</span>
        <span class="c1">#         if (itflow) not in FO2.keys(): continue</span>
        <span class="c1">#         result[(iset,itflow)] = FO2[(itflow)] + iFO</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;+&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">NumbToFileName</span><span class="p">(</span><span class="n">FO2</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
                <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                    <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">FO2</span> <span class="o">+</span> <span class="n">iFO</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>


    <span class="k">def</span> <span class="nf">__rsub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">FO2</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">SetOfFO</span><span class="p">(</span> <span class="n">cfglist</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span> <span class="n">InfoDict</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">FO2</span><span class="p">,</span><span class="n">SetOfFO</span><span class="p">):</span>
            <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">FO2</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                <span class="k">if</span> <span class="n">iset</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                    <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">FO2</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">-</span> <span class="n">iFO</span>
        <span class="c1"># elif type(FO2) in &#39;TwoPtCorrelators.TwoPointCorr&#39;:</span>
        <span class="c1">#     result.name = &#39;-&#39;.join([FO2.name,self.name])</span>
        <span class="c1">#     for (iset,itflow,iFO) in self.items():</span>
        <span class="c1">#         if (itflow) not in FO2.keys(): continue</span>
        <span class="c1">#         result[(iset,itflow)] = FO2[(itflow)] - iFO</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">NumbToFileName</span><span class="p">(</span><span class="n">FO2</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
                <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                    <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">FO2</span> <span class="o">-</span> <span class="n">iFO</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">__rmul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">FO2</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">SetOfFO</span><span class="p">(</span> <span class="n">cfglist</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span> <span class="n">InfoDict</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">FO2</span><span class="p">,</span><span class="n">SetOfFO</span><span class="p">):</span>
            <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;x&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">FO2</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                <span class="k">if</span> <span class="n">iset</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                    <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">FO2</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">*</span> <span class="n">iFO</span>
        <span class="c1"># elif type(FO2) in &#39;TwoPtCorrelators.TwoPointCorr&#39;:</span>
        <span class="c1">#     result.name = &#39;x&#39;.join([FO2.name,self.name])</span>
        <span class="c1">#     for (iset,itflow,iFO) in self.items():</span>
        <span class="c1">#         if (itflow) not in FO2.keys(): continue</span>
        <span class="c1">#         result[(iset,itflow)] = FO2[(itflow)] * iFO</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;x&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">NumbToFileName</span><span class="p">(</span><span class="n">FO2</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
                <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                    <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">FO2</span> <span class="o">*</span> <span class="n">iFO</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>


    <span class="k">def</span> <span class="nf">__rdiv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">FO2</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">SetOfFO</span><span class="p">(</span> <span class="n">cfglist</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span> <span class="n">InfoDict</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">FO2</span><span class="p">,</span><span class="n">SetOfFO</span><span class="p">):</span>
            <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;div&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">FO2</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                <span class="k">if</span> <span class="n">iset</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="k">if</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                        <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">FO2</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">/</span> <span class="n">iFO</span>
                    <span class="k">except</span><span class="p">:</span>
                        <span class="k">if</span> <span class="nb">any</span><span class="p">([</span><span class="n">ibs</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">ibs</span> <span class="ow">in</span> <span class="n">iFO</span><span class="o">.</span><span class="n">bootvals</span><span class="p">]):</span>
                            <span class="k">raise</span> <span class="ne">ZeroDivisionError</span><span class="p">(</span><span class="s1">&#39;Dividing by zero found in bootstrap division for &#39;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span><span class="o">+</span><span class="n">iFO</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="c1"># elif type(FO2) in &#39;TwoPtCorrelators.TwoPointCorr&#39;:</span>
        <span class="c1">#     result.name = &#39;div&#39;.join([FO2.name,self.name])</span>
        <span class="c1">#     for (iset,itflow,iFO) in self.items():</span>
        <span class="c1">#         try:</span>
        <span class="c1">#             if (itflow) not in FO2.keys(): continue</span>
        <span class="c1">#             result[(iset,itflow)] = FO2[(itflow)] / iFO</span>
        <span class="c1">#         except:</span>
        <span class="c1">#             if any([ibs == 0 for ibs in iFO.bootvals]):</span>
        <span class="c1">#                 raise ZeroDivisionError(&#39;Dividing by zero found in bootstrap division for &#39;+FO2.name + &#39; &#39;+FO2[(itflow)].name)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;div&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">NumbToFileName</span><span class="p">(</span><span class="n">FO2</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                    <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">FO2</span> <span class="o">/</span> <span class="n">iFO</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>


    <span class="k">def</span> <span class="nf">__rpow__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">FO2</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">SetOfFO</span><span class="p">(</span> <span class="n">cfglist</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cfglist</span><span class="p">,</span> <span class="n">InfoDict</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">InfoDict</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">FO2</span><span class="p">,</span><span class="n">SetOfFO</span><span class="p">):</span>
            <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;pow&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">FO2</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                <span class="k">if</span> <span class="n">iset</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">SetFO</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">FO2</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span> <span class="k">continue</span>
                    <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">FO2</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">**</span> <span class="n">iFO</span>
        <span class="c1"># elif type(FO2) in &#39;TwoPtCorrelators.TwoPointCorr&#39;:</span>
        <span class="c1">#     result.name = &#39;pow&#39;.join([FO2.name,self.name])</span>
        <span class="c1">#     for (iset,itflow,iFO) in self.items():</span>
        <span class="c1">#         if (itflow) not in FO2.keys(): continue</span>
        <span class="c1">#         result[(iset,itflow)] = FO2[(itflow)] ** iFO</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;pow&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">NumbToFileName</span><span class="p">(</span><span class="n">FO2</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
                <span class="k">for</span> <span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">,</span><span class="n">iFO</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                    <span class="n">result</span><span class="p">[(</span><span class="n">iset</span><span class="p">,</span><span class="n">itflow</span><span class="p">)]</span> <span class="o">=</span> <span class="n">FO2</span> <span class="o">**</span> <span class="n">iFO</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s1">&#39;Invalid value to combine with BootStrap class&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span></div>
</pre></div>

          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table of Contents</h3>
          <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">Python_Analysis</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="../search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
            </form>
          </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="../py-modindex.html" title="Python Module Index"
              >modules</a> |
            <a href="../genindex.html" title="General Index"
              >index</a>
          </div>
          <div role="note" aria-label="source link">
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Jack Dragos.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.2.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>